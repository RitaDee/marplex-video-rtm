/* eslint-disable */ 
/*
 @preserve
 AgoraRTM Web SDK 1.5.1 - commit: v1.5.1-0-g5bbbcd72
 Copyright (C) 2018-2022 Agora Lab.
 This file is licensed under the AGORA, INC. SDK LICENSE AGREEMENT
 A copy of this license may be found at https://www.agora.io/en/sdk-license-agreement/
*/

!(function (e, t) { typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = t() : typeof define === 'function' && define.amd ? define(t) : (e = typeof globalThis !== 'undefined' ? globalThis : e || self).AgoraRTM = t(); }(this, (() => {
  function Be(e, t) { const n = Object.keys(e); if (Object.getOwnPropertySymbols) { let r = Object.getOwnPropertySymbols(e); t && (r = r.filter(((t) => Object.getOwnPropertyDescriptor(e, t).enumerable))), n.push.apply(n, r); } return n; } function Wa(e) { for (let t = 1; t < arguments.length; t++) { var n = arguments[t] != null ? arguments[t] : {}; t % 2 ? Be(Object(n), !0).forEach(((t) => { x(e, t, n[t]); })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Be(Object(n)).forEach(((t) => { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)); })); } return e; } function qa(e) { return (qa = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (e) { return typeof e; } : function (e) { return e && typeof Symbol === 'function' && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e; })(e); } function wm(e, t, n, r, o, i, s) { try { var a = e[i](s); var c = a.value; } catch (e) { return void n(e); }a.done ? t(c) : Promise.resolve(c).then(r, o); } function ma(e) { return function () { const t = this; const n = arguments; return new Promise(((r, o) => { function i(e) { wm(a, r, o, i, s, 'next', e); } function s(e) { wm(a, r, o, i, s, 'throw', e); } var a = e.apply(t, n); i(void 0); })); }; } function va(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function'); } function xm(e, t) { for (let n = 0; n < t.length; n++) { const r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(e, r.key, r); } } function eb(e, t, n) { return t && xm(e.prototype, t), n && xm(e, n), e; } function x(e, t, n) {
    return t in e ? Object.defineProperty(e, t, {
      value: n, enumerable: !0, configurable: !0, writable: !0,
    }) : e[t] = n, e;
  } function Ga(e, t) { if (typeof t !== 'function' && t !== null) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Jf(e, t); } function Td(e) { return (Td = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e); })(e); } function Jf(e, t) { return (Jf = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e; })(e, t); } function ym() { if (typeof Reflect === 'undefined' || !Reflect.construct || Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (() => {}))), !0; } catch (e) { return !1; } } function Ji(e, t, n) { return (Ji = ym() ? Reflect.construct : function (e, t, n) { const r = [null]; return r.push.apply(r, t), e = new (Function.bind.apply(e, r))(), n && Jf(e, n.prototype), e; }).apply(null, arguments); } function Kf(e) {
    const t = typeof Map === 'function' ? new Map() : void 0; return (Kf = function (e) {
      function n() { return Ji(e, arguments, Td(this).constructor); } if (e === null || Function.toString.call(e).indexOf('[native code]') === -1) return e; if (typeof e !== 'function') throw new TypeError('Super expression must either be null or a function'); if (void 0 !== t) { if (t.has(e)) return t.get(e); t.set(e, n); } return n.prototype = Object.create(e.prototype, {
        constructor: {
          value: n, enumerable: !1, writable: !0, configurable: !0,
        },
      }), Jf(n, e);
    })(e);
  } function Ki(e, t) { if (e == null) return {}; if (e == null) var n = {}; else { n = {}; var r; var o = Object.keys(e); for (r = 0; r < o.length; r++) { var i = o[r]; t.indexOf(i) >= 0 || (n[i] = e[i]); } } if (Object.getOwnPropertySymbols) for (r = Object.getOwnPropertySymbols(e), i = 0; i < r.length; i++)o = r[i], t.indexOf(o) >= 0 || Object.prototype.propertyIsEnumerable.call(e, o) && (n[o] = e[o]); return n; } function z(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; } function Ha(e) { const t = ym(); return function () { let n = Td(e); if (t) { const r = Td(this).constructor; n = Reflect.construct(n, arguments, r); } else n = n.apply(this, arguments); return n = !n || typeof n !== 'object' && typeof n !== 'function' ? z(this) : n; }; } function Li(e, t, n) { return (Li = typeof Reflect !== 'undefined' && Reflect.get ? Reflect.get : function (e, t, n) { for (;!Object.prototype.hasOwnProperty.call(e, t) && (e = Td(e)) !== null;);if (e) return (t = Object.getOwnPropertyDescriptor(e, t)).get ? t.get.call(n) : t.value; })(e, t, n || e); } function $a(e, t) { let n = Array.isArray(e) ? e : void 0; if (!n) if ((n = e && (typeof Symbol !== 'undefined' && e[Symbol.iterator] || e['@@iterator'])) == null)n = void 0; else { let r; const o = []; let i = !0; let s = !1; try { for (n = n.call(e); !(i = (r = n.next()).done) && (o.push(r.value), !t || o.length !== t); i = !0); } catch (e) { s = !0; var a = e; } finally { try { i || n.return == null || n.return(); } finally { if (s) throw a; } }n = o; } if (!(e = n || zm(e, t))) throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'); return e; } function Z(e) { let t = Array.isArray(e) ? Mi(e) : void 0; if (t || (t = typeof Symbol !== 'undefined' && e[Symbol.iterator] != null || e['@@iterator'] != null ? Array.from(e) : void 0), !(e = t || zm(e))) throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'); return e; } function zm(e, t) { if (e) { if (typeof e === 'string') return Mi(e, t); let n = Object.prototype.toString.call(e).slice(8, -1); if (n === 'Object' && e.constructor && (n = e.constructor.name), n === 'Map' || n === 'Set') return Array.from(e); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Mi(e, t); } } function Mi(e, t) { (t == null || t > e.length) && (t = e.length); for (var n = 0, r = Array(t); n < t; n++)r[n] = e[n]; return r; } function Da(e, t, n, r, o) { let i = {}; return Object.keys(r).forEach(((e) => { i[e] = r[e]; })), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ('value' in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(((n, r) => r(e, t, n) || n), i), o && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(o) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i; } function xb(e) { const t = { exports: {} }; return e(t, t.exports), t.exports; } function Ce(e) { e || (e = {}); let t = e.ua; if (t || typeof navigator === 'undefined' || (t = navigator.userAgent), t && t.headers && typeof t.headers['user-agent'] === 'string' && (t = t.headers['user-agent']), typeof t !== 'string') return !1; let n = Zt.test(t) && !$t.test(t) || !!e.tablet && au.test(t); return !n && e.tablet && e.featureDetect && navigator && navigator.maxTouchPoints > 1 && t.indexOf('Macintosh') !== -1 && t.indexOf('Safari') !== -1 && (n = !0), n; } function Am(e, t) { let n; const r = arguments.length < 3 ? e : arguments[2]; return Ia(e) === r ? e[t] : (n = dc.f(e, t)) ? ka(n, 'value') ? n.value : void 0 === n.get ? void 0 : n.get.call(r) : xa(n = uc(e)) ? Am(n, t, r) : void 0; } function bu(e) { let t = e.charCodeAt(0) << 24; const n = 0 | cu(~t); let r = 0; const o = 0 | e.length; let i = ''; if (n < 5 && o >= n) { for (t = t << n >>> 24 + n, r = 1; r < n; r = r + 1 | 0)t = t << 6 | 63 & e.charCodeAt(r); t <= 65535 ? i += Ud(t) : t <= 1114111 ? i += Ud(55296 + ((t = t - 65536 | 0) >> 10) | 0, 56320 + (1023 & t) | 0) : r = 0; } for (;r < o; r = r + 1 | 0)i += 'ï¿½'; return i; } function Bm() {} function du(e) { let t = 0 | e.charCodeAt(0); if (t >= 55296 && t <= 56319) { const n = 0 | e.charCodeAt(1); if (!(n == n && n >= 56320 && n <= 57343)) return Ud(239, 191, 189); if ((t = (t - 55296 << 10) + n - 56320 + 65536 | 0) > 65535) return Ud(240 | t >>> 18, 128 | t >>> 12 & 63, 128 | t >>> 6 & 63, 128 | 63 & t); } return t <= 127 ? e : t <= 2047 ? Ud(192 | t >>> 6, 128 | 63 & t) : Ud(224 | t >>> 12, 128 | t >>> 6 & 63, 128 | 63 & t); } function Cm() {} function Ba() { Ba.init.call(this); } function Wg(e) { if (typeof e !== 'function') throw new TypeError(`The "listener" argument must be of type Function. Received type ${qa(e)}`); } function Dm(e, t, n, r) { Wg(n); let o = e._events; if (void 0 === o)o = e._events = Object.create(null), e._eventsCount = 0; else { void 0 !== o.newListener && (e.emit('newListener', t, n.listener ? n.listener : n), o = e._events); var i = o[t]; } return void 0 === i ? (o[t] = n, ++e._eventsCount) : (typeof i === 'function' ? i = o[t] = r ? [n, i] : [i, n] : r ? i.unshift(n) : i.push(n), (n = void 0 === e._maxListeners ? Ba.defaultMaxListeners : e._maxListeners) > 0 && i.length > n && !i.warned && (i.warned = !0, (n = Error(`Possible EventEmitter memory leak detected. ${i.length} ${String(t)} listeners added. Use emitter.setMaxListeners() to increase limit`)).name = 'MaxListenersExceededWarning', n.emitter = e, n.type = t, n.count = i.length, console && console.warn && console.warn(n))), e; } function eu() { if (!this.fired) return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments); } function Em(e, t, n) {
    return e = {
      fired: !1, wrapFn: void 0, target: e, type: t, listener: n,
    }, (t = eu.bind(e)).listener = n, e.wrapFn = t;
  } function Fm(e, t, n) { if (void 0 === (e = e._events)) return []; if (void 0 === (t = e[t])) return []; if (typeof t === 'function') return n ? [t.listener || t] : [t]; if (n) for (n = Array(t.length), e = 0; e < n.length; ++e)n[e] = t[e].listener || t[e]; else n = Gm(t, t.length); return n; } function Hm(e) { const t = this._events; if (void 0 !== t) { if (typeof (e = t[e]) === 'function') return 1; if (void 0 !== e) return e.length; } return 0; } function Gm(e, t) { for (var n = Array(t), r = 0; r < t; ++r)n[r] = e[r]; return n; } function fu(e, t, n) { typeof e.on === 'function' && Im(e, 'error', t, n); } function Im(e, t, n, r) { if (typeof e.on === 'function')r.once ? e.once(t, n) : e.on(t, n); else { if (typeof e.addEventListener !== 'function') throw new TypeError(`The "emitter" argument must be of type EventEmitter. Received type ${qa(e)}`); e.addEventListener(t, (function o(i) { r.once && e.removeEventListener(t, o), n(i); })); } } function gu(e) { return e ? Z(e) : hu((() => []), ((e, t) => (e.push(t), e))); } function Jm(e, t) { let n; let r; let o; let i; return N.wrap(((s) => { for (;;) switch (s.prev = s.next) { case 0: n = Km(e)([Lm, Lm, function (e, t) { return t; }])[2], r = 0; case 2: if (!(r < t.length)) { s.next = 17; break; } if (o = t[r], !((i = n(Ni, o)) instanceof Xg)) { s.next = 11; break; } if ((i = Oi(i.deref())) === Ni) { s.next = 10; break; } return s.next = 10, i; case 10: return s.abrupt('return'); case 11: if (i === Ni) { s.next = 14; break; } return s.next = 14, i; case 14: r++, s.next = 2; break; case 17: case 'end': return s.stop(); } }), iu); } function Yg(e, t) { return t != null && typeof t[Symbol.iterator] === 'function' ? Jm(Yg(e), t) : function (t) { const n = t[2]; return ju(t, ((t, r) => n(t, e(r)))); }; } function $c(e) { return Object.prototype.toString.call(e).slice(8, -1); } function De(e) { return $c(e) === 'Object' && (e.constructor === Object && Object.getPrototypeOf(e) === Object.prototype); } function Mm(e) { let t; return (t = $c(e) === 'Boolean' || $c(e) === 'Null' || $c(e) === 'Undefined') || (t = $c(e) === 'Number' && !isNaN(e)), t || $c(e) === 'String' || $c(e) === 'Symbol'; } function Vd(e) { let t = -1; const n = e == null ? 0 : e.length; for (this.clear(); ++t < n;) { const r = e[t]; this.set(r[0], r[1]); } } function Ee(e) { let t = -1; const n = e == null ? 0 : e.length; for (this.clear(); ++t < n;) { const r = e[t]; this.set(r[0], r[1]); } } function Fe(e) { let t = -1; const n = e == null ? 0 : e.length; for (this.clear(); ++t < n;) { const r = e[t]; this.set(r[0], r[1]); } } function Lf(e) { let t = -1; const n = e == null ? 0 : e.length; for (this.__data__ = new Zg(); ++t < n;) this.add(e[t]); } function Ge(e) { this.size = (this.__data__ = new $g(e)).size; } function He(e, t, n, r, o, i) { let s; const a = 1 & t; let c = 2 & t; const u = 4 & t; if (n && (s = o ? n(e, r, o, i) : n(e)), void 0 !== s) return s; if (!Gb(e)) return e; if (r = ub(e)) { if (s = ku(e), !a) return Pi(e, s); } else { const l = Mf(e); const f = l == '[object Function]' || l == '[object GeneratorFunction]'; if (Nf(e)) return Nm(e, a); if (l == '[object Object]' || l == '[object Arguments]' || f && !o) { if (s = c || f ? {} : Om(e), !a) return c ? lu(e, mu(s, e)) : nu(e, ou(s, e)); } else { if (!Oa[l]) return o ? e : {}; s = pu(e, l, a); } } if (i || (i = new Ie()), o = i.get(e)) return o; i.set(e, s), qu(e) ? e.forEach(((r) => { s.add(He(r, t, n, r, e, i)); })) : ru(e) && e.forEach(((r, o) => { s.set(o, He(r, t, n, o, e, i)); })), c = u ? c ? Pm : Qi : c ? Of : Wd; const h = r ? void 0 : c(e); return su(h || e, ((r, o) => { h && (r = e[o = r]), Qm(s, o, He(r, t, n, o, e, i)); })), s; } function Ri(e, t) { if (typeof e !== 'function' || t != null && typeof t !== 'function') throw new TypeError('Expected a function'); const n = function n() { let r = arguments; const o = t ? t.apply(this, r) : r[0]; const i = n.cache; return i.has(o) ? i.get(o) : (r = e.apply(this, r), n.cache = i.set(o, r) || i, r); }; return n.cache = new (Ri.Cache || Zg)(), n; } function Rm(e) { if (typeof e === 'string') return e; if (ub(e)) return `${Je(e, Rm)}`; if (Ke(e)) return Sm ? Sm.call(e) : ''; const t = `${e}`; return t == '0' && 1 / e == -tu ? '-0' : t; } function Si(e, t, n, r, o) { let i = -1; const s = e.length; for (n || (n = uu), o || (o = []); ++i < s;) { const a = e[i]; t > 0 && n(a) ? t > 1 ? Si(a, t - 1, n, r, o) : Ti(o, a) : r || (o[o.length] = a); } return o; } function Le(e, t, n, r, o) { if (e === t)t = !0; else if (e == null || t == null || !Hc(e) && !Hc(t))t = e != e && t != t; else e: { let i = ub(e); let s = ub(t); let a = i ? '[object Array]' : Mf(e); let c = s ? '[object Array]' : Mf(t); let u = (a = a == '[object Arguments]' ? '[object Object]' : a) == '[object Object]'; if (s = (c = c == '[object Arguments]' ? '[object Object]' : c) == '[object Object]', (c = a == c) && Nf(e)) { if (!Nf(t)) { t = !1; break e; }i = !0, u = !1; } if (c && !u)o || (o = new Ie()), t = i || Ui(e) ? Tm(e, t, n, r, Le, o) : vu(e, t, a, n, r, Le, o); else { if (!(1 & n) && (i = u && Um.call(e, '__wrapped__'), a = s && Um.call(t, '__wrapped__'), i || a)) { e = i ? e.value() : e, t = a ? t.value() : t, o || (o = new Ie()), t = Le(e, t, n, r, o); break e; } if (c)t:if (o || (o = new Ie()), i = 1 & n, a = Qi(e), s = a.length, c = Qi(t).length, s == c || i) { for (c = s; c--;) { var l = a[c]; if (!(i ? l in t : wu.call(t, l))) { t = !1; break t; } } if (u = o.get(e), l = o.get(t), u && l)t = u == t && l == e; else { u = !0, o.set(e, t), o.set(t, e); for (var f = i; ++c < s;) { const h = e[l = a[c]]; const p = t[l]; if (r) var d = i ? r(p, h, l, t, e, o) : r(h, p, l, e, t, o); if (void 0 === d ? h !== p && !Le(h, p, n, r, o) : !d) { u = !1; break; }f || (f = l == 'constructor'); }u && !f && ((n = e.constructor) != (r = t.constructor) && 'constructor' in e && 'constructor' in t && !(typeof n === 'function' && n instanceof n && typeof r === 'function' && r instanceof r) && (u = !1)), o.delete(e), o.delete(t), t = u; } } else t = !1; else t = !1; } } return t; } function Pa(e, t, n) { this.low = 0 | e, this.high = 0 | t, this.unsigned = !!n; } function Hb(e) { return !0 === (e && e.__isLong__); } function Xd(e, t) { let n; if (t) { if ((t = (e >>>= 0) >= 0 && e < 256) && (n = Vm[e])) return n; n = Qa(e, (0 | e) < 0 ? -1 : 0, !0), t && (Vm[e] = n); } else { if ((t = (e |= 0) >= -128 && e < 128) && (n = Wm[e])) return n; n = Qa(e, e < 0 ? -1 : 0, !1), t && (Wm[e] = n); } return n; } function ec(e, t) { if (isNaN(e)) return t ? Yd : fc; if (t) { if (e < 0) return Yd; if (e >= Xm) return Ym; } else { if (e <= -Zm) return Ib; if (e + 1 >= Zm) return $m; } return e < 0 ? ec(-e, t).neg() : Qa(e % Me | 0, e / Me | 0, t); } function Qa(e, t, n) { return new Pa(e, t, n); } function Vi(e, t, n) { if (e.length === 0) throw Error('empty string'); if (e === 'NaN' || e === 'Infinity' || e === '+Infinity' || e === '-Infinity') return fc; if (typeof t === 'number' ? (n = t, t = !1) : t = !!t, (n = n || 10) < 2 || n > 36) throw RangeError('radix'); let r; if ((r = e.indexOf('-')) > 0) throw Error('interior hyphen'); if (r === 0) return Vi(e.substring(1), t, n).neg(); r = ec(ah(n, 8)); for (var o = fc, i = 0; i < e.length; i += 8) { let s = Math.min(8, e.length - i); const a = parseInt(e.substring(i, i + s), n); s < 8 ? (s = ec(ah(n, s)), o = o.mul(s).add(ec(a))) : o = (o = o.mul(r)).add(ec(a)); } return o.unsigned = t, o; } function vc(e, t) { return typeof e === 'number' ? ec(e, t) : typeof e === 'string' ? Vi(e, t) : Qa(e.low, e.high, typeof t === 'boolean' ? t : e.unsigned); } function ha(e, t) { function n() { this.constructor = e; }Wi(e, t), e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n()); } function Ne(e) { return typeof e === 'function'; } function Oe(e) { setTimeout((() => { throw e; }), 0); } function Xi(e) { return e !== null && qa(e) === 'object'; } function an(e) { return e.reduce(((e, t) => e.concat(t instanceof Pf ? t.errors : t)), []); } function Yi(e) { for (;e;) { const t = e.destination; const n = e.isStopped; if (e.closed || n) return !1; e = t && t instanceof za ? t : null; } return !0; } function wd(e) { return e; } function Zi() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return bn(e); } function bn(e) { return e.length === 0 ? wd : e.length === 1 ? e[0] : function (t) { return e.reduce(((e, t) => t(e)), t); }; } function cn(e) { if (e || (e = gc.Promise || Promise), !e) throw Error('no Promise impl found'); return e; } function dn() { return function (e) { return e.lift(new xu(e)); }; } function Qf(e) { return e ? yu(e) : Sb; } function yu(e) { return new ua(((t) => e.schedule((() => t.complete())))); } function ad(e) { return e && typeof e.schedule === 'function'; } function $i(e, t) {
    return new ua(((n) => {
      const r = new nb(); let
        o = 0; return r.add(t.schedule((function () { o === e.length ? n.complete() : (n.next(e[o++]), n.closed || r.add(this.schedule())); }))), r;
    }));
  } function Rf(e, t) { return t ? $i(e, t) : new ua(en(e)); } function ob() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return ad(t = e[e.length - 1]) ? (e.pop(), $i(e, t)) : Rf(e); } function ra(e, t) { return new ua(t ? (n) => t.schedule(zu, 0, { error: e, subscriber: n }) : (t) => t.error(e)); } function zu(e) { e.subscriber.error(e.error); } function Au(e, t) { return void 0 === t && (t = 0), function (n) { return n.lift(new Bu(e, t)); }; } function fn(e) { return e in aj && (delete aj[e], !0); } function Ic() {} function Ea(e, t) { return function (n) { if (typeof e !== 'function') throw new TypeError('argument is not a function. Are you looking for `mapTo()`?'); return n.lift(new Cu(e, t)); }; } function gn(e, t, n) {
    if (t) { if (!ad(t)) return function () { for (var r = [], o = 0; o < arguments.length; o++)r[o] = arguments[o]; return gn(e, n).apply(void 0, r).pipe(Ea(((e) => (hc(e) ? t.apply(void 0, e) : t(e))))); }; n = t; } return function () {
      for (var t = [], r = 0; r < arguments.length; r++)t[r] = arguments[r]; let o; const i = this; const s = {
        context: i, subject: o, callbackFunc: e, scheduler: n,
      }; return new ua(((r) => { if (n) return n.schedule(Du, 0, { args: t, subscriber: r, params: s }); if (!o) { o = new Sf(); try { e.apply(i, t.concat([function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; o.next(e.length <= 1 ? e[0] : e), o.complete(); }])); } catch (e) { Yi(o) ? o.error(e) : console.warn(e); } } return o.subscribe(r); }));
    };
  } function Du(e) { const t = this; const n = e.args; const r = e.subscriber; let o = e.params; e = o.callbackFunc; const i = o.context; const s = o.scheduler; let a = o.subject; if (!a) { a = o.subject = new Sf(), o = function () { for (var e = [], n = 0; n < arguments.length; n++)e[n] = arguments[n]; t.add(s.schedule(Eu, 0, { value: e.length <= 1 ? e[0] : e, subject: a })); }; try { e.apply(i, n.concat([o])); } catch (e) { a.error(e); } } this.add(a.subscribe(r)); } function Eu(e) { const t = e.subject; t.next(e.value), t.complete(); } function hn(e, t, n) {
    if (t) { if (!ad(t)) return function () { for (var r = [], o = 0; o < arguments.length; o++)r[o] = arguments[o]; return hn(e, n).apply(void 0, r).pipe(Ea(((e) => (hc(e) ? t.apply(void 0, e) : t(e))))); }; n = t; } return function () {
      for (var t = [], r = 0; r < arguments.length; r++)t[r] = arguments[r]; const o = {
        subject: void 0, args: t, callbackFunc: e, scheduler: n, context: this,
      }; return new ua(((r) => { const i = o.context; let s = o.subject; if (n) return n.schedule(Fu, 0, { params: o, subscriber: r, context: i }); if (!s) { s = o.subject = new Sf(); try { e.apply(i, t.concat([function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; (t = e.shift()) ? s.error(t) : (s.next(e.length <= 1 ? e[0] : e), s.complete()); }])); } catch (e) { Yi(s) ? s.error(e) : console.warn(e); } } return s.subscribe(r); }));
    };
  } function Fu(e) { const t = this; let n = e.params; const r = e.subscriber; e = e.context; const o = n.callbackFunc; const i = n.args; const s = n.scheduler; let a = n.subject; if (!a) { a = n.subject = new Sf(), n = function () { for (var e = [], n = 0; n < arguments.length; n++)e[n] = arguments[n]; (n = e.shift()) ? t.add(s.schedule(jn, 0, { err: n, subject: a })) : t.add(s.schedule(Gu, 0, { value: e.length <= 1 ? e[0] : e, subject: a })); }; try { o.apply(e, i.concat([n])); } catch (e) { this.add(s.schedule(jn, 0, { err: e, subject: a })); } } this.add(a.subscribe(r)); } function Gu(e) { const t = e.subject; t.next(e.value), t.complete(); } function jn(e) { e.subject.error(e.err); } function kn(e) { return !!e && typeof e.subscribe !== 'function' && typeof e.then === 'function'; } function bj(e, t, n, r, o) { if (void 0 === o && (o = new Hu(e, n, r)), !o.closed) return t instanceof ua ? t.subscribe(o) : Tf(t)(o); } function Iu(e, t) { return new ua(((n) => { const r = new nb(); return r.add(t.schedule((() => { const o = e[Pe](); r.add(o.subscribe({ next(e) { r.add(t.schedule((() => n.next(e)))); }, error(e) { r.add(t.schedule((() => n.error(e)))); }, complete() { r.add(t.schedule((() => n.complete()))); } })); }))), r; })); } function Ju(e, t) { return new ua(((n) => { const r = new nb(); return r.add(t.schedule((() => e.then(((e) => { r.add(t.schedule((() => { n.next(e), r.add(t.schedule((() => n.complete()))); }))); }), ((e) => { r.add(t.schedule((() => n.error(e)))); }))))), r; })); } function Ku(e, t) { if (!e) throw Error('Iterable cannot be null'); return new ua(((n) => { let r; const o = new nb(); return o.add((() => { r && typeof r.return === 'function' && r.return(); })), o.add(t.schedule((() => { r = e[xd](), o.add(t.schedule((function () { if (!n.closed) { try { const e = r.next(); var t = e.value; var o = e.done; } catch (e) { return void n.error(e); }o ? n.complete() : (n.next(t), this.schedule()); } }))); }))), o; })); } function ln(e, t) { if (e != null) { if (e && typeof e[Pe] === 'function') return Iu(e, t); if (kn(e)) return Ju(e, t); if (mn(e)) return $i(e, t); if (e && typeof e[xd] === 'function' || typeof e === 'string') return Ku(e, t); } throw new TypeError(`${e !== null && qa(e) || e} is not observable`); } function Jc(e, t) { return t ? ln(e, t) : e instanceof ua ? e : new ua(Tf(e)); } function bd(e, t) { if (!t.closed) { if (e instanceof ua) return e.subscribe(t); try { var n = Tf(e)(t); } catch (e) { t.error(e); } return n; } } function Cb(e, t, n) { return void 0 === n && (n = Number.POSITIVE_INFINITY), typeof t === 'function' ? function (r) { return r.pipe(Cb(((n, r) => Jc(e(n, r)).pipe(Ea(((e, o) => t(n, e, r, o))))), n)); } : (typeof t === 'number' && (n = t), function (t) { return t.lift(new Lu(e, n)); }); } function bh(e) { return void 0 === e && (e = Number.POSITIVE_INFINITY), Cb(wd, e); } function nn() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return bh(1)(ob.apply(void 0, e)); } function yd(e) { return new ua(((t) => { try { var n = e(); } catch (e) { return void t.error(e); } return (n ? Jc(n) : Qf()).subscribe(t); })); } function ch(e, t) { return new ua(((n) => { const r = e.length; if (r === 0)n.complete(); else for (var o = Array(r), i = 0, s = 0, a = function (a) { const c = Jc(e[a]); let u = !1; n.add(c.subscribe({ next(e) { u || (u = !0, s++), o[a] = e; }, error(e) { return n.error(e); }, complete() { ++i !== r && u || (s === r && n.next(t ? t.reduce(((e, t, n) => (e[t] = o[n], e)), {}) : o), n.complete()); } })); }, c = 0; c < r; c++)a(c); })); } function Db(e, t, n, r) { return Ne(n) && (r = n, n = void 0), r ? Db(e, t, n).pipe(Ea(((e) => (hc(e) ? r.apply(void 0, e) : r(e))))) : new ua(((r) => { on(e, t, (function (e) { arguments.length > 1 ? r.next(Array.prototype.slice.call(arguments)) : r.next(e); }), r, n); })); } function on(e, t, n, r, o) { if (e && typeof e.addEventListener === 'function' && typeof e.removeEventListener === 'function') { e.addEventListener(t, n, o); var i = function () { return e.removeEventListener(t, n, o); }; } else if (e && typeof e.on === 'function' && typeof e.off === 'function')e.on(t, n), i = function () { return e.off(t, n); }; else if (e && typeof e.addListener === 'function' && typeof e.removeListener === 'function')e.addListener(t, n), i = function () { return e.removeListener(t, n); }; else { if (!e || !e.length) throw new TypeError('Invalid event target'); for (let s = 0, a = e.length; s < a; s++)on(e[s], t, n, r, o); }r.add(i); } function pn(e, t, n) { return n ? pn(e, t).pipe(Ea(((e) => (hc(e) ? n.apply(void 0, e) : n(e))))) : new ua(((n) => { const r = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return n.next(e.length === 1 ? e[0] : e); }; try { var o = e(r); } catch (e) { return void n.error(e); } if (Ne(t)) return function () { return t(r, o); }; })); } function Mu(e) { const t = e.subscriber; const n = e.condition; if (!t.closed) { if (e.needIterate) try { e.state = e.iterate(e.state); } catch (e) { return void t.error(e); } else e.needIterate = !0; if (n) { let r = void 0; try { r = n(e.state); } catch (e) { return void t.error(e); } if (!r) return void t.complete(); if (t.closed) return; } try { var o = e.resultSelector(e.state); } catch (e) { return void t.error(e); } if (!t.closed && (t.next(o), !t.closed)) return this.schedule(e); } } function cj(e) { return !hc(e) && e - parseFloat(e) + 1 >= 0; } function Qe(e, t) { return void 0 === e && (e = 0), void 0 === t && (t = cd), (!cj(e) || e < 0) && (e = 0), t && typeof t.schedule === 'function' || (t = cd), new ua(((n) => (n.add(t.schedule(Nu, e, { subscriber: n, counter: 0, period: e })), n))); } function Nu(e) { const t = e.subscriber; const n = e.counter; e = e.period, t.next(n), this.schedule({ subscriber: t, counter: n + 1, period: e }, e); } function Jb() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; t = Number.POSITIVE_INFINITY; let n = null; const r = e[e.length - 1]; return ad(r) ? (n = e.pop(), e.length > 1 && typeof e[e.length - 1] === 'number' && (t = e.pop())) : typeof r === 'number' && (t = e.pop()), n === null && e.length === 1 && e[0] instanceof ua ? e[0] : bh(t)(Rf(e, n)); } function dj() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; if (e.length === 0) return Sb; const n = e[0]; const r = e.slice(1); return e.length === 1 && hc(n) ? dj.apply(void 0, n) : new ua(((e) => { const t = function () { return e.add(dj.apply(void 0, r).subscribe(e)); }; return Jc(n).subscribe({ next(t) { e.next(t); }, error: t, complete: t }); })); } function Ou(e) {
    const t = e.keys; const n = e.index; const r = e.subscriber; const o = e.subscription; if (e = e.obj, !r.closed) {
      if (n < t.length) {
        const i = t[n]; r.next([i, e[i]]), o.add(this.schedule({
          keys: t, index: n + 1, subscriber: r, subscription: o, obj: e,
        }));
      } else r.complete();
    }
  } function Pu(e, t) { function n() { return !n.pred.apply(n.thisArg, arguments); } return n.pred = e, n.thisArg = t, n; } function yb(e, t) { return function (n) { return n.lift(new Qu(e, t)); }; } function fb() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; if (e.length === 1) { if (!hc(e[0])) return e[0]; e = e[0]; } return Rf(e, void 0).lift(new Ru()); } function Su(e) { const t = e.start; const n = e.index; const r = e.subscriber; n >= e.count ? r.complete() : (r.next(t), r.closed || (e.index = n + 1, e.start = t + 1, this.schedule(e))); } function dd(e, t, n) { void 0 === e && (e = 0); let r = -1; return cj(t) ? r = Number(t) < 1 ? 1 : Number(t) : ad(t) && (n = t), ad(n) || (n = cd), new ua(((t) => { const o = cj(e) ? e : +e - n.now(); return n.schedule(Tu, o, { index: 0, period: r, subscriber: t }); })); } function Tu(e) { const t = e.index; const n = e.period; const r = e.subscriber; if (r.next(t), !r.closed) { if (n === -1) return r.complete(); e.index = t + 1, this.schedule(e, n); } } function ej() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return typeof (t = e[e.length - 1]) === 'function' && e.pop(), Rf(e, void 0).lift(new Uu(t)); } function dh(e) { let t = arguments.length; let n = cd; ad(arguments[arguments.length - 1]) && (n = arguments[arguments.length - 1], t--); let r = null; t >= 2 && (r = arguments[1]); let o = Number.POSITIVE_INFINITY; return t >= 3 && (o = arguments[2]), function (t) { return t.lift(new Vu(e, r, o, n)); }; } function qn(e) { const t = e.subscriber; const n = e.context; n && t.closeContext(n), t.closed || (e.context = t.openContext(), e.context.closeAction = this.schedule(e, e.bufferTimeSpan)); } function Wu(e) { const t = e.bufferCreationInterval; const n = e.bufferTimeSpan; const r = e.subscriber; const o = e.scheduler; const i = r.openContext(); r.closed || (r.add(i.closeAction = o.schedule(rn, n, { subscriber: r, context: i })), this.schedule(e, t)); } function rn(e) { e.subscriber.closeContext(e.context); } function ab(e) { return function (t) { const n = new Xu(e); return t = t.lift(n), n.caught = t; }; } function fj(e, t) { return Cb(e, t, 1); } function sn(e) { return void 0 === e && (e = null), function (t) { return t.lift(new Yu(e)); }; } function Zd(e, t) { void 0 === t && (t = cd); const n = e instanceof Date && !isNaN(+e) ? +e - t.now() : Math.abs(e); return function (e) { return e.lift(new Zu(n, t)); }; } function tn(e, t) { return function (n) { return n.lift(new $u(e, t)); }; } function $d(e) { return void 0 === e && (e = av), function (t) { return t.lift(new bv(e)); }; } function av() { return new eh(); } function hb(e) { return function (t) { return e === 0 ? Qf() : t.lift(new cv(e)); }; } function fh(e) { return function (t) { return t.lift(new dv(e)); }; } function Ca(e, t) { const n = arguments.length >= 2; return function (r) { return r.pipe(e ? yb(((t, n) => e(t, n, r))) : wd, hb(1), n ? sn(t) : $d((() => new eh()))); }; } function ev() { return function (e) { return e.lift(new fv()); }; } function un(e) { return function (t) { return e === 0 ? Qf() : t.lift(new gv(e)); }; } function Uf(e) { return function (t) { return t.lift(new hv(e)); }; } function gh(e, t) { let n = !1; return arguments.length >= 2 && (n = !0), function (r) { return r.lift(new iv(e, t, n)); }; } function vn(e, t) { return arguments.length >= 2 ? function (n) { return Zi(gh(e, t), un(1), sn(t))(n); } : function (t) { return Zi(gh(((t, n, r) => e(t, n, r + 1))), un(1))(t); }; } function jv(e, t) { return function (n) { const r = typeof e === 'function' ? e : function () { return e; }; if (typeof t === 'function') return n.lift(new kv(r, t)); const o = Object.create(n, lv); return o.source = n, o.subjectFactory = r, o; }; } function Re(e) { return function (t) { return t.lift(new mv(e, t)); }; } function nv() { return new rb(); } function Se() { return function (e) { return dn()(jv(nv)(e)); }; } function wn(e, t, n) {
    const r = e && qa(e) === 'object' ? e : {
      bufferSize: e, windowTime: t, refCount: !1, scheduler: n,
    }; return function (e) { return e.lift(ov(r)); };
  } function ov(e) { let t; let n; let r = e.bufferSize; const o = void 0 === r ? Number.POSITIVE_INFINITY : r; const i = void 0 === (r = e.windowTime) ? Number.POSITIVE_INFINITY : r; const s = e.refCount; const a = e.scheduler; let c = 0; let u = !1; let l = !1; return function (e) { if (c++, !t || u) { u = !1; var r = (t = new Te(o, i, a)).subscribe(this); n = e.subscribe({ next(e) { t.next(e); }, error(e) { u = !0, t.error(e); }, complete() { l = !0, n = void 0, t.complete(); } }), l && (n = void 0); } else r = t.subscribe(this); this.add((() => { c--, r.unsubscribe(), r = void 0, n && !l && s && c === 0 && (n.unsubscribe(), t = n = void 0); })); }; } function Kb(e, t) { return typeof t === 'function' ? function (n) { return n.pipe(Kb(((n, r) => Jc(e(n, r)).pipe(Ea(((e, o) => t(n, e, r, o))))))); } : function (t) { return t.lift(new pv(e)); }; } function Kc(e) { return function (t) { return t.lift(new qv(e)); }; } function sa(e, t, n) { return function (r) { return r.lift(new rv(e, t, n)); }; } function sv(e, t, n) { return void 0 === t && (t = cd), void 0 === n && (n = tv), function (r) { return r.lift(new uv(e, t, n.leading, n.trailing)); }; } function vv(e) { e.subscriber.clearThrottle(); } function wv(e, t, n) { return void 0 === n && (n = cd), function (r) { const o = e instanceof Date && !isNaN(+e); const i = o ? +e - n.now() : Math.abs(e); return r.lift(new xv(i, o, t, n)); }; } function Lb(e, t) { return void 0 === t && (t = cd), wv(e, ra(new Tb()), t); } function yv() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return function (t) { let n; return typeof e[e.length - 1] === 'function' && (n = e.pop()), t.lift(new zv(e, n)); }; } function xn(e) { (gj || e) && (yn.abort(), e && (yn = new AbortController()), gj = e); } function zn(e, t, n, r, o) { e !== t && An(t, ((i, s) => { if (o || (o = new Ie()), Gb(i)) { i = o; var a = hj(e, s); const c = hj(t, s); let u = i.get(c); if (u)ij(e, s, u); else { let l = void 0 === (u = r ? r(a, c, `${s}`, e, t, i) : void 0); if (l) { const f = ub(c); const h = !f && Nf(c); const p = !f && !h && Ui(c); u = c, f || h || p ? ub(a) ? u = a : Hc(a) && ae(a) ? u = Pi(a) : h ? (l = !1, u = Nm(c, !0)) : p ? (l = !1, u = Bn(c, !0)) : u = [] : Cn(c) || Vf(c) ? (u = a, Vf(a) ? u = Ue(a, Of(a)) : Gb(a) && !jj(a) || (u = Om(c))) : l = !1; }l && (i.set(c, u), zn(u, c, n, r, i), i.delete(c)), ij(e, s, u); } } else void 0 === (a = r ? r(hj(e, s), i, `${s}`, e, t, o) : void 0) && (a = i), ij(e, s, a); }), Of); } function Av(e) { let t = 1; let n = kj; (arguments.length <= 1 ? 0 : arguments.length - 1) == 1 ? typeof (arguments.length <= 1 ? void 0 : arguments[1]) === 'number' ? t = arguments.length <= 1 ? void 0 : arguments[1] : n = arguments.length <= 1 ? void 0 : arguments[1] : (arguments.length <= 1 ? 0 : arguments.length - 1) == 2 && (t = arguments.length <= 1 ? void 0 : arguments[1], n = arguments.length <= 2 ? void 0 : arguments[2]); const r = t || 1; return function (t) { return t.pipe(gh(((t, o) => { const i = n.now(); const s = i - e; if ((t = t.filter(((e) => e.until > s))).length >= r) { const a = t[t.length - 1]; const c = t[0].until + e * Math.floor(t.length / r); t.push({ delay: a.until < i ? c - i : c - a.until, until: c, value: o }); } else t.push({ delay: 0, until: i, value: o }); return t; }), []), Ea(((e) => e[e.length - 1])), fj(((e) => { const t = ob(e.value); return e.delay ? t.pipe(Zd(e.delay, n)) : t; }))); }; } function Bv(e, t) { const n = (t = void 0 === t ? { protocols: Dn, makeWebSocket: En } : t).protocols; const r = void 0 === n ? Dn : n; const o = void 0 === (t = t.makeWebSocket) ? En : t; return new ua(((t) => { let n; const i = new rb(); const s = o(e, r); let a = !1; let c = !1; let u = !1; const l = function (e) { if (n) throw a = !0, e = Error('Web socket message factory function called more than once'), t.error(e), e; return n = e.subscribe(((e) => { s.send(e); })), i; }; return s.onopen = function () { u = !0, c ? (a = !0, s.close()) : t.next(l); }, s.onmessage = function (e) { i.next(e.data); }, s.onerror = function (e) { a = !0, t.error(Error(e.message)); }, s.onclose = function (e) { a || (a = !0, c ? (t.complete(), i.complete()) : t.error(Error(e.code === 1e3 ? 'Normal closure' : e.reason))); }, function () { c = !0, n && n.unsubscribe(), a || (a = !0, u && s.close()); }; })); } function hh() { this._listeners = {}; } function Fn(e) { return typeof Float32Array !== 'undefined' ? (function () { function t(e, t, n) { i[0] = e, t[n] = s[0], t[n + 1] = s[1], t[n + 2] = s[2], t[n + 3] = s[3]; } function n(e, t, n) { i[0] = e, t[n] = s[3], t[n + 1] = s[2], t[n + 2] = s[1], t[n + 3] = s[0]; } function r(e, t) { return s[0] = e[t], s[1] = e[t + 1], s[2] = e[t + 2], s[3] = e[t + 3], i[0]; } function o(e, t) { return s[3] = e[t], s[2] = e[t + 1], s[1] = e[t + 2], s[0] = e[t + 3], i[0]; } var i = new Float32Array([-0]); var s = new Uint8Array(i.buffer); const a = s[3] === 128; e.writeFloatLE = a ? t : n, e.writeFloatBE = a ? n : t, e.readFloatLE = a ? r : o, e.readFloatBE = a ? o : r; }()) : (function () { function t(e, t, n, r) { const o = t < 0 ? 1 : 0; if (o && (t = -t), t === 0)e(1 / t > 0 ? 0 : 2147483648, n, r); else if (isNaN(t))e(2143289344, n, r); else if (t > 34028234663852886e22)e((o << 31 | 2139095040) >>> 0, n, r); else if (t < 11754943508222875e-54)e((o << 31 | Math.round(t / 1401298464324817e-60)) >>> 0, n, r); else { const i = Math.floor(Math.log(t) / Math.LN2); e((o << 31 | i + 127 << 23 | 8388607 & Math.round(t * Math.pow(2, -i) * 8388608)) >>> 0, n, r); } } function n(e, t, n) { return n = e(t, n), e = 2 * (n >> 31) + 1, t = n >>> 23 & 255, n &= 8388607, t === 255 ? n ? NaN : 1 / 0 * e : t === 0 ? 1401298464324817e-60 * e * n : e * Math.pow(2, t - 150) * (n + 8388608); }e.writeFloatLE = t.bind(null, Gn), e.writeFloatBE = t.bind(null, Hn), e.readFloatLE = n.bind(null, In), e.readFloatBE = n.bind(null, Jn); }()), typeof Float64Array !== 'undefined' ? (function () { function t(e, t, n) { i[0] = e, t[n] = s[0], t[n + 1] = s[1], t[n + 2] = s[2], t[n + 3] = s[3], t[n + 4] = s[4], t[n + 5] = s[5], t[n + 6] = s[6], t[n + 7] = s[7]; } function n(e, t, n) { i[0] = e, t[n] = s[7], t[n + 1] = s[6], t[n + 2] = s[5], t[n + 3] = s[4], t[n + 4] = s[3], t[n + 5] = s[2], t[n + 6] = s[1], t[n + 7] = s[0]; } function r(e, t) { return s[0] = e[t], s[1] = e[t + 1], s[2] = e[t + 2], s[3] = e[t + 3], s[4] = e[t + 4], s[5] = e[t + 5], s[6] = e[t + 6], s[7] = e[t + 7], i[0]; } function o(e, t) { return s[7] = e[t], s[6] = e[t + 1], s[5] = e[t + 2], s[4] = e[t + 3], s[3] = e[t + 4], s[2] = e[t + 5], s[1] = e[t + 6], s[0] = e[t + 7], i[0]; } var i = new Float64Array([-0]); var s = new Uint8Array(i.buffer); const a = s[7] === 128; e.writeDoubleLE = a ? t : n, e.writeDoubleBE = a ? n : t, e.readDoubleLE = a ? r : o, e.readDoubleBE = a ? o : r; }()) : (function () { function t(e, t, n, r, o, i) { const s = r < 0 ? 1 : 0; if (s && (r = -r), r === 0)e(0, o, i + t), e(1 / r > 0 ? 0 : 2147483648, o, i + n); else if (isNaN(r))e(0, o, i + t), e(2146959360, o, i + n); else if (r > 17976931348623157e292)e(0, o, i + t), e((s << 31 | 2146435072) >>> 0, o, i + n); else if (r < 22250738585072014e-324)e((r /= 5e-324) >>> 0, o, i + t), e((s << 31 | r / 4294967296) >>> 0, o, i + n); else { let a = Math.floor(Math.log(r) / Math.LN2); a === 1024 && (a = 1023), e(4503599627370496 * (r *= Math.pow(2, -a)) >>> 0, o, i + t), e((s << 31 | a + 1023 << 20 | 1048576 * r & 1048575) >>> 0, o, i + n); } } function n(e, t, n, r, o) { return t = e(r, o + t), r = e(r, o + n), e = 2 * (r >> 31) + 1, t = 4294967296 * (1048575 & r) + t, (n = r >>> 20 & 2047) === 2047 ? t ? NaN : 1 / 0 * e : n === 0 ? 5e-324 * e * t : e * Math.pow(2, n - 1075) * (t + 4503599627370496); }e.writeDoubleLE = t.bind(null, Gn, 0, 4), e.writeDoubleBE = t.bind(null, Hn, 4, 0), e.readDoubleLE = n.bind(null, In, 0, 4), e.readDoubleBE = n.bind(null, Jn, 4, 0); }()), e; } function Gn(e, t, n) { t[n] = 255 & e, t[n + 1] = e >>> 8 & 255, t[n + 2] = e >>> 16 & 255, t[n + 3] = e >>> 24; } function Hn(e, t, n) { t[n] = e >>> 24, t[n + 1] = e >>> 16 & 255, t[n + 2] = e >>> 8 & 255, t[n + 3] = 255 & e; } function In(e, t) { return (e[t] | e[t + 1] << 8 | e[t + 2] << 16 | e[t + 3] << 24) >>> 0; } function Jn(e, t) { return (e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3]) >>> 0; } function vb(e, t) { this.lo = e >>> 0, this.hi = t >>> 0; } function Wf(e, t, n) { this.fn = e, this.len = t, this.next = void 0, this.val = n; } function lj() {} function Cv(e) { this.head = e.head, this.tail = e.tail, this.len = e.len, this.next = e.states; } function Aa() { this.len = 0, this.tail = this.head = new Wf(lj, 0, 0), this.states = null; } function mj(e, t, n) { t[n] = 255 & e; } function nj(e, t) { this.len = e, this.next = void 0, this.val = t; } function oj(e, t, n) { for (;e.hi;)t[n++] = 127 & e.lo | 128, e.lo = (e.lo >>> 7 | e.hi << 25) >>> 0, e.hi >>>= 7; for (;e.lo > 127;)t[n++] = 127 & e.lo | 128, e.lo >>>= 7; t[n++] = e.lo; } function pj(e, t, n) { t[n] = 255 & e, t[n + 1] = e >>> 8 & 255, t[n + 2] = e >>> 16 & 255, t[n + 3] = e >>> 24; } function Lc() { qj.call(this); } function Dv(e, t, n) { e.length < 40 ? pa.utf8.write(e, t, n) : t.utf8Write ? t.utf8Write(e, n) : t.write(e, n); } function wc(e, t) { return RangeError(`index out of range: ${e.pos} + ${t || 1} > ${e.len}`); } function ib(e) { this.buf = e, this.pos = 0, this.len = e.length; } function rj() { const e = new Kn(0, 0); let t = 0; if (!(this.len - this.pos > 4)) { for (;t < 3; ++t) { if (this.pos >= this.len) throw wc(this); if (e.lo = (e.lo | (127 & this.buf[this.pos]) << 7 * t) >>> 0, this.buf[this.pos++] < 128) return e; } return e.lo = (e.lo | (127 & this.buf[this.pos++]) << 7 * t) >>> 0, e; } for (;t < 4; ++t) if (e.lo = (e.lo | (127 & this.buf[this.pos]) << 7 * t) >>> 0, this.buf[this.pos++] < 128) return e; if (e.lo = (e.lo | (127 & this.buf[this.pos]) << 28) >>> 0, e.hi = (e.hi | (127 & this.buf[this.pos]) >> 4) >>> 0, this.buf[this.pos++] < 128) return e; if (t = 0, this.len - this.pos > 4) { for (;t < 5; ++t) if (e.hi = (e.hi | (127 & this.buf[this.pos]) << 7 * t + 3) >>> 0, this.buf[this.pos++] < 128) return e; } else for (;t < 5; ++t) { if (this.pos >= this.len) throw wc(this); if (e.hi = (e.hi | (127 & this.buf[this.pos]) << 7 * t + 3) >>> 0, this.buf[this.pos++] < 128) return e; } throw Error('invalid varint encoding'); } function ih(e, t) { return (e[t - 4] | e[t - 3] << 8 | e[t - 2] << 16 | e[t - 1] << 24) >>> 0; } function Ln() { if (this.pos + 8 > this.len) throw wc(this, 8); return new Kn(ih(this.buf, this.pos += 4), ih(this.buf, this.pos += 4)); } function be(e) { sj.call(this, e); } function Xf(e, t, n) { if (typeof e !== 'function') throw TypeError('rpcImpl must be a function'); pa.EventEmitter.call(this), this.rpcImpl = e, this.requestDelimited = !!t, this.responseDelimited = !!n; } function Mn(e) { const t = []; return (function e(n) { if (n === null || qa(n) !== 'object') return n; if (t.indexOf(n) !== -1) return '[Circular]'; if (t.push(n), typeof n.toJSON === 'function') try { var r = e(n.toJSON()); return t.pop(), r; } catch (e) { return `[Throws: ${e ? e.message : '?'}]`; } return Array.isArray(n) ? (r = n.map(e), t.pop(), r) : (r = Object.keys(n).reduce(((t, r) => { e: { if (Ev.call(n, r)) try { var o = n[r]; break e; } catch (e) { o = `[Throws: ${e ? e.message : '?'}]`; break e; }o = n[r]; } return t[r] = e(o), t; }), {}), t.pop(), r); }(e)); } function Fv(e) { if (!((e = String(e)).length > 100) && (e = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))) { const t = parseFloat(e[1]); switch ((e[2] || 'ms').toLowerCase()) { case 'years': case 'year': case 'yrs': case 'yr': case 'y': return 315576e5 * t; case 'weeks': case 'week': case 'w': return 6048e5 * t; case 'days': case 'day': case 'd': return 864e5 * t; case 'hours': case 'hour': case 'hrs': case 'hr': case 'h': return 36e5 * t; case 'minutes': case 'minute': case 'mins': case 'min': case 'm': return 6e4 * t; case 'seconds': case 'second': case 'secs': case 'sec': case 's': return 1e3 * t; case 'milliseconds': case 'millisecond': case 'msecs': case 'msec': case 'ms': return t; } } } function jh(e, t, n, r) { return `${Math.round(e / n)} ${r}${t >= 1.5 * n ? 's' : ''}`; } function Gv(e) { let t = e.areas; const n = e.excludedArea; if (t.length === 1 && t[0] === S.GLOBAL && n === S.CHINA) return Ve([S.OVERSEA]); if (t.includes(S.GLOBAL)) { if (e = Yf(kh).filter(((e) => e !== S.GLOBAL && e !== S.OVERSEA)), n in Zf) { t = Zf[n]; const r = [].concat(Z(t != null ? t : []), [n]); return Ve(e.filter(((e) => !r.includes(e)))); } if (Nn(n)) { const o = Hv(n); return Ve(e.filter(((e) => e !== n && e !== o))); } } if (Nn(n) || n in Zf) return Ve(t); throw new ca('Invalid excludedArea area config'); } function jb(e, t, n) { void 0 === n && (n = Object.getOwnPropertyDescriptor(e, t)); const r = n.value; return n.value = function () { for (var e = this, n = arguments.length, o = Array(n), i = 0; i < n; i++)o[i] = arguments[i]; this.invokeTracker.apply(this, ['%s: '.concat(o.length > 0 ? '%s with args: '.concat(o.map((() => '%o'))) : '%s'), this.name, t].concat(Z(o.map(We)))); try { var s = r.apply(this, o); } catch (e) { throw this.logError.apply(this, [''.concat(void 0 !== e.code ? 'Error Code '.concat(e.code, ': ') : '', '%s failed').concat(o.length > 0 ? ' with args: '.concat(o.map((() => '%o'))) : ''), t].concat(Z(o.map(We)))), e.originalError && this.logError(e.originalError), this.errorTracker(e), e; } const a = Date.now(); return ma(N.mark((function n() { let r; let i; return N.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.prev = 0, n.next = 3, s; case 3: r = n.sent, n.next = 12; break; case 6: return n.prev = 6, n.t0 = n.catch(0), e.logError.apply(e, [''.concat(void 0 !== n.t0.code ? 'Error Code '.concat(n.t0.code, ': ') : '', '%s failed').concat(o.length > 0 ? ' with args: '.concat(o.map((() => '%o'))) : ''), t].concat(Z(o.map(We)))), n.t0.originalError && e.logError(n.t0.originalError), e.errorTracker(n.t0), n.abrupt('return'); case 12: r !== s ? void 0 === r ? e.resultTracker('%s promise resolves after %dms', t, Date.now() - a) : e.resultTracker('%s promise resolves after %dms, result is %o', t, Date.now() - a, We(r)) : $c(r) !== 'Object' || De(r) ? e.resultTracker('%s result is %o', t, We(r)) : e.resultTracker('%s result is %s', t, r.name || ((i = r.constructor) === null || void 0 === i ? void 0 : i.name)); case 13: case 'end': return n.stop(); } }), n, null, [[0, 6]]); })))(), s; }, n; } function Mc(e, t, n) { void 0 === n && (n = Object.getOwnPropertyDescriptor(e, t)); const r = n.value; return n.value = function () { for (var e = this, n = arguments.length, o = Array(n), i = 0; i < n; i++)o[i] = arguments[i]; this.invokeTracker.apply(this, ['%s: '.concat(o.length > 0 ? '%s with args: '.concat(o.map((() => '%o'))) : '%s'), this.name, t].concat(o)); try { var s = r.apply(this, o); } catch (e) { throw this.logError.apply(this, [''.concat(void 0 !== e.code ? 'Error Code '.concat(e.code, ': ') : '', '%s failed').concat(o.length > 0 ? ' with args: '.concat(o.map((() => '%o'))) : ''), t].concat(o)), e.originalError && this.logError(e.originalError), this.errorTracker(e), e; } const a = Date.now(); return ma(N.mark((function n() { let r; let i; return N.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.prev = 0, n.next = 3, s; case 3: r = n.sent, n.next = 12; break; case 6: return n.prev = 6, n.t0 = n.catch(0), e.logError.apply(e, [''.concat(void 0 !== n.t0.code ? 'Error Code '.concat(n.t0.code, ': ') : '', '%s failed').concat(o.length > 0 ? ' with args: '.concat(o.map((() => '%o'))) : ''), t].concat(o)), n.t0.originalError && e.logError(n.t0.originalError), e.errorTracker(n.t0), n.abrupt('return'); case 12: r !== s ? void 0 === r ? e.resultTracker('%s promise resolves after %dms', t, Date.now() - a) : e.resultTracker('%s promise resolves after %dms, result is %o', t, Date.now() - a, r) : $c(r) !== 'Object' || De(r) ? e.resultTracker('%s result is %o', t, r) : e.resultTracker('%s result is %s', t, r.name || ((i = r.constructor) === null || void 0 === i ? void 0 : i.name)); case 13: case 'end': return n.stop(); } }), n, null, [[0, 6]]); })))(), s; }, n; } function bb(e, t, n) { return tj.apply(this, arguments); } function tj() { return (tj = ma(N.mark((function e(t, n, r) { let o; let i; let s; const a = arguments; return N.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: return o = a.length > 3 && void 0 !== a[3] && a[3], i = Iv[t].encode(n).finish(), s = (function () { const e = ma(N.mark((function e(n) { let a; let c; let u; const l = arguments; return N.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: if (!((c = l.length > 1 && void 0 !== l[1] ? l[1] : 0) > 3)) { e.next = 3; break; } return e.abrupt('return'); case 3: if (u = Xe(u = r ? 'https://'.concat((a = fa == null ? void 0 : fa.PROXY_NGINX[0]) !== null && void 0 !== a ? a : 'webrtc-cloud-proxy.sd-rtn.com', '/rs/?h=').concat(n, '&p=443&d=events/proto-raw') : 'https://'.concat(n, '/events/proto-raw'), 'sentTs', Math.ceil(Date.now() / 1e3).toString()), u = Xe(u, 'id', Jv[t].toString()), !o) { e.next = 9; break; } return e.next = 9, Kv(1e4); case 9: return e.next = 11, lh(u, { body: i, timeout: 2e4, headers: { 'Content-Type': 'application/octet-stream' } }).catch(((e) => s(n, c + 1))); case 11: case 'end': return e.stop(); } }), e); }))); return function (t) { return e.apply(this, arguments); }; }()), e.prev = 3, e.next = 6, s((fa == null ? void 0 : fa.EVENT_REPORT_DOMAIN[0]) || $f(null) && null || 'webcollector-rtm.agora.io'); case 6: e.next = 12; break; case 8: return e.prev = 8, e.t0 = e.catch(3), e.next = 12, s(fa && On((fa == null ? void 0 : fa.EVENT_REPORT_DOMAIN.length) > 1 ? fa == null ? void 0 : fa.EVENT_REPORT_DOMAIN.slice(1) : fa == null ? void 0 : fa.EVENT_REPORT_DOMAIN) || 'rtm.statscollector.sd-rtn.com'); case 12: case 'end': return e.stop(); } }), e, null, [[3, 8]]); })))).apply(this, arguments); } function Xa(e) { return void 0 === e ? P.fromNumber(0) : P.fromNumber(Date.now() - e); } function Ta(e) { return typeof e === 'string' && /^[\s\w!#$%&()+,.:;<=>?@[\]^{|}~-]{1,64}$/.test(e) && e !== 'null'; } function Pn(e) { try { var t = e.split('.').map(((e) => Number(e))); } catch (e) { return !1; } if (t.length !== 4 || t[0] === 0) return !1; for (e = 0; e < t.length; e++) { const n = t[e]; if (!Number.isInteger(n) || n < 0 || n > 255) return !1; } return !0; } function Qn(e, t) { if (!Array.isArray(t) || t.length === 0 || t.length > 32 || t.some(((e) => e.length === 0 || e.length > 32))) throw new ca('arguments is not valid', gb); if (!Ta(e)) throw new ca('ID is invalid', gb); } function ag(e) { let t = e.attributes; let n = e.attrSizeMap; let r = e.maxAttrsCount; const o = e.maxAttrValueSize; if (e = e.maxTotalSize, !De(t)) throw new ca('attributes must be an object', gb); if (Object.keys(t).length > r) throw new ic('Exceed the limit of '.concat(r, ' attributes'), Ye); if (Object.keys(t).length === 0) throw new ca('The attributes is an empty object', gb); let i = 0; let s = 0; for (t = Object.entries(t); s < t.length; s++) { let a = $a(t[s], 2); const c = a[1]; a = new Blob([a[0]]).size; const u = new Blob([c]).size; if (a === 0 || a > 32) throw new ca('Invalid attribute key', gb); if (u > o) throw new ic('Invalid attribute value, over the limit of '.concat(o, ' bytes'), Ye); if (typeof c !== 'string' || c.length === 0) throw new ca('Invalid attribute value', gb); i += a, i += u; } if (i > e) throw new ic('The attributes size overflow', Ye); if (void 0 !== n) { if (Object.keys(n).length > r) throw new ic('Exceed the limit of '.concat(r, ' attributes'), Ye); for (i = r = 0, n = Object.entries(n); i < n.length; i++) { if (s = (t = $a(n[i], 2))[1], (t = new Blob([t[0]]).size) === 0) throw new ca('Invalid attribute key', gb); if (s > o) throw new ic('Invalid attribute value, over the limit of '.concat(o, ' bytes'), Ye); r += t, r += s; } if (r > e) throw new ic('The attributes size overflow', Ye); } } function mh(e, t) { return Math.floor(Math.random() * (Math.floor(t) - Math.ceil(e) + 1)) + e; } function nh() { const e = mh(0, 4294967295); const t = mh(1, 4294967295); return new P(e, t, !0); } function sb(e) { return e.toString().padEnd(32, '0'); } function Rn(e, t) { return new TypeError('Unexpected '.concat(e, ': ').concat(t)); } function Sn(e, t) { return e = e.split('.').map(((e) => Number(e))), t = t.split('.').map(((e) => Number(e))), Math.sqrt(1e3 * Math.pow(e[0] - t[0], 2) + 100 * Math.pow(e[1] - t[1], 2) + 10 * Math.pow(e[2] - t[2], 2) + 1 * Math.pow(e[3] - t[3], 2)); } function Tn(e) { return e.lessThanOrEqual(Number.MAX_SAFE_INTEGER) ? e.toNumber() : e.toString(); } function uj(e, t) { t = ''.concat(e).concat(t || ''); const n = Un.get(t) || 1; return Un.set(t, n + 1), ''.concat(e).concat(n); } function Vn(e, t) { let n = typeof t === 'number' ? t : void 0 !== t && typeof t !== 'string' ? t.code : void 0; return t = typeof t !== 'number' && typeof t !== 'string' && void 0 !== t && void 0 !== t.serverCode ? t.serverCode : void 0, n = ''.concat(void 0 !== n ? ' Error Code '.concat(n) : '').concat(void 0 !== t ? ', server Code '.concat(t) : ''), e = typeof e === 'string' && e ? oh(e) : Array.isArray(e) && typeof e[0] === 'string' && e[0] ? oh(Wn.apply(void 0, [e[0]].concat(Z(e.slice(1))))) : '', ''.concat(n === '' ? '' : ''.concat(n, ' - ')).concat(e); } function Kv(e, t) { return vj.apply(this, arguments); } function vj() { return (vj = ma(N.mark((function e(t, n) { return N.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: if (!n || !n.aborted) { e.next = 2; break; } return e.abrupt('return'); case 2: return e.abrupt('return', new Promise(((e) => { setTimeout(e, t), n == null || n.addEventListener('abort', e); }))); case 3: case 'end': return e.stop(); } }), e); })))).apply(this, arguments); } function lh(e, t, n) { return wj.apply(this, arguments); } function wj() {
    return (wj = ma(N.mark((function e(t, n, r) {
      let o; let i; let s; let a; let c; let u; let l; let f; let h; let p; let d; let b; let g; let v; let y; let m; let E; let w; let O; let _; let k; let I; let A; let R; let S; let T; return N.wrap(((e) => {
        for (;;) {
          switch (e.prev = e.next) {
            case 0: if (o = n.body, i = n.headers, s = void 0 === i ? {} : i, a = n.timeout, c = void 0 === a ? 1e4 : a, u = n.signal, l = n.withCredentials, f = void 0 !== l && l, h = (r || {}).useBinaryResponse, p = void 0 !== h && h, (d = new XMLHttpRequest()).open('POST', t, !0), d.responseType = p ? 'arraybuffer' : 'text', d.withCredentials = f, d.timeout = c, b = o instanceof FormData, g = o instanceof Uint8Array, !((v = Object.keys(s).filter(((e) => e.toLowerCase() === 'content-type'))).length > 1)) { e.next = 14; break; } throw new RangeError('multiple content-type'); case 14: v.length === 0 && (g ? s['Content-Type'] = 'application/octet-stream' : b || (s['Content-Type'] = 'application/json')); case 15: if ('setRequestHeader' in d) { e.next = 46; break; } return d.abort(), e.next = 19, fetch(t, {
              body: b || g ? o : JSON.stringify(o), cache: 'no-cache', credentials: f ? 'include' : 'same-origin', headers: s, method: 'POST', mode: 'cors', referrer: 'no-referrer', signal: u,
            }); case 19: if (y = e.sent, !((m = y.status) >= 200 && m < 300 || m === 304)) { e.next = 31; break; } if (!p) { e.next = 27; break; } return e.next = 25, y.arrayBuffer(); case 25: return E = e.sent, e.abrupt('return', { status: m, responseData: E }); case 27: return e.next = 29, y.text(); case 29: return w = e.sent, e.abrupt('return', { status: m, responseText: w }); case 31: return O = new Ja(['Post XHR failure, status %d', m]), e.prev = 32, e.next = 35, y.text(); case 35: throw _ = e.sent, O.statusCode = m, O.message = _ || 'Request failed, status '.concat(m), O; case 41: throw e.prev = 41, e.t0 = e.catch(32), O.statusCode = m, O.message = 'Request failed, status '.concat(m), O; case 46: if (Object.keys(s).length !== 0) for (k = 0, I = Object.entries(s); k < I.length; k++)A = $a(I[k], 2), R = A[0], S = A[1], d.setRequestHeader(R, S); return void 0 !== u && (T = function e() { d.abort(), u.removeEventListener('abort', e); }, u.addEventListener('abort', T)), b || g ? d.send(o) : d.send(JSON.stringify(o)), e.abrupt('return', new Promise(((e, t) => { d.onload = function () { const n = d.status; if (n >= 200 && n < 300 || n === 304)e(p ? { status: n, responseData: d.response } : { status: n, responseText: d.responseText }); else { const r = new Ja(['Post XHR failure, status %d', n]); r.statusCode = n, r.message = d.response || 'Request failed, status '.concat(d.status), t(r); } }, d.ontimeout = function (e) { t(new Ub(['XHR request timed out after %d ms', c], { originalError: e })); }, d.onerror = function () { const e = new Ja(['Post XHR failure, status %d', d.status]); e.statusCode = d.status, e.message = d.response || 'Request failed, status '.concat(d.status), t(e); }, d.onabort = function () { try { t(new DOMException('The request aborted.', 'AbortError')); } catch (n) { const e = Error('The request aborted.'); e.name = 'AbortError', t(e); } }; }))); case 50: case 'end': return e.stop();
          }
        }
      }), e, null, [[32, 41]]);
    })))).apply(this, arguments);
  } function Xn(e, t) { if (!De(e)) throw new ca('message object is not a plain object', t); if (void 0 === e.messageType) if (e.rawMessage instanceof Uint8Array) { if (e.messageType = 'RAW', void 0 !== e.text) throw new ca('Raw messages cannot have text property. Use description instead', t); } else { if (typeof e.text !== 'string') throw new ca('messageType is undefined', t); if (e.messageType = 'TEXT', void 0 !== e.rawMessage) throw new ca('Text messages cannot have rawMessage property', t); } } function ph(e) { return xj.apply(this, arguments); } function xj() {
    return (xj = ma(N.mark((function e(t) {
      let n; let r; let o; let i; let s; let a; let c; let u; let l; let f; let h; let p; let d; let b; let g; let v; let y; let m; let E; let w; let O; return N.wrap(((e) => {
        for (;;) {
          switch (e.prev = e.next) {
            case 0: if (n = t.message, r = t.peerId, o = t.toPeer, i = t.session, s = t.errorCodes, a = t.diff, c = t.logger, void 0 !== i) { e.next = 3; break; } throw new da('The client is not logged in. Cannot do the operation', s.NOT_LOGGED_IN); case 3: if (u = !1, l = o ? n.messageType === 'TEXT' ? Ka.P2pSMsgNoOfflineFlag : Ka.P2pRMsgNoOfflineFlag : n.messageType === 'TEXT' ? Ka.ChannelSMsg : Ka.ChannelRMsg, n.messageType !== 'TEXT' || !n.text.startsWith('AgoraRTMLegacyEndcallCompatibleMessagePrefix') || !o) { e.next = 14; break; } if (f = n.text.split('_'), h = $a(f, 3), p = h[0], d = h[1], void 0 !== h[2] && Ta(d) && p === 'AgoraRTMLegacyEndcallCompatibleMessagePrefix') { e.next = 13; break; } throw i.emit('messageCount', { messageCategory: l, type: 'common', key: 'sentcount' }), i.emit('messageCount', { messageCategory: l, type: 'common', key: 'invalidmessagecount' }), new ca('Message is not valid', bg); case 13: u = !0; case 14: if (b = Date.now(), g = i.messageSentTimes.length - 1, !((v = i.messageSentTimes[g]) && v + 3e3 < b)) { e.next = 21; break; }i.messageSentTimes = [b], e.next = 34; break; case 21: y = g; case 22: if (!(y >= 0)) { e.next = 33; break; } if (!(i.messageSentTimes[y] + 3e3 < b)) { e.next = 26; break; } return i.messageSentTimes = i.messageSentTimes.slice(y + 1, g + 1), e.abrupt('break', 33); case 26: if (!(g - y + 1 >= 180)) { e.next = 30; break; } throw i.emit('messageCount', { messageCategory: l, type: 'common', key: 'sentcount' }), i.emit('messageCount', { messageCategory: l, type: 'common', key: 'toooftencount' }), new ic('Message sent failed, exceeded the 180 message in 3 seconds', s.TOO_OFTEN); case 30: y--, e.next = 22; break; case 33: i.messageSentTimes.push(b); case 34: e.t0 = n.messageType, e.next = e.t0 === 'TEXT' ? 37 : e.t0 === 'RAW' ? 42 : 44; break; case 37: if (!u) { e.next = 41; break; } return m = n.text.split('_'), E = $a(m, 3), w = E[1], O = E[2], c.info('[rtm-API] EndCall message send api is called'), e.abrupt('return', i.sendInvitationMessage({
              peerId: r, type: 'CallCancel', extra: O, channelId: w, callId: '0',
            })); case 41: return e.abrupt('return', i.sendTextMessage(n.text, r, o, 1e4 - a)); case 42: return void 0 === n.description && (n.description = ''), e.abrupt('return', i.sendRawMessage(n.rawMessage, n.description, r, o, 1e4 - a)); case 44: throw i.emit('messageCount', { messageCategory: l, type: 'common', key: 'sentcount' }), i.emit('messageCount', { messageCategory: l, type: 'common', key: 'invalidmessagecount' }), new ca('Invalid message type', bg); case 47: case 'end': return e.stop();
          }
        }
      }), e);
    })))).apply(this, arguments);
  } function Lv(e) { const t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; let n = e.replace(/(https?:\/\/)?(www.)?/i, ''); return t || (n = n.split('.').slice(e.length - 2).join('.')), n.indexOf('/') !== -1 ? n.split('/')[0] : n; } function La(e) { if (typeof e !== 'string') return '[Sensitive Info]'; const t = Math.floor(0.7 * e.length); const n = e.length; return Yn(e, t, n, '*'.repeat(n - t)); } function Zn(e, t, n) { function r(o) { if (void 0 === e) return e; if (Mm(o)) return o; if (Array.isArray(o)) return o.map(r); const i = {}; let s = 0; for (o = qh(o); s < o.length; s++) { let a = $a(o[s], 2); const c = a[0]; if (typeof (a = a[1]) === 'string' && n.includes(c)) { i[c] = typeof a === 'string' ? La(a) : '[Sensitive Info]'; break; }t.includes(c) ? i[c] = '[Hidden Info]' : i[c] = a == null ? a : n.includes(c) ? '[Sensitive Info]' : r(a); } return i; } return Array.isArray(e) ? e.map(r) : r(e); } function $n(e) { return Object.getOwnPropertyNames(e).forEach(((t) => { qa(t = e[t]) == 'object' && t !== null && $n(t); })), Object.freeze(e); } function cg(e) { return new TextDecoder('utf-8').decode(e.buffer.slice(e.byteOffset, e.byteOffset + e.byteLength)); } function rh(e) { return (new TextEncoder()).encode(e).length; } function ao() { for (var e = 0, t = arguments.length, n = Array(t), r = 0; r < t; r++)n[r] = arguments[r]; for (t = 0; t < n.length; t++)e += n[t].length; for (e = new Uint8Array(e), r = t = 0; r < n.length; r++) { const o = n[r]; e.set(o, t), t += o.length; } return e; } function Xe(e, t, n) { let r = e.match(/([^?#]+)(\?[^#]*)?(#.*)?/); if (e = r == null ? void 0 : r[1], r = r == null ? void 0 : r[2]) { let o; for (r = r.substr(1).split('&'), o = 0; o < r.length; o++) if (r[o].split('=')[0] == t) { r[o] = `${t}=${encodeURIComponent(n)}`; break; } return o == r.length && r.push(`${t}=${encodeURIComponent(n)}`), `${e}?${r.join('&')}`; } return `${e}?${t}=${encodeURIComponent(n)}`; } function Yn(e, t, n, r) { return typeof e !== 'string' ? '[Sensitive Info]' : e.substring(0, t) + r + e.substring(n); } function $f(e) { return typeof e === 'string' && e.length !== 0 && e !== 'false' && e !== 'null' && e !== 'undefined'; } function Mv(e, t) { let n = ''.concat(e, 'Uri'); if (typeof (n = yj[n]) !== 'number' || n === 0) throw new TypeError('Got Unknown URI Name'); return t = new (e = bo[e])(t), t = e.encode(t).finish(), new Nv({ uri: n, data: t }); } function co(e, t) { const n = $f(null); return ''.concat(e.split('.').join('-'), '.edge.').concat(n ? null : t ? 'sd-rtn.com' : 'agora.io'); } function sh(e, t) { return P.fromValue(e).eq(t); } function th(e, t) { const n = void 0 === t ? e.val : t; let r = e.isBoolean; t = e.isNumber; let o = e.oneof; const i = e.len; if ([r, t, o].filter(((e) => !e)).length !== 2) throw new TypeError('invalid field type'); if (void 0 !== n && (e = !1, void 0 !== o && (o = zj(o), Ov(o, sh).length === o.length && void 0 !== Pv(o, ((e) => sh(n, e))) && (e = !0)), r = void 0 !== r && (n === 0 || n === 1) && i === 1, t = void 0 !== t && n.toString(2).length <= i, !(e || r || t))) throw Error('invalid field value'); } function eo(e) { return e.reduce(((e, t) => e.concat(t instanceof uh.UnsubscriptionError ? t.errors : t)), []); } function Qv(e, t) { do { dg == 2147483647 ? dg = 0 : dg++; } while (Ze.hasOwnProperty(dg)); const n = dg; return Ze[n] = { callback: e, parameters: Array.prototype.slice.call(arguments, 2) }, Aj.postMessage({ name: 'setInterval', fakeId: n, time: t }), n; } function fo(e) { return function () { const t = e(); if (!t) throw new da('Client is not logged in. Cannot do the operation'); return t; }; } const Ya = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}; const vh = function (e) { return e && e.Math == Math && e; }; const R = vh(typeof globalThis === 'object' && globalThis) || vh(typeof window === 'object' && window) || vh(typeof self === 'object' && self) || vh(typeof Ya === 'object' && Ya) || (function () { return this; }()) || Function('return this')(); const la = function (e) { try { return !!e(); } catch (e) { return !0; } }; const wa = !la((() => Object.defineProperty({}, 1, { get() { return 7; } })[1] != 7)); const go = {}.propertyIsEnumerable; const ho = Object.getOwnPropertyDescriptor; let eg = ho && !go.call({ 1: 2 }, 1) ? function (e) { return !!(e = ho(this, e)) && e.enumerable; } : go; const Nc = function (e, t) {
    return {
      enumerable: !(1 & e), configurable: !(2 & e), writable: !(4 & e), value: t,
    };
  }; const Rv = {}.toString; const xc = function (e) { return Rv.call(e).slice(8, -1); }; const Sv = ''.split; const fg = la((() => !Object('z').propertyIsEnumerable(0))) ? function (e) { return xc(e) == 'String' ? Sv.call(e, '') : Object(e); } : Object; const Eb = function (e) { if (e == null) throw TypeError(`Can't call method on ${e}`); return e; }; const Mb = function (e) { return fg(Eb(e)); }; var xa = function (e) { return typeof e === 'object' ? e !== null : typeof e === 'function'; }; const Oc = function (e, t) { if (!xa(e)) return e; let n; let r; if (t && typeof (n = e.toString) === 'function' && !xa(r = n.call(e)) || typeof (n = e.valueOf) === 'function' && !xa(r = n.call(e)) || !t && typeof (n = e.toString) === 'function' && !xa(r = n.call(e))) return r; throw TypeError("Can't convert object to primitive value"); }; const pb = function (e) { return Object(Eb(e)); }; const Tv = {}.hasOwnProperty; var ka = function (e, t) { return Tv.call(pb(e), t); }; const $e = R.document; const wh = xa($e) && xa($e.createElement); const io = !wa && !la((() => Object.defineProperty(wh ? $e.createElement('div') : {}, 'a', { get() { return 7; } }).a != 7)); const jo = Object.getOwnPropertyDescriptor; var dc = { f: wa ? jo : function (e, t) { if (e = Mb(e), t = Oc(t, !0), io) try { return jo(e, t); } catch (e) {} if (ka(e, t)) return Nc(!eg.call(e, t), e[t]); } }; var Ia = function (e) { if (!xa(e)) throw TypeError(`${String(e)} is not an object`); return e; }; const ko = Object.defineProperty; const qb = { f: wa ? ko : function (e, t, n) { if (Ia(e), t = Oc(t, !0), Ia(n), io) try { return ko(e, t, n); } catch (e) {} if ('get' in n || 'set' in n) throw TypeError('Accessors not supported'); return 'value' in n && (e[t] = n.value), e; } }; const kb = wa ? function (e, t, n) { return qb.f(e, t, Nc(1, n)); } : function (e, t, n) { return e[t] = n, e; }; const Bj = function (e, t) { try { kb(R, e, t); } catch (n) { R[e] = t; } return t; }; const zd = R['__core-js_shared__'] || Bj('__core-js_shared__', {}); const Uv = Function.toString; typeof zd.inspectSource !== 'function' && (zd.inspectSource = function (e) { return Uv.call(e); }); const Cj = zd.inspectSource; const lo = R.WeakMap; const Vv = typeof lo === 'function' && /native code/.test(Cj(lo)); const Ad = xb(((e) => { (e.exports = function (e, t) { return zd[e] || (zd[e] = void 0 !== t ? t : {}); })('versions', []).push({ version: '3.12.1', mode: 'global', copyright: 'Â© 2021 Denis Pushkarev (zloirock.ru)' }); })); let Wv = 0; const Xv = Math.random(); const af = function (e) { return `Symbol(${String(void 0 === e ? '' : e)})_${(++Wv + Xv).toString(36)}`; }; const mo = Ad('keys'); const xh = function (e) { return mo[e] || (mo[e] = af(e)); }; const bf = {}; const Yv = R.WeakMap; if (Vv || zd.state) {
    const ce = zd.state || (zd.state = new Yv());
    const Zv = ce.get;
    const no = ce.has;
    const $v = ce.set;
    var Dj = function (e, t) { if (no.call(ce, e)) throw new TypeError('Object already initialized'); return t.facade = e, $v.call(ce, e, t), t; };
    var yh = function (e) { return Zv.call(ce, e) || {}; };
    var Ej = function (e) { return no.call(ce, e); };
  } else { const cf = xh('state'); bf[cf] = !0, Dj = function (e, t) { if (ka(e, cf)) throw new TypeError('Object already initialized'); return t.facade = e, kb(e, cf, t), t; }, yh = function (e) { return ka(e, cf) ? e[cf] : {}; }, Ej = function (e) { return ka(e, cf); }; } const cb = {
    set: Dj, get: yh, has: Ej, enforce(e) { return Ej(e) ? yh(e) : Dj(e, {}); }, getterFor(e) { return function (t) { let n; if (!xa(t) || (n = yh(t)).type !== e) throw TypeError(`Incompatible receiver, ${e} required`); return n; }; },
  }; const Za = xb(((e) => { const t = cb.get; const n = cb.enforce; const r = String(String).split('String'); (e.exports = function (e, t, o, i) { const s = !!i && !!i.unsafe; let a = !!i && !!i.enumerable; if (i = !!i && !!i.noTargetGet, typeof o === 'function') { typeof t !== 'string' || ka(o, 'name') || kb(o, 'name', t); const c = n(o); c.source || (c.source = r.join(typeof t === 'string' ? t : '')); }e === R ? a ? e[t] = o : Bj(t, o) : (s ? !i && e[t] && (a = !0) : delete e[t], a ? e[t] = o : kb(e, t, o)); })(Function.prototype, 'toString', (function () { return typeof this === 'function' && t(this).source || Cj(this); })); })); const oo = function (e) { return typeof e === 'function' ? e : void 0; }; const Pc = function (e, t) { return arguments.length < 2 ? oo(R[e]) || oo(R[e]) : R[e] && R[e][t] || R[e] && R[e][t]; }; const aw = Math.ceil; const bw = Math.floor; const yc = function (e) { return isNaN(e = +e) ? 0 : (e > 0 ? bw : aw)(e); }; const cw = Math.min; const Ma = function (e) { return e > 0 ? cw(yc(e), 9007199254740991) : 0; }; const dw = Math.max; const ew = Math.min; const Vb = function (e, t) { return (e = yc(e)) < 0 ? dw(e + t, 0) : ew(e, t); }; const po = function (e) { return function (t, n, r) { t = Mb(t); const o = Ma(t.length); if (r = Vb(r, o), e && n != n) { for (;o > r;) if ((n = t[r++]) != n) return !0; } else for (;o > r; r++) if ((e || r in t) && t[r] === n) return e || r || 0; return !e && -1; }; }; const qo = po(!0); const Fj = po(!1); const ro = function (e, t) { e = Mb(e); let n; let r = 0; const o = []; for (n in e)!ka(bf, n) && ka(e, n) && o.push(n); for (;t.length > r;)ka(e, n = t[r++]) && (~Fj(o, n) || o.push(n)); return o; }; const zh = 'constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf'.split(' '); const fw = zh.concat('length', 'prototype'); const de = { f: Object.getOwnPropertyNames || function (e) { return ro(e, fw); } }; const gg = { f: Object.getOwnPropertySymbols }; const so = Pc('Reflect', 'ownKeys') || function (e) { const t = de.f(Ia(e)); const n = gg.f; return n ? t.concat(n(e)) : t; }; const to = function (e, t) { for (let n = so(t), r = qb.f, o = dc.f, i = 0; i < n.length; i++) { const s = n[i]; ka(e, s) || r(e, s, o(t, s)); } }; const gw = /#|\.prototype\./; const Qc = function (e, t) { return (e = hw[iw(e)]) == jw || e != kw && (typeof t === 'function' ? la(t) : !!t); }; var iw = Qc.normalize = function (e) { return String(e).replace(gw, '.').toLowerCase(); }; var hw = Qc.data = {}; var kw = Qc.NATIVE = 'N'; var jw = Qc.POLYFILL = 'P'; const lw = dc.f; const ea = function (e, t) { let n; let r; let o; const i = e.target; const s = e.global; const a = e.stat; if (r = s ? R : a ? R[i] || Bj(i, {}) : (R[i] || {}).prototype) for (o in t) { const c = t[o]; const u = e.noTargetGet ? (n = lw(r, o)) && n.value : r[o]; if (!(n = Qc(s ? o : i + (a ? '.' : '#') + o, e.forced)) && void 0 !== u) { if (typeof c === typeof u) continue; to(c, u); }(e.sham || u && u.sham) && kb(c, 'sham', !0); try { Za(r, o, c, e); } catch (e) {} } }; const Gj = function () { const e = Ia(this); let t = ''; return e.global && (t += 'g'), e.ignoreCase && (t += 'i'), e.multiline && (t += 'm'), e.dotAll && (t += 's'), e.unicode && (t += 'u'), e.sticky && (t += 'y'), t; }; const Rc = la((() => { const e = /a/y; return e.lastIndex = 2, e.exec('abcd') != null; })); const mw = la((() => { const e = /^r/gy; return e.lastIndex = 2, e.exec('str') != null; })); const Ah = RegExp.prototype.exec; const nw = Ad('native-string-replace', String.prototype.replace); let uo = Ah; const Hj = (c = /a/, b = /b*/g, Ah.call(c, 'a'), Ah.call(b, 'a'), c.lastIndex !== 0 || b.lastIndex !== 0); const vo = Rc || mw; const Ij = void 0 !== /()??/.exec('')[1]; let c; let b; (Hj || Ij || vo) && (uo = function (e) { let t; const n = vo && this.sticky; let r = Gj.call(this); let o = this.source; let i = 0; let s = e; if (n) { (r = r.replace('y', '')).indexOf('g') === -1 && (r += 'g'), s = String(e).slice(this.lastIndex), this.lastIndex > 0 && (!this.multiline || this.multiline && e[this.lastIndex - 1] !== '\n') && (o = `(?: ${o})`, s = ` ${s}`, i++); var a = new RegExp(`^(?:${o})`, r); } if (Ij && (a = new RegExp(`^${o}$(?!\\s)`, r)), Hj) var c = this.lastIndex; const u = Ah.call(n ? a : this, s); return n ? u ? (u.input = u.input.slice(i), u[0] = u[0].slice(i), u.index = this.lastIndex, this.lastIndex += u[0].length) : this.lastIndex = 0 : Hj && u && (this.lastIndex = this.global ? u.index + u[0].length : c), Ij && u && u.length > 1 && nw.call(u[0], a, (function () { for (t = 1; t < arguments.length - 2; t++) void 0 === arguments[t] && (u[t] = void 0); })), u; }); const hg = uo; ea({ target: 'RegExp', proto: !0, forced: /./.exec !== hg }, { exec: hg }); const df = Pc('navigator', 'userAgent') || ''; const wo = R.process; const xo = wo && wo.versions; const yo = xo && xo.v8; if (yo) {
    var Bd = yo.split('.');
    var Jj = Bd[0] < 4 ? 1 : Bd[0] + Bd[1];
  } else df && (Bd = df.match(/Edge\/(\d+)/), (!Bd || Bd[1] >= 74) && (Bd = df.match(/Chrome\/(\d+)/)) && (Jj = Bd[1])); const Cd = Jj && +Jj; const Sc = !!Object.getOwnPropertySymbols && !la((() => !String(Symbol()) || !Symbol.sham && Cd && Cd < 41)); const zo = Sc && !Symbol.sham && typeof Symbol.iterator === 'symbol'; const ig = Ad('wks'); const jg = R.Symbol; const ow = zo ? jg : jg && jg.withoutSetter || af; const Fa = function (e) { return ka(ig, e) && (Sc || typeof ig[e] === 'string') || (Sc && ka(jg, e) ? ig[e] = jg[e] : ig[e] = ow(`Symbol.${e}`)), ig[e]; }; const pw = Fa('species'); const Kj = RegExp.prototype; const qw = !la((() => { const e = /./; return e.exec = function () { const e = []; return e.groups = { a: '7' }, e; }, ''.replace(e, '$<a>') !== '7'; })); const Ao = 'a'.replace(/./, '$0') === '$0'; const Bo = Fa('replace'); const Co = !!/./[Bo] && /./[Bo]('a', '$0') === ''; const rw = !la((() => { let e = /(?:)/; const t = e.exec; return e.exec = function () { return t.apply(this, arguments); }, (e = 'ab'.split(e)).length !== 2 || e[0] !== 'a' || e[1] !== 'b'; })); const Bh = function (e, t, n, r) { const o = Fa(e); const i = !la((() => { const t = {}; return t[o] = function () { return 7; }, ''[e](t) != 7; })); const s = i && !la((() => { let t = !1; let n = /a/; return e === 'split' && ((n = { constructor: {} }).constructor[pw] = function () { return n; }, n.flags = '', n[o] = /./[o]), n.exec = function () { return t = !0, null; }, n[o](''), !t; })); if (!i || !s || e === 'replace' && (!qw || !Ao || Co) || e === 'split' && !rw) { const a = /./[o]; const c = (n = n(o, ''[e], ((e, t, n, r, o) => { const s = t.exec; return s === hg || s === Kj.exec ? i && !o ? { done: !0, value: a.call(t, n, r) } : { done: !0, value: e.call(n, t, r) } : { done: !1 }; }), { REPLACE_KEEPS_$0: Ao, REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: Co }))[1]; Za(String.prototype, e, n[0]), Za(Kj, o, t == 2 ? function (e, t) { return c.call(e, this, t); } : function (e) { return c.call(e, this); }); }r && kb(Kj[o], 'sham', !0); }; const sw = Fa('match'); const Lj = function (e) { let t; return xa(e) && (void 0 !== (t = e[sw]) ? !!t : xc(e) == 'RegExp'); }; const Wb = function (e) { if (typeof e !== 'function') throw TypeError(`${String(e)} is not a function`); return e; }; const tw = Fa('species'); const ee = function (e, t) { let n; return void 0 === (e = Ia(e).constructor) || (n = Ia(e)[tw]) == null ? t : Wb(n); }; const Do = function (e) { return function (t, n) { t = String(Eb(t)), n = yc(n); let r; const o = t.length; if (n < 0 || n >= o) return e ? '' : void 0; const i = t.charCodeAt(n); return i < 55296 || i > 56319 || n + 1 === o || (r = t.charCodeAt(n + 1)) < 56320 || r > 57343 ? e ? t.charAt(n) : i : e ? t.slice(n, n + 2) : r - 56320 + (i - 55296 << 10) + 65536; }; }; const uw = Do(!1); const Eo = Do(!0); const Mj = function (e, t, n) { return t + (n ? Eo(e, t).length : 1); }; const ef = function (e, t) { const n = e.exec; if (typeof n === 'function') { if (typeof (e = n.call(e, t)) !== 'object') throw TypeError('RegExp exec method returned something other than an Object or null'); return e; } if (xc(e) !== 'RegExp') throw TypeError('RegExp#exec called on incompatible receiver'); return hg.call(e, t); }; const vw = [].push; const ww = Math.min; Bh('split', 2, ((e, t, n) => { const r = 'abbc'.split(/(b)*/)[1] == 'c' || 'test'.split(/(?:)/, -1).length != 4 || 'ab'.split(/(?:ab)*/).length != 2 || '.'.split(/(.?)(.?)/).length != 4 || '.'.split(/()()/).length > 1 || ''.split(/.?/).length ? function (e, n) { const r = String(Eb(this)); if ((n = void 0 === n ? 4294967295 : n >>> 0) === 0) return []; if (void 0 === e) return [r]; if (!Lj(e)) return t.call(r, e, n); let o; let i; let s; const a = []; let c = 0; for (e = new RegExp(e.source, `${(e.ignoreCase ? 'i' : '') + (e.multiline ? 'm' : '') + (e.unicode ? 'u' : '') + (e.sticky ? 'y' : '')}g`); (o = hg.call(e, r)) && !((i = e.lastIndex) > c && (a.push(r.slice(c, o.index)), o.length > 1 && o.index < r.length && vw.apply(a, o.slice(1)), s = o[0].length, c = i, a.length >= n));)e.lastIndex === o.index && e.lastIndex++; return c === r.length ? (s || !e.test('')) && a.push('') : a.push(r.slice(c)), a.length > n ? a.slice(0, n) : a; } : '0'.split(void 0, 0).length ? function (e, n) { return void 0 === e && n === 0 ? [] : t.call(this, e, n); } : t; return [function (t, n) { const o = Eb(this); const i = t == null ? void 0 : t[e]; return void 0 !== i ? i.call(t, o, n) : r.call(String(o), t, n); }, function (e, o) { let i = n(r, e, this, o, r !== t); if (i.done) return i.value; let s = Ia(e); e = String(this); let a = ee(s, RegExp); if (i = s.unicode, s = new a(Rc ? `^(?:${s.source})` : s, (s.ignoreCase ? 'i' : '') + (s.multiline ? 'm' : '') + (s.unicode ? 'u' : '') + (Rc ? 'g' : 'y')), (o = void 0 === o ? 4294967295 : o >>> 0) === 0) return []; if (e.length === 0) return ef(s, e) === null ? [e] : []; let c = 0; let u = 0; for (a = []; u < e.length;) { s.lastIndex = Rc ? 0 : u; var l; const f = ef(s, Rc ? e.slice(u) : e); if (f === null || (l = ww(Ma(s.lastIndex + (Rc ? u : 0)), e.length)) === c)u = Mj(e, u, i); else { if (a.push(e.slice(c, u)), a.length === o) return a; for (c = 1; c <= f.length - 1; c++) if (a.push(f[c]), a.length === o) return a; u = c = l; } } return a.push(e.slice(c)), a; }]; }), Rc); const xw = /^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/; const yw = /[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/; const Nj = function (e) { return function (t) { return t = String(Eb(t)), 1 & e && (t = t.replace(xw, '')), 2 & e && (t = t.replace(yw, '')), t; }; }; Nj(1), Nj(2); const Oj = Nj(3); const Ch = R.parseInt; const zw = /^[+-]?0[Xx]/; const Fo = Ch('\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff08') !== 8 || Ch('\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff0x16') !== 22 ? function (e, t) { return e = Oj(String(e)), Ch(e, t >>> 0 || (zw.test(e) ? 16 : 10)); } : Ch; ea({ global: !0, forced: parseInt != Fo }, { parseInt: Fo }); const Dd = function (e, t, n) { if (Wb(e), void 0 === t) return e; switch (n) { case 0: return function () { return e.call(t); }; case 1: return function (n) { return e.call(t, n); }; case 2: return function (n, r) { return e.call(t, n, r); }; case 3: return function (n, r, o) { return e.call(t, n, r, o); }; } return function () { return e.apply(t, arguments); }; }; const Ed = Array.isArray || function (e) { return xc(e) == 'Array'; }; const Aw = Fa('species'); const Dh = function (e, t) { if (Ed(e)) { var n = e.constructor; typeof n !== 'function' || n !== Array && !Ed(n.prototype) ? xa(n) && ((n = n[Aw]) === null && (n = void 0)) : n = void 0; } return new (void 0 === n ? Array : n)(t === 0 ? 0 : t); }; const Go = [].push; const Fd = function (e) { const t = e == 1; const n = e == 2; const r = e == 3; const o = e == 4; const i = e == 6; const s = e == 7; const a = e == 5 || i; return function (c, u, l, f) { const h = pb(c); const p = fg(h); u = Dd(u, l, 3), l = Ma(p.length); let d; let b = 0; for (f = f || Dh, c = t ? f(c, l) : n || s ? f(c, 0) : void 0; l > b; b++) if ((a || b in p) && (d = u(f = p[b], b, h), e)) if (t)c[b] = d; else if (d) switch (e) { case 3: return !0; case 5: return f; case 6: return b; case 2: Go.call(c, f); } else switch (e) { case 4: return !1; case 7: Go.call(c, f); } return i ? -1 : r || o ? o : c; }; }; const fe = Fd(0); const Ho = Fd(1); const Io = Fd(2); const Bw = Fd(3); const Cw = Fd(4); const Jo = Fd(5); const Dw = Fd(6); Fd(7); const Ew = Fa('species'); const kg = function (e) { return Cd >= 51 || !la((() => { const t = []; return (t.constructor = {})[Ew] = function () { return { foo: 1 }; }, t[e](Boolean).foo !== 1; })); }; const Fw = kg('filter'); ea({ target: 'Array', proto: !0, forced: !Fw }, { filter(e) { return Io(this, e, arguments.length > 1 ? arguments[1] : void 0); } }); const ed = Object.keys || function (e) { return ro(e, zh); }; const Gw = la((() => { ed(1); })); ea({ target: 'Object', stat: !0, forced: Gw }, { keys(e) { return ed(pb(e)); } }); const ff = function (e, t) { const n = [][e]; return !!n && la((() => { n.call(null, t || (() => { throw 1; }), 1); })); }; const Hw = [].join; const Iw = fg != Object; const Jw = ff('join', ','); ea({ target: 'Array', proto: !0, forced: Iw || !Jw }, { join(e) { return Hw.call(Mb(this), void 0 === e ? ',' : e); } }); const Kw = kg('map'); ea({ target: 'Array', proto: !0, forced: !Kw }, { map(e) { return Ho(this, e, arguments.length > 1 ? arguments[1] : void 0); } }); const Pj = function (e) { const t = e.return; if (void 0 !== t) return Ia(t.call(e)).value; }; const gf = {}; const Lw = Fa('iterator'); const Mw = Array.prototype; const Qj = function (e) { return void 0 !== e && (gf.Array === e || Mw[Lw] === e); }; const hf = function (e, t, n) { (t = Oc(t)) in e ? qb.f(e, t, Nc(0, n)) : e[t] = n; }; const Nw = Fa('toStringTag'); const Ko = {}; Ko[Nw] = 'z'; const Rj = String(Ko) === '[object z]'; const Ow = Fa('toStringTag'); const Pw = xc(function () { return arguments; }()) == 'Arguments'; const jf = Rj ? xc : function (e) { let t; if (void 0 === e) var n = 'Undefined'; else { if (e === null) var r = 'Null'; else { e: { const o = e = Object(e); try { r = o[Ow]; break e; } catch (e) {}r = void 0; }r = typeof (n = r) === 'string' ? n : Pw ? xc(e) : (t = xc(e)) == 'Object' && typeof e.callee === 'function' ? 'Arguments' : t; }n = r; } return n; }; const Qw = Fa('iterator'); const lg = function (e) { if (e != null) return e[Qw] || e['@@iterator'] || gf[jf(e)]; }; const ge = function (e) { let t; let n = pb(e); let r = typeof this === 'function' ? this : Array; let o = arguments.length; let i = o > 1 ? arguments[1] : void 0; const s = void 0 !== i; let a = lg(n); let c = 0; if (s && (i = Dd(i, o > 2 ? arguments[2] : void 0, 2)), a == null || r == Array && Qj(a)) { var u = Ma(n.length); for (r = new r(u); u > c; c++)a = s ? i(n[c], c) : n[c], hf(r, c, a); } else for (o = (n = a.call(n)).next, r = new r(); !(t = o.call(n)).done; c++) { if (s) { a = n; const l = i; t = [t.value, c]; try { u = l(Ia(t)[0], t[1]); } catch (e) { throw Pj(a), e; } } else u = t.value; hf(r, c, a = u); } return r.length = c, r; }; const Lo = Fa('iterator'); let Mo = !1; try { let Rw = 0; const No = { next() { return { done: !!Rw++ }; }, return() { Mo = !0; } }; No[Lo] = function () { return this; }, Array.from(No, (() => { throw 2; })); } catch (c) {} const Eh = function (e, t) { if (!t && !Mo) return !1; let n = !1; try { (t = {})[Lo] = function () { return { next() { return { done: n = !0 }; } }; }, e(t); } catch (e) {} return n; }; const Sw = !Eh(((e) => { Array.from(e); })); ea({ target: 'Array', stat: !0, forced: Sw }, { from: ge }); const Oo = !la((() => { function e() {} return e.prototype.constructor = null, Object.getPrototypeOf(new e()) !== e.prototype; })); const Po = xh('IE_PROTO'); const Tw = Object.prototype; var uc = Oo ? Object.getPrototypeOf : function (e) { return e = pb(e), ka(e, Po) ? e[Po] : typeof e.constructor === 'function' && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? Tw : null; }; const Sj = Fa('iterator'); let Qo = !1; const Uw = function () { return this; }; let he; if ([].keys) { const Ro = [].keys(); if ('next' in Ro) { const So = uc(uc(Ro)); So !== Object.prototype && (he = So); } else Qo = !0; }(he == null || la((() => { const e = {}; return he[Sj].call(e) !== e; }))) && (he = {}), ka(he, Sj) || kb(he, Sj, Uw); const Fh = he; const Gh = Qo; const To = wa ? Object.defineProperties : function (e, t) { Ia(e); for (var n, r = ed(t), o = r.length, i = 0; o > i;)qb.f(e, n = r[i++], t[n]); return e; }; const Tj = Pc('document', 'documentElement'); const Uo = xh('IE_PROTO'); const Uj = function () {}; let Vj; var Hh = function () { try { Vj = document.domain && new ActiveXObject('htmlfile'); } catch (e) {} if (Vj) { var e = Vj; e.write('<script><\/script>'), e.close(), e = e.parentWindow.Object; } else (e = wh ? $e.createElement('iframe') : {}).style.display = 'none', Tj.appendChild(e), e.src = 'javascript:', (e = e.contentWindow.document).open(), e.write('<script>document.F=Object<\/script>'), e.close(), e = e.F; for (Hh = e, e = zh.length; e--;) delete Hh.prototype[zh[e]]; return Hh(); }; bf[Uo] = !0; const jc = Object.create || function (e, t) { if (e !== null) { Uj.prototype = Ia(e); var n = new Uj(); Uj.prototype = null, n[Uo] = e; } else n = Hh(); return void 0 === t ? n : To(n, t); }; const Vw = qb.f; const Vo = Fa('toStringTag'); const zc = function (e, t, n) { e && !ka(e = n ? e : e.prototype, Vo) && Vw(e, Vo, { configurable: !0, value: t }); }; const Ww = function () { return this; }; const Wo = function (e, t, n) { return t += ' Iterator', e.prototype = jc(Fh, { next: Nc(1, n) }), zc(e, t, !1), gf[t] = Ww, e; }; const tb = Object.setPrototypeOf || ('__proto__' in {} ? (function () { let e = !1; const t = {}; try { var n = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set; n.call(t, []), e = t instanceof Array; } catch (e) {} return function (t, r) { if (Ia(t), !xa(r) && r !== null) throw TypeError(`Can't set ${String(r)} as a prototype`); return e ? n.call(t, r) : t.__proto__ = r, t; }; }()) : void 0); const mg = Fa('iterator'); const Xw = function () { return this; }; const Wj = function (e, t, n, r, o, i, s) { Wo(n, t, r), r = function (e) { if (e === o && h) return h; if (!Gh && e in l) return l[e]; switch (e) { case 'keys': case 'values': case 'entries': return function () { return new n(this, e); }; } return function () { return new n(this); }; }; let a; const c = `${t} Iterator`; let u = !1; var l = e.prototype; const f = l[mg] || l['@@iterator'] || o && l[o]; var h = !Gh && f || r(o); const p = t == 'Array' && l.entries || f; if (p && (e = uc(p.call(new e())), Fh !== Object.prototype && e.next && (uc(e) !== Fh && (tb ? tb(e, Fh) : typeof e[mg] !== 'function' && kb(e, mg, Xw)), zc(e, c, !0))), o == 'values' && f && f.name !== 'values' && (u = !0, h = function () { return f.call(this); }), l[mg] !== h && kb(l, mg, h), gf[t] = h, o) { var d = { values: r('values'), keys: i ? h : r('keys'), entries: r('entries') }; if (s) for (a in d)!Gh && !u && a in l || Za(l, a, d[a]); else ea({ target: t, proto: !0, forced: Gh || u }, d); } return d; }; const Yw = cb.set; const Zw = cb.getterFor('String Iterator'); Wj(String, 'String', (function (e) { Yw(this, { type: 'String Iterator', string: String(e), index: 0 }); }), (function () { const e = Zw(this); let t = e.string; const n = e.index; return n >= t.length ? { value: void 0, done: !0 } : (t = Eo(t, n), e.index += t.length, { value: t, done: !1 }); })); const Xj = Fa('unscopables'); const Yj = Array.prototype; Yj[Xj] == null && qb.f(Yj, Xj, { configurable: !0, value: jc(null) }); const ng = function (e) { Yj[Xj][e] = !0; }; let Xo = !0; 'find' in [] && Array(1).find((() => { Xo = !1; })), ea({ target: 'Array', proto: !0, forced: Xo }, { find(e) { return Jo(this, e, arguments.length > 1 ? arguments[1] : void 0); } }), ng('find'); const Yo = function (e) { let t = String(Eb(this)); let n = ''; if ((e = yc(e)) < 0 || 1 / 0 == e) throw RangeError('Wrong number of repetitions'); for (;e > 0; (e >>>= 1) && (t += t))1 & e && (n += t); return n; }; ea({ target: 'String', proto: !0 }, { repeat: Yo }); const Zo = [].indexOf; const $o = !!Zo && 1 / [1].indexOf(1, -0) < 0; const $w = ff('indexOf'); ea({ target: 'Array', proto: !0, forced: $o || !$w }, { indexOf(e) { return $o ? Zo.apply(this, arguments) || 0 : Fj(this, e, arguments.length > 1 ? arguments[1] : void 0); } }); var Zt = /(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i; var $t = /CrOS/; var au = /android|ipad|playbook|silk/i; Ce.isMobile = Ce, Ce.default = Ce, ea({ target: 'Number', stat: !0 }, { MAX_SAFE_INTEGER: 9007199254740991 }), ea({ target: 'Number', stat: !0 }, { isNaN(e) { return e != e; } }), R.Number.isNaN; const ax = Rj ? {}.toString : function () { return `[object ${jf(this)}]`; }; Rj || Za(Object.prototype, 'toString', ax, { unsafe: !0 }); const Ih = R.Promise; const kf = function (e, t, n) { for (const r in t)Za(e, r, t[r], n); return e; }; const ap = Fa('species'); const og = function (e) { e = Pc(e); const t = qb.f; wa && e && !e[ap] && t(e, ap, { configurable: !0, get() { return this; } }); }; const Ac = function (e, t, n) { if (!(e instanceof t)) throw TypeError(`Incorrect ${n ? `${n} ` : ''}invocation`); return e; }; const pg = function (e, t) { this.stopped = e, this.result = t; }; const Jh = function (e, t, n) { let r; const o = !(!n || !n.AS_ENTRIES); let i = !(!n || !n.IS_ITERATOR); const s = !(!n || !n.INTERRUPTED); const a = Dd(t, n && n.that, 1 + o + s); const c = function (e) { return u && Pj(u), new pg(!0, e); }; if (t = function (e) { return o ? (Ia(e), s ? a(e[0], e[1], c) : a(e[0], e[1])) : s ? a(e, c) : a(e); }, i) var u = e; else { if (typeof (i = lg(e)) !== 'function') throw TypeError('Target is not iterable'); if (Qj(i)) { for (i = 0, n = Ma(e.length); n > i; i++) if ((r = t(e[i])) && r instanceof pg) return r; return new pg(!1); }u = i.call(e); } for (e = u.next; !(i = e.call(u)).done;) { try { r = t(i.value); } catch (e) { throw Pj(u), e; } if (typeof r === 'object' && r && r instanceof pg) return r; } return new pg(!1); }; const bp = /(?:iphone|ipod|ipad).*applewebkit/i.test(df); const fd = xc(R.process) == 'process'; const Kh = R.location; let Zj = R.setImmediate; let cp = R.clearImmediate; const bx = R.process; const dp = R.MessageChannel; const ak = R.Dispatch; let bk = 0; const qg = {}; const ck = function (e) { if (qg.hasOwnProperty(e)) { const t = qg[e]; delete qg[e], t(); } }; const dk = function (e) { return function () { ck(e); }; }; const ep = function (e) { ck(e.data); }; const fp = function (e) { R.postMessage(`${e}`, `${Kh.protocol}//${Kh.host}`); }; if (!Zj || !cp) {
    if (Zj = function (e) { for (var t = [], n = 1; arguments.length > n;)t.push(arguments[n++]); return qg[++bk] = function () { (typeof e === 'function' ? e : Function(e)).apply(void 0, t); }, rg(bk), bk; }, cp = function (e) { delete qg[e]; }, fd) var rg = function (e) { bx.nextTick(dk(e)); }; else if (ak && ak.now)rg = function (e) { ak.now(dk(e)); }; else if (dp && !bp) {
      const gp = new dp(); const
        hp = gp.port2; gp.port1.onmessage = ep, rg = Dd(hp.postMessage, hp, 1);
    } else R.addEventListener && typeof postMessage === 'function' && !R.importScripts && Kh && Kh.protocol !== 'file:' && !la(fp) ? (rg = fp, R.addEventListener('message', ep, !1)) : rg = 'onreadystatechange' in (wh ? $e.createElement('script') : {}) ? function (e) { Tj.appendChild(wh ? $e.createElement('script') : {}).onreadystatechange = function () { Tj.removeChild(this), ck(e); }; } : function (e) { setTimeout(dk(e), 0); };
  } const ek = Zj; const cx = /web0s(?!.*chrome)/i.test(df); const dx = dc.f; const ip = R.MutationObserver || R.WebKitMutationObserver; const jp = R.document; const kp = R.process; const Lh = R.Promise; const lp = dx(R, 'queueMicrotask'); const mp = lp && lp.value; let ie; let sg; if (!mp) { const Nh = function () { let e; for (fd && (e = kp.domain) && e.exit(); ie;) { const t = ie.fn; ie = ie.next; try { t(); } catch (e) { throw ie ? Mh() : sg = void 0, e; } }sg = void 0, e && e.enter(); }; if (bp || fd || cx || !ip || !jp) if (Lh && Lh.resolve) { const fk = Lh.resolve(void 0); fk.constructor = Lh; const ex = fk.then; var Mh = function () { ex.call(fk, Nh); }; } else Mh = fd ? function () { kp.nextTick(Nh); } : function () { ek.call(R, Nh); }; else { let np = !0; const op = jp.createTextNode(''); new ip(Nh).observe(op, { characterData: !0 }), Mh = function () { op.data = np = !np; }; } } const pp = mp || function (e) { e = { fn: e, next: void 0 }, sg && (sg.next = e), ie || (ie = e, Mh()), sg = e; }; const fx = function (e) { let t; let n; this.promise = new e(((e, r) => { if (void 0 !== t || void 0 !== n) throw TypeError('Bad Promise constructor'); t = e, n = r; })), this.resolve = Wb(t), this.reject = Wb(n); }; const gk = { f(e) { return new fx(e); } }; const gx = function (e, t) { const n = R.console; n && n.error && (arguments.length === 1 ? n.error(e) : n.error(e, t)); }; const hk = function (e) { try { return { error: !1, value: e() }; } catch (e) { return { error: !0, value: e }; } }; const hx = typeof window === 'object'; const ix = Fa('species'); const qp = cb.get; const jx = cb.set; const kx = cb.getterFor('Promise'); const je = Ih && Ih.prototype; let Xb = Ih; let Oh = je; const rp = R.TypeError; const ik = R.document; const jk = R.process; let lf = gk.f; const lx = lf; const mx = !!(ik && ik.createEvent && R.dispatchEvent); const sp = typeof PromiseRejectionEvent === 'function'; let tp = !1; const tg = Qc('Promise', (() => { const e = Cj(Xb) !== String(Xb); if (!e && Cd === 66) return !0; if (Cd >= 51 && /native code/.test(Xb)) return !1; const t = new Xb(((e) => { e(1); })); const n = function (e) { e((() => {}), (() => {})); }; return (t.constructor = {})[ix] = n, !(tp = t.then((() => {})) instanceof n) || !e && hx && !sp; })); const nx = tg || !Eh(((e) => { Xb.all(e).catch((() => {})); })); const up = function (e) { let t; return !(!xa(e) || typeof (t = e.then) !== 'function') && t; }; const kk = function (e, t) { if (!e.notified) { e.notified = !0; const n = e.reactions; pp((() => { for (let r = e.value, o = e.state == 1, i = 0; n.length > i;) { var s; const a = n[i++]; const c = o ? a.ok : a.fail; const u = a.resolve; const l = a.reject; const f = a.domain; try { if (c) { if (o || (e.rejection === 2 && ox(e), e.rejection = 1), !0 === c) var h = r; else if (f && f.enter(), h = c(r), f) { f.exit(); var p = !0; }h === a.promise ? l(rp('Promise-chain cycle')) : (s = up(h)) ? s.call(h, u, l) : u(h); } else l(r); } catch (e) { f && !p && f.exit(), l(e); } }e.reactions = [], e.notified = !1, t && !e.rejection && px(e); })); } }; const vp = function (e, t, n) { let r; if (mx) { var o = ik.createEvent('Event'); o.promise = t, o.reason = n, o.initEvent(e, !1, !0), R.dispatchEvent(o); } else o = { promise: t, reason: n }; !sp && (r = R[`on${e}`]) ? r(o) : e === 'unhandledrejection' && gx('Unhandled promise rejection', n); }; var px = function (e) { ek.call(R, (() => { const t = e.facade; const n = e.value; if (e.rejection !== 1 && !e.parent) { const r = hk((() => { fd ? jk.emit('unhandledRejection', n, t) : vp('unhandledrejection', t, n); })); if (e.rejection = fd || e.rejection !== 1 && !e.parent ? 2 : 1, r.error) throw r.value; } })); }; var ox = function (e) { ek.call(R, (() => { const t = e.facade; fd ? jk.emit('rejectionHandled', t) : vp('rejectionhandled', t, e.value); })); }; const mf = function (e, t, n) { return function (r) { e(t, r, n); }; }; const nf = function (e, t, n) { e.done || (e.done = !0, n && (e = n), e.value = t, e.state = 2, kk(e, !0)); }; var lk = function (e, t, n) { if (!e.done) { e.done = !0, n && (e = n); try { if (e.facade === t) throw rp("Promise can't be resolved itself"); const r = up(t); r ? pp((() => { const n = { done: !1 }; try { r.call(t, mf(lk, n, e), mf(nf, n, e)); } catch (t) { nf(n, t, e); } })) : (e.value = t, e.state = 1, kk(e, !1)); } catch (t) { nf({ done: !1 }, t, e); } } }; if (tg) {
    Xb = function (e) { Ac(this, Xb, 'Promise'), Wb(e), mk.call(this); const t = qp(this); try { e(mf(lk, t), mf(nf, t)); } catch (e) { nf(t, e); } }, Oh = Xb.prototype; var mk = function (e) {
      jx(this, {
        type: 'Promise', done: !1, notified: !1, parent: !1, reactions: [], rejection: !1, state: 0, value: void 0,
      });
    }; mk.prototype = kf(Oh, { then(e, t) { const n = kx(this); const r = lf(ee(this, Xb)); return r.ok = typeof e !== 'function' || e, r.fail = typeof t === 'function' && t, r.domain = fd ? jk.domain : void 0, n.parent = !0, n.reactions.push(r), n.state != 0 && kk(n, !1), r.promise; }, catch(e) { return this.then(void 0, e); } }); const qx = function () {
      const e = new mk(); const
        t = qp(e); this.promise = e, this.resolve = mf(lk, t), this.reject = mf(nf, t);
    }; if (gk.f = lf = function (e) { return e === Xb || e === rx ? new qx(e) : lx(e); }, typeof Ih === 'function' && je !== Object.prototype) { const sx = je.then; tp || (Za(je, 'then', (function (e, t) { const n = this; return new Xb(((e, t) => { sx.call(n, e, t); })).then(e, t); }), { unsafe: !0 }), Za(je, 'catch', Oh.catch, { unsafe: !0 })); try { delete je.constructor; } catch (c) {}tb && tb(je, Oh); }
  }ea({ global: !0, wrap: !0, forced: tg }, { Promise: Xb }), zc(Xb, 'Promise', !1), og('Promise'); var rx = Pc('Promise'); ea({ target: 'Promise', stat: !0, forced: tg }, { reject(e) { const t = lf(this); return t.reject.call(void 0, e), t.promise; } }), ea({ target: 'Promise', stat: !0, forced: tg }, { resolve(e) { if (Ia(this), !xa(e) || e.constructor !== this) { const t = gk.f(this); (0, t.resolve)(e), e = t.promise; } return e; } }), ea({ target: 'Promise', stat: !0, forced: nx }, { all(e) { const t = this; const n = lf(t); const r = n.resolve; const o = n.reject; const i = hk((() => { const n = Wb(t.resolve); const i = []; let s = 0; let a = 1; Jh(e, ((e) => { const c = s++; let u = !1; i.push(void 0), a++, n.call(t, e).then(((e) => { u || (u = !0, i[c] = e, --a || r(i)); }), o); })), --a || r(i); })); return i.error && o(i.value), n.promise; }, race(e) { const t = this; const n = lf(t); const r = n.reject; const o = hk((() => { const o = Wb(t.resolve); Jh(e, ((e) => { o.call(t, e).then(n.resolve, r); })); })); return o.error && r(o.value), n.promise; } }); const tx = Math.floor; const ux = ''.replace; const vx = /\$([$&'`]|\d{1,2}|<[^>]*>)/g; const wx = /\$([$&'`]|\d{1,2})/g; const xx = function (e, t, n, r, o, i) { const s = n + e.length; const a = r.length; let c = wx; return void 0 !== o && (o = pb(o), c = vx), ux.call(i, c, ((i, c) => { switch (c.charAt(0)) { case '$': return '$'; case '&': return e; case '`': return t.slice(0, n); case "'": return t.slice(s); case '<': i = o[c.slice(1, -1)]; break; default: var u = +c; if (u === 0) return i; if (u > a) return (u = tx(u / 10)) === 0 ? i : u <= a ? void 0 === r[u - 1] ? c.charAt(1) : r[u - 1] + c.charAt(1) : i; i = r[u - 1]; } return void 0 === i ? '' : i; })); }; const yx = Math.max; const zx = Math.min; Bh('replace', 2, ((e, t, n, r) => { const o = r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE; const i = r.REPLACE_KEEPS_$0; const s = o ? '$' : '$0'; return [function (n, r) { const o = Eb(this); const i = n == null ? void 0 : n[e]; return void 0 !== i ? i.call(n, o, r) : t.call(String(o), n, r); }, function (e, r) { if (!o && i || typeof r === 'string' && r.indexOf(s) === -1) { var a = n(t, e, this, r); if (a.done) return a.value; } let c = Ia(e); e = String(this), (a = typeof r === 'function') || (r = String(r)); let u = c.global; if (u) { var l = c.unicode; c.lastIndex = 0; } for (var f = []; ;) { var h = ef(c, e); if (h === null) break; if (f.push(h), !u) break; String(h[0]) === '' && (c.lastIndex = Mj(e, Ma(c.lastIndex), l)); } for (l = '', u = c = 0; u < f.length; u++) { h = f[u]; for (var p = String(h[0]), d = yx(zx(yc(h.index), e.length), 0), b = [], g = 1; g < h.length; g++) { const v = b; const y = h[g]; v.push.call(v, void 0 === y ? y : String(y)); }h = h.groups, a ? (b = [p].concat(b, d, e), void 0 !== h && b.push(h), h = String(r.apply(void 0, b))) : h = xx(p, e, d, b, h, r), d >= c && (l += e.slice(c, d) + h, c = d + p.length); } return l + e.slice(c); }]; })); const Ax = kg('slice'); const Bx = Fa('species'); const Cx = [].slice; const Dx = Math.max; ea({ target: 'Array', proto: !0, forced: !Ax }, { slice(e, t) { const n = Mb(this); let r = Ma(n.length); if (e = Vb(e, r), t = Vb(void 0 === t ? r : t, r), Ed(n)) { var o = n.constructor; if (typeof o !== 'function' || o !== Array && !Ed(o.prototype) ? xa(o) && ((o = o[Bx]) === null && (o = void 0)) : o = void 0, o === Array || void 0 === o) return Cx.call(n, e, t); } for (o = new (void 0 === o ? Array : o)(Dx(t - e, 0)), r = 0; e < t; e++, r++)e in n && hf(o, r, n[e]); return o.length = r, o; } }); const Ex = cb.set; const Fx = cb.getterFor('Array Iterator'); const Gd = Wj(Array, 'Array', (function (e, t) {
    Ex(this, {
      type: 'Array Iterator', target: Mb(e), index: 0, kind: t,
    });
  }), (function () { const e = Fx(this); const t = e.target; const n = e.kind; const r = e.index++; return !t || r >= t.length ? (e.target = void 0, { value: void 0, done: !0 }) : n == 'keys' ? { value: r, done: !1 } : n == 'values' ? { value: t[r], done: !1 } : { value: [r, t[r]], done: !1 }; }), 'values'); gf.Arguments = gf.Array, ng('keys'), ng('values'), ng('entries'); const wp = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined'; const of = function (e) { if (void 0 === e) return 0; e = yc(e); const t = Ma(e); if (e !== t) throw RangeError('Wrong length or index'); return t; }; const Gx = Math.abs; const gd = Math.pow; const Hx = Math.floor; const Ix = Math.log; const Jx = Math.LN2; const xp = function (e) { const t = pb(this); let n = Ma(t.length); let r = arguments.length; let o = Vb(r > 1 ? arguments[1] : void 0, n); for (n = void 0 === (r = r > 2 ? arguments[2] : void 0) ? n : Vb(r, n); n > o;)t[o++] = e; return t; }; const Kx = de.f; const Lx = qb.f; const pf = cb.get; const yp = cb.set; const Bc = R.ArrayBuffer; let Yb = Bc; let Cc = R.DataView; const Ph = Cc && Cc.prototype; const zp = Object.prototype; const Qh = R.RangeError; const Ap = function (e, t, n) { let r; const o = Array(n); const i = (1 << (n = 8 * n - t - 1)) - 1; const s = i >> 1; const a = t === 23 ? gd(2, -24) - gd(2, -77) : 0; const c = e < 0 || e === 0 && 1 / e < 0 ? 1 : 0; let u = 0; if ((e = Gx(e)) != e || 1 / 0 === e) { e = e != e ? 1 : 0; var l = i; } else l = Hx(Ix(e) / Jx), e * (r = gd(2, -l)) < 1 && (l--, r *= 2), (e = l + s >= 1 ? e + a / r : e + a * gd(2, 1 - s)) * r >= 2 && (l++, r /= 2), l + s >= i ? (e = 0, l = i) : l + s >= 1 ? (e = (e * r - 1) * gd(2, t), l += s) : (e = e * gd(2, s - 1) * gd(2, t), l = 0); for (;t >= 8; o[u++] = 255 & e, e /= 256, t -= 8);for (l = l << t | e, n += t; n > 0; o[u++] = 255 & l, l /= 256, n -= 8);return o[--u] |= 128 * c, o; }; const Bp = function (e, t) { let n = e.length; let r = 8 * n - t - 1; const o = (1 << r) - 1; const i = o >> 1; r -= 7, --n; let s = e[n--]; let a = 127 & s; for (s >>= 7; r > 0; a = 256 * a + e[n], n--, r -= 8);let c = a & (1 << -r) - 1; for (a >>= -r, r += t; r > 0; c = 256 * c + e[n], n--, r -= 8);if (a === 0)a = 1 - i; else { if (a === o) return c ? NaN : s ? -1 / 0 : 1 / 0; c += gd(2, t), a -= i; } return (s ? -1 : 1) * c * gd(2, a - t); }; const Cp = function (e) { return [255 & e]; }; const Dp = function (e) { return [255 & e, e >> 8 & 255]; }; const Ep = function (e) { return [255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255]; }; const Fp = function (e) { return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0]; }; const Mx = function (e) { return Ap(e, 23, 4); }; const Nx = function (e) { return Ap(e, 52, 8); }; const Rh = function (e, t) { Lx(e.prototype, t, { get() { return pf(this)[t]; } }); }; const Hd = function (e, t, n, r) { n = of(n); const o = pf(e); if (n + t > o.byteLength) throw Qh('Wrong index'); return e = pf(o.buffer).bytes, n += o.byteOffset, t = e.slice(n, n + t), r ? t : t.reverse(); }; const Id = function (e, t, n, r, o, i) { n = of(n); const s = pf(e); if (n + t > s.byteLength) throw Qh('Wrong index'); for (e = pf(s.buffer).bytes, n += s.byteOffset, r = r(+o), o = 0; o < t; o++)e[n + o] = r[i ? o : t - o - 1]; }; if (wp) { if (!la((() => { Bc(1); })) || !la((() => { new Bc(-1); })) || la((() => (new Bc(), new Bc(1.5), new Bc(NaN), Bc.name != 'ArrayBuffer')))) { Yb = function (e) { return Ac(this, Yb), new Bc(of(e)); }; for (var Ox = Yb.prototype = Bc.prototype, Gp = Kx(Bc), Hp = 0, nk; Gp.length > Hp;)(nk = Gp[Hp++]) in Yb || kb(Yb, nk, Bc[nk]); Ox.constructor = Yb; }tb && uc(Ph) !== zp && tb(Ph, zp); const Sh = new Cc(new Yb(2)); const Ip = Ph.setInt8; Sh.setInt8(0, 2147483648), Sh.setInt8(1, 2147483649), !Sh.getInt8(0) && Sh.getInt8(1) || kf(Ph, { setInt8(e, t) { Ip.call(this, e, t << 24 >> 24); }, setUint8(e, t) { Ip.call(this, e, t << 24 >> 24); } }, { unsafe: !0 }); } else {
    Yb = function (e) { Ac(this, Yb, 'ArrayBuffer'), e = of(e), yp(this, { bytes: xp.call(Array(e), 0), byteLength: e }), wa || (this.byteLength = e); }, Cc = function (e, t, n) { Ac(this, Cc, 'DataView'), Ac(e, Yb, 'DataView'); const r = pf(e).byteLength; if ((t = yc(t)) < 0 || t > r) throw Qh('Wrong offset'); if (t + (n = void 0 === n ? r - t : Ma(n)) > r) throw Qh('Wrong length'); yp(this, { buffer: e, byteLength: n, byteOffset: t }), wa || (this.buffer = e, this.byteLength = n, this.byteOffset = t); }, wa && (Rh(Yb, 'byteLength'), Rh(Cc, 'buffer'), Rh(Cc, 'byteLength'), Rh(Cc, 'byteOffset')), kf(Cc.prototype, {
      getInt8(e) { return Hd(this, 1, e)[0] << 24 >> 24; }, getUint8(e) { return Hd(this, 1, e)[0]; }, getInt16(e) { const t = Hd(this, 2, e, arguments.length > 1 ? arguments[1] : void 0); return (t[1] << 8 | t[0]) << 16 >> 16; }, getUint16(e) { const t = Hd(this, 2, e, arguments.length > 1 ? arguments[1] : void 0); return t[1] << 8 | t[0]; }, getInt32(e) { return Fp(Hd(this, 4, e, arguments.length > 1 ? arguments[1] : void 0)); }, getUint32(e) { return Fp(Hd(this, 4, e, arguments.length > 1 ? arguments[1] : void 0)) >>> 0; }, getFloat32(e) { return Bp(Hd(this, 4, e, arguments.length > 1 ? arguments[1] : void 0), 23); }, getFloat64(e) { return Bp(Hd(this, 8, e, arguments.length > 1 ? arguments[1] : void 0), 52); }, setInt8(e, t) { Id(this, 1, e, Cp, t); }, setUint8(e, t) { Id(this, 1, e, Cp, t); }, setInt16(e, t) { Id(this, 2, e, Dp, t, arguments.length > 2 ? arguments[2] : void 0); }, setUint16(e, t) { Id(this, 2, e, Dp, t, arguments.length > 2 ? arguments[2] : void 0); }, setInt32(e, t) { Id(this, 4, e, Ep, t, arguments.length > 2 ? arguments[2] : void 0); }, setUint32(e, t) { Id(this, 4, e, Ep, t, arguments.length > 2 ? arguments[2] : void 0); }, setFloat32(e, t) { Id(this, 4, e, Mx, t, arguments.length > 2 ? arguments[2] : void 0); }, setFloat64(e, t) { Id(this, 8, e, Nx, t, arguments.length > 2 ? arguments[2] : void 0); },
    });
  } zc(Yb, 'ArrayBuffer'), zc(Cc, 'DataView'); const ug = { ArrayBuffer: Yb, DataView: Cc }; const ok = ug.ArrayBuffer; const Jp = ug.DataView; const Kp = ok.prototype.slice; const Px = la((() => !new ok(2).slice(1, void 0).byteLength)); ea({
    target: 'ArrayBuffer', proto: !0, unsafe: !0, forced: Px,
  }, { slice(e, t) { if (void 0 !== Kp && void 0 === t) return Kp.call(Ia(this), e); let n = Ia(this).byteLength; e = Vb(e, n), t = Vb(void 0 === t ? n : t, n), n = new (ee(this, ok))(Ma(t - e)); for (let r = new Jp(this), o = new Jp(n), i = 0; e < t;)o.setUint8(i++, r.getUint8(e++)); return n; } }); const Qx = qb.f; const Th = R.Int8Array; const pk = Th && Th.prototype; const Lp = R.Uint8ClampedArray; const Mp = Lp && Lp.prototype; let Tc = Th && uc(Th); let Dc = pk && uc(pk); const Np = Object.prototype; const Op = Np.isPrototypeOf; const Pp = Fa('toStringTag'); const qk = af('TYPED_ARRAY_TAG'); let hd = wp && !!tb && jf(R.opera) !== 'Opera'; let Qp = !1; let Zb; const Uc = {
    Int8Array: 1, Uint8Array: 1, Uint8ClampedArray: 1, Int16Array: 2, Uint16Array: 2, Int32Array: 4, Uint32Array: 4, Float32Array: 4, Float64Array: 8,
  }; const Rx = { BigInt64Array: 8, BigUint64Array: 8 }; const Uh = function (e) { return !!xa(e) && (e = jf(e), ka(Uc, e) || ka(Rx, e)); }; for (Zb in Uc)R[Zb] || (hd = !1); if ((!hd || typeof Tc !== 'function' || Tc === Function.prototype) && (Tc = function () { throw TypeError('Incorrect invocation'); }, hd)) for (Zb in Uc)R[Zb] && tb(R[Zb], Tc); if ((!hd || !Dc || Dc === Np) && (Dc = Tc.prototype, hd)) for (Zb in Uc)R[Zb] && tb(R[Zb].prototype, Dc); if (hd && uc(Mp) !== Dc && tb(Mp, Dc), wa && !ka(Dc, Pp)) for (Zb in Qp = !0, Qx(Dc, Pp, { get() { return xa(this) ? this[qk] : void 0; } }), Uc)R[Zb] && kb(R[Zb], qk, Zb); const vg = hd; const Rp = Qp && qk; const Ua = function (e) { if (Uh(e)) return e; throw TypeError('Target is not a typed array'); }; const qf = function (e) { if (tb) { if (Op.call(Tc, e)) return e; } else for (const t in Uc) if (ka(Uc, Zb)) { const n = R[t]; if (n && (e === n || Op.call(n, e))) return e; } throw TypeError('Target is not a typed array constructor'); }; const Ra = function (e, t, n) { if (wa) { if (n) for (const r in Uc) { const o = R[r]; if (o && ka(o.prototype, e)) try { delete o.prototype[e]; } catch (e) {} }Dc[e] && !n || Za(Dc, e, n ? t : hd && pk[e] || t); } }; const Sp = function (e, t, n) { let r; let o; if (wa) { if (tb) { if (n) for (r in Uc) if ((o = R[r]) && ka(o, e)) try { delete o[e]; } catch (e) {} if (Tc[e] && !n) return; try { return Za(Tc, e, n ? t : hd && Tc[e] || t); } catch (e) {} } for (r in Uc)!(o = R[r]) || o[e] && !n || Za(o, e, t); } }; const Tp = Tc; const wg = Dc; const Sx = R.ArrayBuffer; const ke = R.Int8Array; const rk = !vg || !la((() => { ke(1); })) || !la((() => { new ke(-1); })) || !Eh(((e) => { new ke(), new ke(null), new ke(1.5), new ke(e); }), !0) || la((() => new ke(new Sx(2), 1, void 0).length !== 1)); const Vh = function (e, t) { if ((e = yc(e)) < 0) throw RangeError("The argument can't be less than 0"); if (e % t) throw RangeError('Wrong offset'); return e; }; const sk = function (e) { let t = pb(e); let n = arguments.length; let r = n > 1 ? arguments[1] : void 0; const o = void 0 !== r; let i = lg(t); if (i != null && !Qj(i)) { var s = i.call(t); const a = s.next; for (t = []; !(i = a.call(s)).done;)t.push(i.value); } for (o && n > 2 && (r = Dd(r, arguments[2], 2)), i = Ma(t.length), s = new (qf(this))(i), n = 0; i > n; n++)s[n] = o ? r(t[n], n) : t[n]; return s; }; const Wh = function (e, t, n) { let r; let o; return tb && typeof (r = t.constructor) === 'function' && r !== n && xa(o = r.prototype) && o !== n.prototype && tb(e, o), e; }; const xg = xb(((e) => {
    const t = de.f; const n = cb.get; const r = cb.set; const o = qb.f; const i = dc.f; const s = Math.round; const a = R.RangeError; const c = ug.ArrayBuffer; const u = ug.DataView; const l = function (e, t) { let n = 0; const r = t.length; for (e = new (qf(e))(r); r > n;)e[n] = t[n++]; return e; }; const f = function (e, t) { o(e, t, { get() { return n(this)[t]; } }); }; const h = function (e) { let t; return e instanceof c || (t = jf(e)) == 'ArrayBuffer' || t == 'SharedArrayBuffer'; }; const p = function (e, t) { return Uh(e) && typeof t !== 'symbol' && t in e && String(+t) == String(t); }; const d = function (e, t) { return p(e, t = Oc(t, !0)) ? Nc(2, e[t]) : i(e, t); }; const b = function (e, t, n) { return !(p(e, t = Oc(t, !0)) && xa(n) && ka(n, 'value')) || ka(n, 'get') || ka(n, 'set') || n.configurable || ka(n, 'writable') && !n.writable || ka(n, 'enumerable') && !n.enumerable ? o(e, t, n) : (e[t] = n.value, e); }; wa ? (vg || (dc.f = d, qb.f = b, f(wg, 'buffer'), f(wg, 'byteOffset'), f(wg, 'byteLength'), f(wg, 'length')), ea({ target: 'Object', stat: !0, forced: !vg }, { getOwnPropertyDescriptor: d, defineProperty: b }), e.exports = function (e, i, f) {
      const p = e.match(/\d+$/)[0] / 8; const d = `${e + (f ? 'Clamped' : '')}Array`; const b = `get${e}`; const g = `set${e}`; const v = R[d]; let y = v; e = y && y.prototype; const m = {}; const E = function (e, t) { o(e, t, { get() { const e = n(this); return e.view[b](t * p + e.byteOffset, !0); }, set(e) { const r = n(this); f && (e = (e = s(e)) < 0 ? 0 : e > 255 ? 255 : 255 & e), r.view[g](t * p + r.byteOffset, e, !0); }, enumerable: !0 }); }; vg ? rk && (y = i(((e, t, n, r) => (Ac(e, y, d), Wh(xa(t) ? h(t) ? void 0 !== r ? new v(t, Vh(n, p), r) : void 0 !== n ? new v(t, Vh(n, p)) : new v(t) : Uh(t) ? l(y, t) : sk.call(y, t) : new v(of(t)), e, y)))), tb && tb(y, Tp), fe(t(v), ((e) => { e in y || kb(y, e, v[e]); })), y.prototype = e) : (y = i(((e, t, n, o) => {
        Ac(e, y, d); let i = 0; let s = 0; if (xa(t)) { if (!h(t)) return Uh(t) ? l(y, t) : sk.call(y, t); var f = t; if (s = Vh(n, p), t = t.byteLength, void 0 === o) { if (t % p) throw a('Wrong length'); if ((o = t - s) < 0) throw a('Wrong length'); } else if ((o = Ma(o) * p) + s > t) throw a('Wrong length'); t = o / p; } else t = of(t), f = new c(o = t * p); for (r(e, {
          buffer: f, byteOffset: s, byteLength: o, length: t, view: new u(f),
        }); i < t;)E(e, i++);
      })), tb && tb(y, Tp), e = y.prototype = jc(wg)), e.constructor !== y && kb(e, 'constructor', y), Rp && kb(e, Rp, d), m[d] = y, ea({ global: !0, forced: y != v, sham: !vg }, m), 'BYTES_PER_ELEMENT' in y || kb(y, 'BYTES_PER_ELEMENT', p), 'BYTES_PER_ELEMENT' in e || kb(e, 'BYTES_PER_ELEMENT', p), og(d);
    }) : e.exports = function () {};
  })); xg('Uint8', ((e) => function (t, n, r) { return e(this, t, n, r); })); const Tx = Math.min; const Ux = [].copyWithin || function (e, t) { const n = pb(this); let r = Ma(n.length); let o = Vb(e, r); let i = Vb(t, r); let s = arguments.length > 2 ? arguments[2] : void 0; for (r = Tx((void 0 === s ? r : Vb(s, r)) - i, r - o), s = 1, i < o && o < i + r && (s = -1, i += r - 1, o += r - 1); r-- > 0;)i in n ? n[o] = n[i] : delete n[o], o += s, i += s; return n; }; Ra('copyWithin', (function (e, t) { return Ux.call(Ua(this), e, t, arguments.length > 2 ? arguments[2] : void 0); })), Ra('every', (function (e) { return Cw(Ua(this), e, arguments.length > 1 ? arguments[1] : void 0); })), Ra('fill', (function (e) { return xp.apply(Ua(this), arguments); })), Ra('filter', (function (e) { const t = Io(Ua(this), e, arguments.length > 1 ? arguments[1] : void 0); let n = ee(this, this.constructor); let r = 0; const o = t.length; for (n = new (qf(n))(o); o > r;)n[r] = t[r++]; return n; })), Ra('find', (function (e) { return Jo(Ua(this), e, arguments.length > 1 ? arguments[1] : void 0); })), Ra('findIndex', (function (e) { return Dw(Ua(this), e, arguments.length > 1 ? arguments[1] : void 0); })), Ra('forEach', (function (e) { fe(Ua(this), e, arguments.length > 1 ? arguments[1] : void 0); })), Ra('includes', (function (e) { return qo(Ua(this), e, arguments.length > 1 ? arguments[1] : void 0); })), Ra('indexOf', (function (e) { return Fj(Ua(this), e, arguments.length > 1 ? arguments[1] : void 0); })); const Up = Fa('iterator'); const Vp = R.Uint8Array; const Vx = Gd.values; const Wx = Gd.keys; const Xx = Gd.entries; const tk = Vp && Vp.prototype[Up]; const Wp = !!tk && (tk.name == 'values' || tk.name == null); const Xp = function () { return Vx.call(Ua(this)); }; Ra('entries', (function () { return Xx.call(Ua(this)); })), Ra('keys', (function () { return Wx.call(Ua(this)); })), Ra('values', Xp, !Wp), Ra(Up, Xp, !Wp); const Yx = [].join; Ra('join', (function (e) { return Yx.apply(Ua(this), arguments); })); const Zx = Math.min; const uk = [].lastIndexOf; const Yp = !!uk && 1 / [1].lastIndexOf(1, -0) < 0; const $x = ff('lastIndexOf'); const ay = Yp || !$x ? function (e) { if (Yp) return uk.apply(this, arguments) || 0; const t = Mb(this); const n = Ma(t.length); let r = n - 1; for (arguments.length > 1 && (r = Zx(r, yc(arguments[1]))), r < 0 && (r = n + r); r >= 0; r--) if (r in t && t[r] === e) return r || 0; return -1; } : uk; Ra('lastIndexOf', (function (e) { return ay.apply(Ua(this), arguments); })), Ra('map', (function (e) { return Ho(Ua(this), e, arguments.length > 1 ? arguments[1] : void 0, ((e, t) => new (qf(ee(e, e.constructor)))(t))); })); const Zp = function (e) { return function (t, n, r, o) { Wb(n), t = pb(t); const i = fg(t); const s = Ma(t.length); let a = e ? s - 1 : 0; const c = e ? -1 : 1; if (r < 2) for (;;) { if (a in i) { o = i[a], a += c; break; } if (a += c, e ? a < 0 : s <= a) throw TypeError('Reduce of empty array with no initial value'); } for (;e ? a >= 0 : s > a; a += c)a in i && (o = n(o, i[a], a, t)); return o; }; }; const $p = Zp(!1); const by = Zp(!0); Ra('reduce', (function (e) { return $p(Ua(this), e, arguments.length, arguments.length > 1 ? arguments[1] : void 0); })), Ra('reduceRight', (function (e) { return by(Ua(this), e, arguments.length, arguments.length > 1 ? arguments[1] : void 0); })); const cy = Math.floor; Ra('reverse', (function () { for (var e, t = Ua(this).length, n = cy(t / 2), r = 0; r < n;)e = this[r], this[r++] = this[--t], this[t] = e; return this; })); const dy = la((() => { new Int8Array(1).set({}); })); Ra('set', (function (e) { Ua(this); const t = Vh(arguments.length > 1 ? arguments[1] : void 0, 1); const n = this.length; const r = pb(e); const o = Ma(r.length); let i = 0; if (o + t > n) throw RangeError('Wrong length'); for (;i < o;) this[t + i] = r[i++]; }), dy); const ey = [].slice; const fy = la((() => { new Int8Array(1).slice(); })); Ra('slice', (function (e, t) { e = ey.call(Ua(this), e, t); let n = ee(this, this.constructor); t = 0; const r = e.length; for (n = new (qf(n))(r); r > t;)n[t] = e[t++]; return n; }), fy), Ra('some', (function (e) { return Bw(Ua(this), e, arguments.length > 1 ? arguments[1] : void 0); })); const gy = [].sort; Ra('sort', (function (e) { return gy.call(Ua(this), e); })), Ra('subarray', (function (e, t) { const n = Ua(this); const r = n.length; return e = Vb(e, r), new (ee(n, n.constructor))(n.buffer, n.byteOffset + e * n.BYTES_PER_ELEMENT, Ma((void 0 === t ? r : Vb(t, r)) - e)); })); const Xh = R.Int8Array; const aq = [].toLocaleString; const hy = [].slice; const iy = !!Xh && la((() => { aq.call(new Xh(1)); })); const jy = la((() => [1, 2].toLocaleString() != new Xh([1, 2]).toLocaleString())) || !la((() => { Xh.prototype.toLocaleString.call([1, 2]); })); Ra('toLocaleString', (function () { return aq.apply(iy ? hy.call(Ua(this)) : Ua(this), arguments); }), jy); const bq = R.Uint8Array; const ky = bq && bq.prototype || {}; let Yh = [].toString; const ly = [].join; la((() => { Yh.call({}); })) && (Yh = function () { return ly.call(this); }), Ra('toString', Yh, ky.toString != Yh); const cq = ug.ArrayBuffer; ea({ global: !0, forced: R.ArrayBuffer !== cq }, { ArrayBuffer: cq }), og('ArrayBuffer'); const my = qb.f; const vk = Function.prototype; const ny = vk.toString; const oy = /^\s*function ([^ (]*)/; !wa || 'name' in vk || my(vk, 'name', { configurable: !0, get() { try { return ny.call(this).match(oy)[1]; } catch (e) { return ''; } } }); const dq = RegExp.prototype; const eq = dq.toString; const py = la((() => eq.call({ source: 'a', flags: 'b' }) != '/a/b')); const qy = eq.name != 'toString'; (py || qy) && Za(RegExp.prototype, 'toString', (function () { let e = Ia(this); const t = String(e.source); const n = e.flags; return `/${t}/${e = String(void 0 === n && e instanceof RegExp && !('flags' in dq) ? Gj.call(e) : n)}`; }), { unsafe: !0 }); const ry = kg('splice'); const sy = Math.max; const ty = Math.min; ea({ target: 'Array', proto: !0, forced: !ry }, { splice(e, t) { let n; let r; const o = pb(this); const i = Ma(o.length); const s = Vb(e, i); let a = arguments.length; if (a === 0 ? a = n = 0 : a === 1 ? (a = 0, n = i - s) : (a -= 2, n = ty(sy(yc(t), 0), i - s)), i + a - n > 9007199254740991) throw TypeError('Maximum allowed length exceeded'); const c = Dh(o, n); for (r = 0; r < n; r++) { var u = s + r; u in o && hf(c, r, o[u]); } if (c.length = n, a < n) { for (r = s; r < i - n; r++) { var l = r + a; (u = r + n) in o ? o[l] = o[u] : delete o[l]; } for (r = i; r > i - n + a; r--) delete o[r - 1]; } else if (a > n) for (r = i - n; r > s; r--)l = r + a - 1, (u = r + n - 1) in o ? o[l] = o[u] : delete o[l]; for (r = 0; r < a; r++)o[r + s] = arguments[r + 2]; return o.length = i - n + a, c; } }); const wk = {
    CSSRuleList: 0, CSSStyleDeclaration: 0, CSSValueList: 0, ClientRectList: 0, DOMRectList: 0, DOMStringList: 0, DOMTokenList: 1, DataTransferItemList: 0, FileList: 0, HTMLAllCollection: 0, HTMLCollection: 0, HTMLFormElement: 0, HTMLSelectElement: 0, MediaList: 0, MimeTypeArray: 0, NamedNodeMap: 0, NodeList: 1, PaintRequestList: 0, Plugin: 0, PluginArray: 0, SVGLengthList: 0, SVGNumberList: 0, SVGPathSegList: 0, SVGPointList: 0, SVGStringList: 0, SVGTransformList: 0, SourceBufferList: 0, StyleSheetList: 0, TextTrackCueList: 0, TextTrackList: 0, TouchList: 0,
  }; const xk = Fa('iterator'); const fq = Fa('toStringTag'); const yk = Gd.values; let Zh; for (Zh in wk) { const gq = R[Zh]; const id = gq && gq.prototype; if (id) { if (id[xk] !== yk) try { kb(id, xk, yk); } catch (c) { id[xk] = yk; } if (id[fq] || kb(id, fq, Zh), wk[Zh]) for (const rf in Gd) if (id[rf] !== Gd[rf]) try { kb(id, rf, Gd[rf]); } catch (c) { id[rf] = Gd[rf]; } } } const hq = Object.is || function (e, t) { return e === t ? e !== 0 || 1 / e == 1 / t : e != e && t != t; }; Bh('search', 1, ((e, t, n) => [function (t) { const n = Eb(this); const r = t == null ? void 0 : t[e]; return void 0 !== r ? r.call(t, n) : new RegExp(t)[e](String(n)); }, function (e) { let r = n(t, e, this); if (r.done) return r.value; e = Ia(e); let o = String(this); return r = e.lastIndex, hq(r, 0) || (e.lastIndex = 0), o = ef(e, o), hq(e.lastIndex, r) || (e.lastIndex = r), o === null ? -1 : o.index; }])), xb(((e) => {
    !(function (t, n) { e.exports ? e.exports = n(t) : n(t); }(typeof self !== 'undefined' ? self : Ya, ((e) => {
      function t(e) { return btoa(e).replace(/=+$/, '').replace(/\+/g, '-').replace(/\//g, '_'); } function n(e) { return e = (e += '===').slice(0, -e.length % 4), atob(e.replace(/-/g, '+').replace(/_/g, '/')); } function r(e) { for (var t = new Uint8Array(e.length), n = 0; n < e.length; n++)t[n] = e.charCodeAt(n); return t; } function o(e) { return e instanceof ArrayBuffer && (e = new Uint8Array(e)), String.fromCharCode.apply(String, e); } function i(e) { const t = { name: (e.name || e || '').toUpperCase().replace('V', 'v') }; switch (t.name) { case 'SHA-1': case 'SHA-256': case 'SHA-384': case 'SHA-512': break; case 'AES-CBC': case 'AES-GCM': case 'AES-KW': e.length && (t.length = e.length); break; case 'HMAC': e.hash && (t.hash = i(e.hash)), e.length && (t.length = e.length); break; case 'RSAES-PKCS1-v1_5': e.publicExponent && (t.publicExponent = new Uint8Array(e.publicExponent)), e.modulusLength && (t.modulusLength = e.modulusLength); break; case 'RSASSA-PKCS1-v1_5': case 'RSA-OAEP': e.hash && (t.hash = i(e.hash)), e.publicExponent && (t.publicExponent = new Uint8Array(e.publicExponent)), e.modulusLength && (t.modulusLength = e.modulusLength); break; default: throw new SyntaxError('Bad algorithm name'); } return t; } function s(e) {
        return {
          HMAC: {
            'SHA-1': 'HS1', 'SHA-256': 'HS256', 'SHA-384': 'HS384', 'SHA-512': 'HS512',
          },
          'RSASSA-PKCS1-v1_5': {
            'SHA-1': 'RS1', 'SHA-256': 'RS256', 'SHA-384': 'RS384', 'SHA-512': 'RS512',
          },
          'RSAES-PKCS1-v1_5': { '': 'RSA1_5' },
          'RSA-OAEP': { 'SHA-1': 'RSA-OAEP', 'SHA-256': 'RSA-OAEP-256' },
          'AES-KW': { 128: 'A128KW', 192: 'A192KW', 256: 'A256KW' },
          'AES-GCM': { 128: 'A128GCM', 192: 'A192GCM', 256: 'A256GCM' },
          'AES-CBC': { 128: 'A128CBC', 192: 'A192CBC', 256: 'A256CBC' },
        }[e.name][(e.hash || {}).name || e.length || ''];
      } function a(e) { (e instanceof ArrayBuffer || e instanceof Uint8Array) && (e = JSON.parse(decodeURIComponent(escape(o(e))))); const t = { kty: e.kty, alg: e.alg, ext: e.ext || e.extractable }; switch (t.kty) { case 'oct': t.k = e.k; case 'RSA': 'n e d p q dp dq qi oth'.split(' ').forEach(((n) => { n in e && (t[n] = e[n]); })); break; default: throw new TypeError('Unsupported key type'); } return t; } function c(e) { return e = a(e), E && (e.extractable = e.ext, delete e.ext), r(unescape(encodeURIComponent(JSON.stringify(e)))).buffer; } function u(e) { let n = l(e); let r = !1; switch (n.length > 2 && (r = !0, n.shift()), e = { ext: !0 }, n[0][0]) { case '1.2.840.113549.1.1.1': var i = 'n e d p q dp dq qi'.split(' '); for (n = l(n[1]), r && n.shift(), r = 0; r < n.length; r++)n[r][0] || (n[r] = n[r].subarray(1)), e[i[r]] = t(o(n[r])); e.kty = 'RSA'; break; default: throw new TypeError('Unsupported key type'); } return e; } function l(e, t) { if (e instanceof ArrayBuffer && (e = new Uint8Array(e)), t || (t = { pos: 0, end: e.length }), t.end - t.pos < 2 || t.end > e.length) throw new RangeError('Malformed DER'); let n = e[t.pos++]; let r = e[t.pos++]; if (r >= 128) { if (r &= 127, t.end - t.pos < r) throw new RangeError('Malformed DER'); for (var i = 0; r--;)i <<= 8, i |= e[t.pos++]; r = i; } if (t.end - t.pos < r) throw new RangeError('Malformed DER'); switch (n) { case 2: n = e.subarray(t.pos, t.pos += r); break; case 3: if (e[t.pos++]) throw Error('Unsupported bit string'); r--; case 4: n = new Uint8Array(e.subarray(t.pos, t.pos += r)).buffer; break; case 5: n = null; break; case 6: if (!((e = btoa(o(e.subarray(t.pos, t.pos += r)))) in O)) throw Error(`Unsupported OBJECT ID ${e}`); n = O[e]; break; case 48: for (n = [], r = t.pos + r; t.pos < r;)n.push(l(e, t)); break; default: throw Error(`Unsupported DER tag 0x${n.toString(16)}`); } return n; } function f(e, t) { t || (t = []); const n = t.length + 2; if (t.push(0, 0), e instanceof Uint8Array) for (var o = 2, i = e.length, s = 0; s < i; s++)t.push(e[s]); else if (e instanceof ArrayBuffer) for (o = 4, i = e.byteLength, e = new Uint8Array(e), s = 0; s < i; s++)t.push(e[s]); else if (e === null)o = 5, i = 0; else if (typeof e === 'string' && e in _) for (o = 6, i = (e = r(atob(_[e]))).length, s = 0; s < i; s++)t.push(e[s]); else if (e instanceof Array) { for (s = 0; s < e.length; s++)f(e[s], t); o = 48, i = t.length - n; } else { if (!(qa(e) === 'object' && e.tag === 3 && e.value instanceof ArrayBuffer)) throw Error(`Unsupported DER value ${e}`); for (o = 3, i = (e = new Uint8Array(e.value)).byteLength, t.push(0), s = 0; s < i; s++)t.push(e[s]); i++; } if (i >= 128) { for (s = i, i = 4, t.splice(n, 0, s >> 24 & 255, s >> 16 & 255, s >> 8 & 255, 255 & s); i > 1 && !(s >> 24);)s <<= 8, i--; i < 4 && t.splice(n, 4 - i), i |= 128; } return t.splice(n - 2, 2, o, i), t; } function h(e, t, n, r) {
        Object.defineProperties(this, {
          _key: { value: e }, type: { value: e.type, enumerable: !0 }, extractable: { value: void 0 === n ? e.extractable : n, enumerable: !0 }, algorithm: { value: void 0 === t ? e.algorithm : t, enumerable: !0 }, usages: { value: void 0 === r ? e.usages : r, enumerable: !0 },
        });
      } function p(e) { return e === 'verify' || e === 'encrypt' || e === 'wrapKey'; } function d(e) { return e === 'sign' || e === 'decrypt' || e === 'unwrapKey'; } if (typeof Promise !== 'function') throw 'Promise support required'; const b = e.crypto || e.msCrypto; if (b) {
        const g = b.subtle || b.webkitSubtle; if (g) {
          const v = e.Crypto || b.constructor || Object; const y = e.SubtleCrypto || g.constructor || Object; e.CryptoKey || e.Key; const m = e.navigator.userAgent.indexOf('Edge/') > -1; var E = !!e.msCrypto && !m; const w = !b.subtle && !!b.webkitSubtle; if (E || w) {
            var O = { KoZIhvcNAQEB: '1.2.840.113549.1.1.1' }; var _ = { '1.2.840.113549.1.1.1': 'KoZIhvcNAQEB' }; if (['generateKey', 'importKey', 'unwrapKey'].forEach(((e) => {
              const t = g[e]; g[e] = function (o, l, f) {
                const v = [].slice.call(arguments); switch (e) { case 'generateKey': var y = i(o); var m = l; var O = f; break; case 'importKey': y = i(f), m = v[3], O = v[4], o === 'jwk' && ((l = a(l)).alg || (l.alg = s(y)), l.key_ops || (l.key_ops = l.kty !== 'oct' ? 'd' in l ? O.filter(d) : O.filter(p) : O.slice()), v[1] = c(l)); break; case 'unwrapKey': y = v[4], m = v[5], O = v[6], v[2] = f._key; } if (e === 'generateKey' && y.name === 'HMAC' && y.hash) {
                  return y.length = y.length || {
                    'SHA-1': 512, 'SHA-256': 512, 'SHA-384': 1024, 'SHA-512': 1024,
                  }[y.hash.name], g.importKey('raw', b.getRandomValues(new Uint8Array(y.length + 7 >> 3)), y, m, O);
                } if (w && e === 'generateKey' && y.name === 'RSASSA-PKCS1-v1_5' && (!y.modulusLength || y.modulusLength >= 2048)) return (o = i(o)).name = 'RSAES-PKCS1-v1_5', delete o.hash, g.generateKey(o, !0, ['encrypt', 'decrypt']).then(((e) => Promise.all([g.exportKey('jwk', e.publicKey), g.exportKey('jwk', e.privateKey)]))).then(((e) => (e[0].alg = e[1].alg = s(y), e[0].key_ops = O.filter(p), e[1].key_ops = O.filter(d), Promise.all([g.importKey('jwk', e[0], y, !0, e[0].key_ops), g.importKey('jwk', e[1], y, m, e[1].key_ops)])))).then(((e) => ({ publicKey: e[0], privateKey: e[1] }))); if ((w || E && (y.hash || {}).name === 'SHA-1') && e === 'importKey' && o === 'jwk' && y.name === 'HMAC' && l.kty === 'oct') return g.importKey('raw', r(n(l.k)), f, v[3], v[4]); if (w && e === 'importKey' && (o === 'spki' || o === 'pkcs8')) return g.importKey('jwk', u(l), f, v[3], v[4]); if (E && e === 'unwrapKey') return g.decrypt(v[3], f, l).then(((e) => g.importKey(o, e, v[4], v[5], v[6]))); try { var _ = t.apply(g, v); } catch (e) { return Promise.reject(e); } return E && (_ = new Promise(((e, t) => { _.onabort = _.onerror = function (e) { t(e); }, _.oncomplete = function (t) { e(t.target.result); }; }))), _ = _.then(((e) => (y.name !== 'HMAC' || y.length || (y.length = 8 * e.algorithm.length), y.name.search('RSA') == 0 && (y.modulusLength || (y.modulusLength = (e.publicKey || e).algorithm.modulusLength), y.publicExponent || (y.publicExponent = (e.publicKey || e).algorithm.publicExponent)), e.publicKey && e.privateKey ? { publicKey: new h(e.publicKey, y, m, O.filter(p)), privateKey: new h(e.privateKey, y, m, O.filter(d)) } : new h(e, y, m, O))));
              };
            })), ['exportKey', 'wrapKey'].forEach(((e) => {
              const i = g[e]; g[e] = function (c, u, l) {
                const h = [].slice.call(arguments); switch (e) { case 'exportKey': h[1] = u._key; break; case 'wrapKey': h[1] = u._key, h[2] = l._key; } if ((w || E && (u.algorithm.hash || {}).name === 'SHA-1') && e === 'exportKey' && c === 'jwk' && u.algorithm.name === 'HMAC' && (h[0] = 'raw'), !w || e !== 'exportKey' || c !== 'spki' && c !== 'pkcs8' || (h[0] = 'jwk'), E && e === 'wrapKey') return g.exportKey(c, u).then(((e) => (c === 'jwk' && (e = r(unescape(encodeURIComponent(JSON.stringify(a(e)))))), g.encrypt(h[3], l, e)))); try { var b = i.apply(g, h); } catch (e) { return Promise.reject(e); } return E && (b = new Promise(((e, t) => { b.onabort = b.onerror = function (e) { t(e); }, b.oncomplete = function (t) { e(t.target.result); }; }))), e === 'exportKey' && c === 'jwk' && (b = b.then(((e) => ((w || E && (u.algorithm.hash || {}).name === 'SHA-1') && u.algorithm.name === 'HMAC' ? {
                  kty: 'oct', alg: s(u.algorithm), key_ops: u.usages.slice(), ext: !0, k: t(o(e)),
                } : ((e = a(e)).alg || (e.alg = s(u.algorithm)), e.key_ops || (e.key_ops = u.type === 'public' ? u.usages.filter(p) : u.type === 'private' ? u.usages.filter(d) : u.usages.slice()), e))))), !w || e !== 'exportKey' || c !== 'spki' && c !== 'pkcs8' || (b = b.then(((e) => { const t = [['', null]]; let o = !1; switch ((e = a(e)).kty) { case 'RSA': for (var i = 'n e d p q dp dq qi'.split(' '), s = [], c = 0; c < i.length && i[c] in e; c++) { const u = s[c] = r(n(e[i[c]])); 128 & u[0] && (s[c] = new Uint8Array(u.length + 1), s[c].set(u, 1)); }s.length > 2 && (o = !0, s.unshift(new Uint8Array([0]))), t[0][0] = '1.2.840.113549.1.1.1'; break; default: throw new TypeError('Unsupported key type'); } return t.push(new Uint8Array(f(s)).buffer), o ? t.unshift(new Uint8Array([0])) : t[1] = { tag: 3, value: t[1] }, new Uint8Array(f(t)).buffer; }))), b;
              };
            })), ['encrypt', 'decrypt', 'sign', 'verify'].forEach(((e) => { const t = g[e]; g[e] = function (n, r, o, s) { if (E && (!o.byteLength || s && !s.byteLength)) throw Error('Empty input is not allowed'); const a = [].slice.call(arguments); const c = i(n); if (!E || e !== 'sign' && e !== 'verify' || n !== 'RSASSA-PKCS1-v1_5' && n !== 'HMAC' || (a[0] = { name: n }), E && r.algorithm.hash && (a[0].hash = a[0].hash || r.algorithm.hash), E && e === 'decrypt' && c.name === 'AES-GCM') { const u = n.tagLength >> 3; a[2] = (o.buffer || o).slice(0, o.byteLength - u), n.tag = (o.buffer || o).slice(o.byteLength - u); }E && c.name === 'AES-GCM' && void 0 === a[0].tagLength && (a[0].tagLength = 128), a[1] = r._key; try { var l = t.apply(g, a); } catch (e) { return Promise.reject(e); } return E && (l = new Promise(((t, n) => { l.onabort = l.onerror = function (e) { n(e); }, l.oncomplete = function (n) { if (n = n.target.result, e === 'encrypt' && n instanceof AesGcmEncryptResult) { const r = n.ciphertext; const o = n.tag; (n = new Uint8Array(r.byteLength + o.byteLength)).set(new Uint8Array(r), 0), n.set(new Uint8Array(o), r.byteLength), n = n.buffer; }t(n); }; }))), l; }; })), E) { const k = g.digest; g.digest = function (e, t) { if (!t.byteLength) throw Error('Empty input is not allowed'); try { var n = k.call(g, e, t); } catch (e) { return Promise.reject(e); } return n = new Promise(((e, t) => { n.onabort = n.onerror = function (e) { t(e); }, n.oncomplete = function (t) { e(t.target.result); }; })); }, e.crypto = Object.create(b, { getRandomValues: { value(e) { return b.getRandomValues(e); } }, subtle: { value: g } }), e.CryptoKey = h; }w && (b.subtle = g, e.Crypto = v, e.SubtleCrypto = y, e.CryptoKey = h);
          }
        }
      }
    })));
  })), (function (e) { e.console || (e.console = {}), e = e.console; for (var t, n = function () {}, r = ['memory'], o = 'assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn'.split(' '); t = r.pop();)e[t] || (e[t] = {}); for (;t = o.pop();)e[t] || (e[t] = n); }(typeof window === 'undefined' ? Ya : window)), ea({ target: 'Object', stat: !0 }, { setPrototypeOf: tb }); const uy = la((() => { uc(1); })); ea({
    target: 'Object', stat: !0, forced: uy, sham: !Oo,
  }, { getPrototypeOf(e) { return uc(pb(e)); } }); const iq = [].slice; const zk = {}; const vy = Function.bind || function (e) { const t = Wb(this); const n = iq.call(arguments, 1); var r = function () { let o = n.concat(iq.call(arguments)); if (this instanceof r) { const i = o.length; if (!(i in zk)) { for (var s = [], a = 0; a < i; a++)s[a] = `a[${a}]`; zk[i] = Function('C,a', `return new C(${s.join(',')})`); }o = zk[i](t, o); } else o = t.apply(e, o); return o; }; return xa(t.prototype) && (r.prototype = t.prototype), r; }; const Ak = Pc('Reflect', 'construct'); const jq = la((() => { function e() {} return !(Ak((() => {}), [], e) instanceof e); })); const kq = !la((() => { Ak((() => {})); })); const lq = jq || kq; ea({
    target: 'Reflect', stat: !0, forced: lq, sham: lq,
  }, { construct(e, t) { Wb(e), Ia(t); let n = arguments.length < 3 ? e : Wb(arguments[2]); if (kq && !jq) return Ak(e, t, n); if (e == n) { switch (t.length) { case 0: return new e(); case 1: return new e(t[0]); case 2: return new e(t[0], t[1]); case 3: return new e(t[0], t[1], t[2]); case 4: return new e(t[0], t[1], t[2], t[3]); } return (n = [null]).push.apply(n, t), new (vy.apply(e, n))(); }n = n.prototype, n = jc(xa(n) ? n : Object.prototype); const r = Function.apply.call(e, n, t); return xa(r) ? r : n; } }), ea({ target: 'Reflect', stat: !0 }, { get: Am }); const mq = dc.f; const wy = la((() => { mq(1); })); ea({
    target: 'Object', stat: !0, forced: !wa || wy, sham: !wa,
  }, { getOwnPropertyDescriptor(e, t) { return mq(Mb(e), t); } }); const nq = de.f; const xy = {}.toString; const oq = typeof window === 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []; let Bk = function (e) { if (oq && xy.call(e) == '[object Window]') try { var t = nq(e); } catch (e) { t = oq.slice(); } else t = nq(Mb(e)); return t; }; const pq = { f: Fa }; const yy = qb.f; const $h = function (e) { const t = R.Symbol || (R.Symbol = {}); ka(t, e) || yy(t, e, { value: pq.f(e) }); }; const Nb = xh('hidden'); const qq = Fa('toPrimitive'); const zy = cb.set; const rq = cb.getterFor('Symbol'); const kc = Object.prototype; let Ob = R.Symbol; const yg = Pc('JSON', 'stringify'); const sq = dc.f; const Jd = qb.f; const tq = Bk; const Ay = eg; const jd = Ad('symbols'); const zg = Ad('op-symbols'); const Ck = Ad('string-to-symbol-registry'); const Dk = Ad('symbol-to-string-registry'); const By = Ad('wks'); const Ek = R.QObject; let Fk = !Ek || !Ek.prototype || !Ek.prototype.findChild; const Gk = wa && la((() => jc(Jd({}, 'a', { get() { return Jd(this, 'a', { value: 7 }).a; } })).a != 7)) ? function (e, t, n) { const r = sq(kc, t); r && delete kc[t], Jd(e, t, n), r && e !== kc && Jd(kc, t, r); } : Jd; const Hk = function (e, t) { const n = jd[e] = jc(Ob.prototype); return zy(n, { type: 'Symbol', tag: e, description: t }), wa || (n.description = t), n; }; const Ik = zo ? function (e) { return typeof e === 'symbol'; } : function (e) { return Object(e) instanceof Ob; }; var ai = function (e, t, n) { return e === kc && ai(zg, t, n), Ia(e), t = Oc(t, !0), Ia(n), ka(jd, t) ? (n.enumerable ? (ka(e, Nb) && e[Nb][t] && (e[Nb][t] = !1), n = jc(n, { enumerable: Nc(0, !1) })) : (ka(e, Nb) || Jd(e, Nb, Nc(1, {})), e[Nb][t] = !0), Gk(e, t, n)) : Jd(e, t, n); }; const uq = function (e, t) { Ia(e); const n = Mb(t); return t = ed(n).concat(Jk(n)), fe(t, ((t) => { wa && !Kk.call(n, t) || ai(e, t, n[t]); })), e; }; var Kk = function (e) { e = Oc(e, !0); const t = Ay.call(this, e); return !(this === kc && ka(jd, e) && !ka(zg, e)) && (!(t || !ka(this, e) || !ka(jd, e) || ka(this, Nb) && this[Nb][e]) || t); }; const vq = function (e, t) { if (e = Mb(e), t = Oc(t, !0), e !== kc || !ka(jd, t) || ka(zg, t)) { const n = sq(e, t); return !n || !ka(jd, t) || ka(e, Nb) && e[Nb][t] || (n.enumerable = !0), n; } }; const wq = function (e) { e = tq(Mb(e)); const t = []; return fe(e, ((e) => { ka(jd, e) || ka(bf, e) || t.push(e); })), t; }; var Jk = function (e) { const t = e === kc; e = tq(t ? zg : Mb(e)); const n = []; return fe(e, ((e) => { !ka(jd, e) || t && !ka(kc, e) || n.push(jd[e]); })), n; }; if (Sc || (Ob = function () { if (this instanceof Ob) throw TypeError('Symbol is not a constructor'); const e = arguments.length && void 0 !== arguments[0] ? String(arguments[0]) : void 0; const t = af(e); var n = function (e) { this === kc && n.call(zg, e), ka(this, Nb) && ka(this[Nb], t) && (this[Nb][t] = !1), Gk(this, t, Nc(1, e)); }; return wa && Fk && Gk(kc, t, { configurable: !0, set: n }), Hk(t, e); }, Za(Ob.prototype, 'toString', (function () { return rq(this).tag; })), Za(Ob, 'withoutSetter', ((e) => Hk(af(e), e))), eg = Kk, qb.f = ai, dc.f = vq, de.f = Bk = wq, gg.f = Jk, pq.f = function (e) { return Hk(Fa(e), e); }, wa && (Jd(Ob.prototype, 'description', { configurable: !0, get() { return rq(this).description; } }), Za(kc, 'propertyIsEnumerable', Kk, { unsafe: !0 }))), ea({
    global: !0, wrap: !0, forced: !Sc, sham: !Sc,
  }, { Symbol: Ob }), fe(ed(By), ((e) => { $h(e); })), ea({ target: 'Symbol', stat: !0, forced: !Sc }, {
    for(e) { if (e = String(e), ka(Ck, e)) return Ck[e]; const t = Ob(e); return Ck[e] = t, Dk[t] = e, t; }, keyFor(e) { if (!Ik(e)) throw TypeError(`${e} is not a symbol`); if (ka(Dk, e)) return Dk[e]; }, useSetter() { Fk = !0; }, useSimple() { Fk = !1; },
  }), ea({
    target: 'Object', stat: !0, forced: !Sc, sham: !wa,
  }, {
    create(e, t) { return void 0 === t ? jc(e) : uq(jc(e), t); }, defineProperty: ai, defineProperties: uq, getOwnPropertyDescriptor: vq,
  }), ea({ target: 'Object', stat: !0, forced: !Sc }, { getOwnPropertyNames: wq, getOwnPropertySymbols: Jk }), ea({ target: 'Object', stat: !0, forced: la((() => { gg.f(1); })) }, { getOwnPropertySymbols(e) { return gg.f(pb(e)); } }), yg) { const Cy = !Sc || la((() => { const e = Ob(); return yg([e]) != '[null]' || yg({ a: e }) != '{}' || yg(Object(e)) != '{}'; })); ea({ target: 'JSON', stat: !0, forced: Cy }, { stringify(e, t, n) { for (var r, o = [e], i = 1; arguments.length > i;)o.push(arguments[i++]); if (r = t, (xa(t) || void 0 !== e) && !Ik(e)) return Ed(t) || (t = function (e, t) { if (typeof r === 'function' && (t = r.call(this, e, t)), !Ik(t)) return t; }), o[1] = t, yg.apply(null, o); } }); }Ob.prototype[qq] || kb(Ob.prototype, qq, Ob.prototype.valueOf), zc(Ob, 'Symbol'), bf[Nb] = !0; const Dy = qb.f; const kd = R.Symbol; if (wa && typeof kd === 'function' && (!('description' in kd.prototype) || void 0 !== kd().description)) { const xq = {}; var Ag = function () { const e = arguments.length < 1 || void 0 === arguments[0] ? void 0 : String(arguments[0]); const t = this instanceof Ag ? new kd(e) : void 0 === e ? kd() : kd(e); return e === '' && (xq[t] = !0), t; }; to(Ag, kd); const Lk = Ag.prototype = kd.prototype; Lk.constructor = Ag; const Ey = Lk.toString; const Fy = String(kd('test')) == 'Symbol(test)'; const Gy = /^Symbol\((.*)\)[^)]+$/; Dy(Lk, 'description', { configurable: !0, get() { let e = xa(this) ? this.valueOf() : this; const t = Ey.call(e); return ka(xq, e) ? '' : (e = Fy ? t.slice(7, -1) : t.replace(Gy, '$1')) === '' ? void 0 : e; } }), ea({ global: !0, forced: !0 }, { Symbol: Ag }); }$h('toStringTag'), zc(R.JSON, 'JSON', !0), zc(Math, 'Math', !0), (function () { function e(e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function'); } function t(e, t) { for (let n = 0; n < t.length; n++) { const r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(e, r.key, r); } } function n(e, n, r) { return n && t(e.prototype, n), r && t(e, r), e; } function r(e) { return (r = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e); })(e); } function o(e, t) { return (o = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e; })(e, t); } function i(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e; } function s(e) { const t = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct || Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (() => {}))), !0; } catch (e) { return !1; } }()); return function () { let n = r(e); if (t) { const o = r(this).constructor; n = Reflect.construct(n, arguments, o); } else n = n.apply(this, arguments); return n = !n || qa(n) !== 'object' && typeof n !== 'function' ? i(this) : n; }; } function a(e, t, n) { return (a = typeof Reflect !== 'undefined' && Reflect.get ? Reflect.get : function (e, t, n) { for (;!Object.prototype.hasOwnProperty.call(e, t) && (e = r(e)) !== null;);if (e) return (t = Object.getOwnPropertyDescriptor(e, t)).get ? t.get.call(n) : t.value; })(e, t, n || e); } const c = (function () { function t() { e(this, t), Object.defineProperty(this, 'listeners', { value: {}, writable: !0, configurable: !0 }); } return n(t, [{ key: 'addEventListener', value(e, t, n) { e in this.listeners || (this.listeners[e] = []), this.listeners[e].push({ callback: t, options: n }); } }, { key: 'removeEventListener', value(e, t) { if (e in this.listeners) for (let n = 0, r = (e = this.listeners[e]).length; n < r; n++) if (e[n].callback === t) { e.splice(n, 1); break; } } }, { key: 'dispatchEvent', value(e) { if (e.type in this.listeners) { for (let t = this.listeners[e.type].slice(), n = 0, r = t.length; n < r; n++) { const o = t[n]; try { o.callback.call(this, e); } catch (e) { Promise.resolve().then((() => { throw e; })); }o.options && o.options.once && this.removeEventListener(e.type, o.callback); } return !e.defaultPrevented; } } }]), t; }()); const u = (function (t) { function u() { e(this, u); const t = l.call(this); return t.listeners || c.call(i(t)), Object.defineProperty(i(t), 'aborted', { value: !1, writable: !0, configurable: !0 }), Object.defineProperty(i(t), 'onabort', { value: null, writable: !0, configurable: !0 }), t; }!(function (e, t) { if (typeof t !== 'function' && t !== null) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && o(e, t); }(u, t)); var l = s(u); return n(u, [{ key: 'toString', value() { return '[object AbortSignal]'; } }, { key: 'dispatchEvent', value(e) { e.type === 'abort' && (this.aborted = !0, typeof this.onabort === 'function' && this.onabort.call(this, e)), a(r(u.prototype), 'dispatchEvent', this).call(this, e); } }]), u; }(c)); const l = (function () { function t() { e(this, t), Object.defineProperty(this, 'signal', { value: new u(), writable: !0, configurable: !0 }); } return n(t, [{ key: 'abort', value() { try { var e = new Event('abort'); } catch (t) { typeof document !== 'undefined' ? document.createEvent ? (e = document.createEvent('Event')).initEvent('abort', !1, !1) : (e = document.createEventObject()).type = 'abort' : e = { type: 'abort', bubbles: !1, cancelable: !1 }; } this.signal.dispatchEvent(e); } }, { key: 'toString', value() { return '[object AbortController]'; } }]), t; }()); typeof Symbol !== 'undefined' && Symbol.toStringTag && (l.prototype[Symbol.toStringTag] = 'AbortController', u.prototype[Symbol.toStringTag] = 'AbortSignal'), (function (e) { if (e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) { console.log('__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill'); var t = !0; } else t = typeof e.Request === 'function' && !e.Request.prototype.hasOwnProperty('signal') || !e.AbortController; t && (e.AbortController = l, e.AbortSignal = u); }(typeof self !== 'undefined' ? self : Ya)); }()); const Hy = Math.floor; const Iy = Math.log; const Jy = Math.LOG2E; ea({ target: 'Math', stat: !0 }, { clz32(e) { return (e >>>= 0) ? 31 - Hy(Iy(e + 0.5) * Jy) : 32; } }); const Ky = Math.log; const Ly = Math.LN2; var cu = Math.clz32 || function (e) { return 31 - Ky(e >>> 0) / Ly | 0; }; var Ud = String.fromCharCode; const yq = {}.toString; const Mk = window.Uint8Array; const Nk = Mk || Array; const My = yq.call((window.ArrayBuffer || Nk).prototype); let Ok; Bm.prototype.decode = function (e) { if (e = e && e.buffer || e, yq.call(e) !== My) throw Error("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'"); for (var t = '', n = 0, r = 0 | (e = Mk ? new Nk(e) : e).length; n < r; n = n + 32768 | 0)t += Ud.apply(0, e[Mk ? 'slice' : 'subarray'](n, n + 32768 | 0)); return t.replace(/[\xc0-\xff][\x80-\xbf]*/g, bu); }, window.TextDecoder || (window.TextDecoder = Bm), Cm.prototype.encode = function (e) { for (var t = 0 | (e = void 0 === e ? '' : (`${e}`).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g, du)).length, n = new Nk(t), r = 0; r < t; r = r + 1 | 0)n[r] = e.charCodeAt(r); return n; }, window.TextEncoder || (window.TextEncoder = Cm), (function (e) { let t; let n; let r; let o; let i; let s; let a; let c; let u; let l; let f; let h; (n = t || (t = {})).LOGIN = 'LOGIN', n.LOGIN_SUCCESS = 'LOGIN_SUCCESS', n.LOGIN_FAILURE = 'LOGIN_FAILURE', n.LOGIN_TIMEOUT = 'LOGIN_TIMEOUT', n.INTERRUPTED = 'INTERRUPTED', n.LOGOUT = 'LOGOUT', n.BANNED_BY_SERVER = 'BANNED_BY_SERVER', n.REMOTE_LOGIN = 'REMOTE_LOGIN', n.TOKEN_EXPIRED = 'TOKEN_EXPIRED', e.ConnectionChangeReason = t, (function (e) { e.DISCONNECTED = 'DISCONNECTED', e.CONNECTING = 'CONNECTING', e.CONNECTED = 'CONNECTED', e.RECONNECTING = 'RECONNECTING', e.ABORTED = 'ABORTED'; }(r || (r = {}))), e.ConnectionState = r, (function (e) { e.IDLE = 'IDLE', e.SENT_TO_REMOTE = 'SENT_TO_REMOTE', e.RECEIVED_BY_REMOTE = 'RECEIVED_BY_REMOTE', e.ACCEPTED_BY_REMOTE = 'ACCEPTED_BY_REMOTE', e.REFUSED_BY_REMOTE = 'REFUSED_BY_REMOTE', e.CANCELED = 'CANCELED', e.FAILURE = 'FAILURE'; }(o || (o = {}))), e.LocalInvitationState = o, (function (e) { e.INVITATION_RECEIVED = 'INVITATION_RECEIVED', e.ACCEPT_SENT_TO_LOCAL = 'ACCEPT_SENT_TO_LOCAL', e.REFUSED = 'REFUSED', e.ACCEPTED = 'ACCEPTED', e.CANCELED = 'CANCELED', e.FAILURE = 'FAILURE'; }(i || (i = {}))), e.RemoteInvitationState = i, (function (e) { e.UNKNOWN = 'UNKNOWN', e.PEER_NO_RESPONSE = 'PEER_NO_RESPONSE', e.INVITATION_EXPIRE = 'INVITATION_EXPIRE', e.PEER_OFFLINE = 'PEER_OFFLINE', e.NOT_LOGGEDIN = 'NOT_LOGGEDIN'; }(s || (s = {}))), e.LocalInvitationFailureReason = s, (function (e) { e.UNKNOWN = 'UNKNOWN', e.PEER_OFFLINE = 'PEER_OFFLINE', e.ACCEPT_FAILURE = 'ACCEPT_FAILURE', e.INVITATION_EXPIRE = 'INVITATION_EXPIRE'; }(a || (a = {}))), e.RemoteInvitationFailureReason = a, (function (e) { e.ONLINE = 'ONLINE', e.UNREACHABLE = 'UNREACHABLE', e.OFFLINE = 'OFFLINE'; }(c || (c = {}))), e.PeerOnlineState = c, (u || (u = {})).ONLINE_STATUS = 'ONLINE_STATUS', e.PeerSubscriptionOption = u, (function (e) { e.TEXT = 'TEXT', e.RAW = 'RAW'; }(l || (l = {}))), e.MessageType = l, (function (e) { e.CN = 'CN', e.NA = 'NA', e.EU = 'EU', e.AS = 'AS', e.JP = 'JP', e.IN = 'IN', e.GLOB = 'GLOB', e.OC = 'OC', e.SA = 'SA', e.AF = 'AF', e.OVS = 'OVS'; }(f || (f = {}))), e.LegacyAreaCode = f, (function (e) { e.GLOBAL = 'GLOBAL', e.INDIA = 'INDIA', e.JAPAN = 'JAPAN', e.ASIA = 'ASIA', e.EUROPE = 'EUROPE', e.CHINA = 'CHINA', e.NORTH_AMERICA = 'NORTH_AMERICA'; }(h || (h = {}))), e.AreaCode = h; }(Ok || (Ok = {}))); const ta = Ok; ea({ target: 'Array', proto: !0 }, { includes(e) { return qo(this, e, arguments.length > 1 ? arguments[1] : void 0); } }), ng('includes'); const Pk = function (e) { if (Lj(e)) throw TypeError("The method doesn't accept regular expressions"); return e; }; const Ny = Fa('match'); const Qk = function (e) { const t = /./; try { '/./'[e](t); } catch (n) { try { return t[Ny] = !1, '/./'[e](t); } catch (e) {} } return !1; }; ea({ target: 'String', proto: !0, forced: !Qk('includes') }, { includes(e) { return !!~String(Eb(this)).indexOf(Pk(e), arguments.length > 1 ? arguments[1] : void 0); } }); const Ec = {
    RECONNECTING_AP_INTERVAL: 2500, RECONNECTING_AP_NUM: 2, DISABLE_MESSAGE_COMPRESSION: !1, LOG_UPLOAD_INTERVAL: 3e3, LOG_HANDLER: void 0, ENABLE_EDGE_AUTO_FALLBACK: !0,
  }; $h('iterator'), $h('asyncIterator'); const Rk = ff('forEach') ? [].forEach : function (e) { return fe(this, e, arguments.length > 1 ? arguments[1] : void 0); }; let zq; for (zq in wk) { const Aq = R[zq]; const bi = Aq && Aq.prototype; if (bi && bi.forEach !== Rk) try { kb(bi, 'forEach', Rk); } catch (c) { bi.forEach = Rk; } } const Oy = [].reverse; const Bq = [1, 2]; ea({ target: 'Array', proto: !0, forced: String(Bq) === String(Bq.reverse()) }, { reverse() { return Ed(this) && (this.length = this.length), Oy.call(this); } }); var N = xb(((e) => {
    e = (function (e) {
      function t(e, t, n) {
        return Object.defineProperty(e, t, {
          value: n, enumerable: !0, configurable: !0, writable: !0,
        }), e[t];
      } function n(e, t, n, i) { return t = Object.create((t && t.prototype instanceof o ? t : o).prototype), i = new h(i || []), t._invoke = (function (e, t, n) { let o = O; return function (i, s) { if (o === k) throw Error('Generator is already running'); if (o === I) { if (i === 'throw') throw s; return d(); } for (n.method = i, n.arg = s; ;) { if ((i = n.delegate) && (i = u(i, n))) { if (i === A) continue; return i; } if (n.method === 'next')n.sent = n._sent = n.arg; else if (n.method === 'throw') { if (o === O) throw o = I, n.arg; n.dispatchException(n.arg); } else n.method === 'return' && n.abrupt('return', n.arg); if (o = k, (i = r(e, t, n)).type === 'normal') { if (o = n.done ? I : _, i.arg === A) continue; return { value: i.arg, done: n.done }; }i.type === 'throw' && (o = I, n.method = 'throw', n.arg = i.arg); } }; }(e, n, i)), t; } function r(e, t, n) { try { return { type: 'normal', arg: e.call(t, n) }; } catch (e) { return { type: 'throw', arg: e }; } } function o() {} function i() {} function s() {} function a(e) { ['next', 'throw', 'return'].forEach(((n) => { t(e, n, (function (e) { return this._invoke(n, e); })); })); } function c(e, t) { function n(o, i, s, a) { if ((o = r(e[o], e, i)).type !== 'throw') { const c = o.arg; return (o = c.value) && qa(o) === 'object' && v.call(o, '__await') ? t.resolve(o.__await).then(((e) => { n('next', e, s, a); }), ((e) => { n('throw', e, s, a); })) : t.resolve(o).then(((e) => { c.value = e, s(c); }), ((e) => n('throw', e, s, a))); }a(o.arg); } let o; this._invoke = function (e, r) { function i() { return new t(((t, o) => { n(e, r, t, o); })); } return o = o ? o.then(i, i) : i(); }; } function u(e, t) { let n = e.iterator[t.method]; if (n === b) { if (t.delegate = null, t.method === 'throw') { if (e.iterator.return && (t.method = 'return', t.arg = b, u(e, t), t.method === 'throw')) return A; t.method = 'throw', t.arg = new TypeError("The iterator does not provide a 'throw' method"); } return A; } return (n = r(n, e.iterator, t.arg)).type === 'throw' ? (t.method = 'throw', t.arg = n.arg, t.delegate = null, A) : (n = n.arg) ? n.done ? (t[e.resultName] = n.value, t.next = e.nextLoc, t.method !== 'return' && (t.method = 'next', t.arg = b), t.delegate = null, A) : n : (t.method = 'throw', t.arg = new TypeError('iterator result is not an object'), t.delegate = null, A); } function l(e) { const t = { tryLoc: e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t); } function f(e) { const t = e.completion || {}; t.type = 'normal', delete t.arg, e.completion = t; } function h(e) { this.tryEntries = [{ tryLoc: 'root' }], e.forEach(l, this), this.reset(!0); } function p(e) { if (e) { let t = e[m]; if (t) return t.call(e); if (typeof e.next === 'function') return e; if (!isNaN(e.length)) { let n = -1; return (t = function t() { for (;++n < e.length;) if (v.call(e, n)) return t.value = e[n], t.done = !1, t; return t.value = b, t.done = !0, t; }).next = t; } } return { next: d }; } function d() { return { value: b, done: !0 }; } let b; const g = Object.prototype; var v = g.hasOwnProperty; let y = typeof Symbol === 'function' ? Symbol : {}; var m = y.iterator || '@@iterator'; const E = y.asyncIterator || '@@asyncIterator'; const w = y.toStringTag || '@@toStringTag'; try { t({}, ''); } catch (e) { t = function (e, t, n) { return e[t] = n; }; }e.wrap = n; var O = 'suspendedStart'; var _ = 'suspendedYield'; var k = 'executing'; var I = 'completed'; var A = {}; t(y = {}, m, (function () { return this; })); let R = Object.getPrototypeOf; (R = R && R(R(p([])))) && R !== g && v.call(R, m) && (y = R); const N = s.prototype = o.prototype = Object.create(y); return i.prototype = s, t(N, 'constructor', s), t(s, 'constructor', i), i.displayName = t(s, w, 'GeneratorFunction'), e.isGeneratorFunction = function (e) { return !!(e = typeof e === 'function' && e.constructor) && (e === i || (e.displayName || e.name) === 'GeneratorFunction'); }, e.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, s) : (e.__proto__ = s, t(e, w, 'GeneratorFunction')), e.prototype = Object.create(N), e; }, e.awrap = function (e) { return { __await: e }; }, a(c.prototype), t(c.prototype, E, (function () { return this; })), e.AsyncIterator = c, e.async = function (t, r, o, i, s) { void 0 === s && (s = Promise); const a = new c(n(t, r, o, i), s); return e.isGeneratorFunction(r) ? a : a.next().then(((e) => (e.done ? e.value : a.next()))); }, a(N), t(N, w, 'Generator'), t(N, m, (function () { return this; })), t(N, 'toString', (() => '[object Generator]')), e.keys = function (e) { let t; const n = []; for (t in e)n.push(t); return n.reverse(), function t() { for (;n.length;) { const r = n.pop(); if (r in e) return t.value = r, t.done = !1, t; } return t.done = !0, t; }; }, e.values = p, h.prototype = {
        constructor: h, reset(e) { if (this.next = this.prev = 0, this.sent = this._sent = b, this.done = !1, this.delegate = null, this.method = 'next', this.arg = b, this.tryEntries.forEach(f), !e) for (const t in this)t.charAt(0) === 't' && v.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = b); }, stop() { this.done = !0; const e = this.tryEntries[0].completion; if (e.type === 'throw') throw e.arg; return this.rval; }, dispatchException(e) { function t(t, r) { return i.type = 'throw', i.arg = e, n.next = t, r && (n.method = 'next', n.arg = b), !!r; } if (this.done) throw e; for (var n = this, r = this.tryEntries.length - 1; r >= 0; --r) { const o = this.tryEntries[r]; var i = o.completion; if (o.tryLoc === 'root') return t('end'); if (o.tryLoc <= this.prev) { const s = v.call(o, 'catchLoc'); const a = v.call(o, 'finallyLoc'); if (s && a) { if (this.prev < o.catchLoc) return t(o.catchLoc, !0); if (this.prev < o.finallyLoc) return t(o.finallyLoc); } else if (s) { if (this.prev < o.catchLoc) return t(o.catchLoc, !0); } else { if (!a) throw Error('try statement without catch or finally'); if (this.prev < o.finallyLoc) return t(o.finallyLoc); } } } }, abrupt(e, t) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { const r = this.tryEntries[n]; if (r.tryLoc <= this.prev && v.call(r, 'finallyLoc') && this.prev < r.finallyLoc) { var o = r; break; } } return o && (e === 'break' || e === 'continue') && o.tryLoc <= t && t <= o.finallyLoc && (o = null), (n = o ? o.completion : {}).type = e, n.arg = t, o ? (this.method = 'next', this.next = o.finallyLoc, A) : this.complete(n); }, complete(e, t) { if (e.type === 'throw') throw e.arg; return e.type === 'break' || e.type === 'continue' ? this.next = e.arg : e.type === 'return' ? (this.rval = this.arg = e.arg, this.method = 'return', this.next = 'end') : e.type === 'normal' && t && (this.next = t), A; }, finish(e) { for (let t = this.tryEntries.length - 1; t >= 0; --t) { const n = this.tryEntries[t]; if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), f(n), A; } }, catch(e) { for (let t = this.tryEntries.length - 1; t >= 0; --t) { const n = this.tryEntries[t]; if (n.tryLoc === e) { if ((e = n.completion).type === 'throw') { var r = e.arg; f(n); } return r; } } throw Error('illegal catch attempt'); }, delegateYield(e, t, n) { return this.delegate = { iterator: p(e), resultName: t, nextLoc: n }, this.method === 'next' && (this.arg = b), A; },
      }, e;
    }(e.exports)); try { regeneratorRuntime = e; } catch (t) { (typeof globalThis === 'undefined' ? 'undefined' : qa(globalThis)) === 'object' ? globalThis.regeneratorRuntime = e : Function('r', 'regeneratorRuntime = r')(e); }
  })); const Cq = !la((() => Object.isExtensible(Object.preventExtensions({})))); const Sk = xb(((e) => {
    const t = qb.f; const n = af('meta'); let r = 0; const o = Object.isExtensible || function () { return !0; }; const i = function (e) { t(e, n, { value: { objectID: `O${++r}`, weakData: {} } }); }; var s = e.exports = {
      REQUIRED: !1, fastKey(e, t) { if (!xa(e)) return typeof e === 'symbol' ? e : (typeof e === 'string' ? 'S' : 'P') + e; if (!ka(e, n)) { if (!o(e)) return 'F'; if (!t) return 'E'; i(e); } return e[n].objectID; }, getWeakData(e, t) { if (!ka(e, n)) { if (!o(e)) return !0; if (!t) return !1; i(e); } return e[n].weakData; }, onFreeze(e) { return Cq && s.REQUIRED && o(e) && !ka(e, n) && i(e), e; },
    }; bf[n] = !0;
  })); const Dq = function (e, t, n) {
    const r = e.indexOf('Map') !== -1; const o = e.indexOf('Weak') !== -1; const i = r ? 'set' : 'add'; const s = R[e]; const a = s && s.prototype; let c = s; const u = {}; const l = function (e) { const t = a[e]; Za(a, e, e == 'add' ? function (e) { return t.call(this, e === 0 ? 0 : e), this; } : e == 'delete' ? function (e) { return !(o && !xa(e)) && t.call(this, e === 0 ? 0 : e); } : e == 'get' ? function (e) { return o && !xa(e) ? void 0 : t.call(this, e === 0 ? 0 : e); } : e == 'has' ? function (e) { return !(o && !xa(e)) && t.call(this, e === 0 ? 0 : e); } : function (e, n) { return t.call(this, e === 0 ? 0 : e, n), this; }); }; if (Qc(e, typeof s !== 'function' || !(o || a.forEach && !la((() => { (new s()).entries().next(); })))))c = n.getConstructor(t, e, r, i), Sk.REQUIRED = !0; else if (Qc(e, !0)) {
      const f = new c(); const h = f[i](o ? {} : -0, 1) != f; const p = la((() => { f.has(1); })); const d = Eh(((e) => { new s(e); })); const
        b = !o && la((() => { for (var e = new s(), t = 5; t--;)e[i](t, t); return !e.has(-0); })); d || ((c = t(((t, n) => (Ac(t, c, e), t = Wh(new s(), t, c), n != null && Jh(n, t[i], { that: t, AS_ENTRIES: r }), t)))).prototype = a, a.constructor = c), (p || b) && (l('delete'), l('has'), r && l('get')), (b || h) && l(i), o && a.clear && delete a.clear;
    } return u[e] = c, ea({ global: !0, forced: c != s }, u), zc(c, e), o || n.setStrong(c, e, r), c;
  }; const Py = qb.f; const Eq = Sk.fastKey; const Fq = cb.set; const Tk = cb.getterFor; const Gq = {
    getConstructor(e, t, n, r) {
      var o = e(((e, i) => {
        Ac(e, o, t), Fq(e, {
          type: t, index: jc(null), first: void 0, last: void 0, size: 0,
        }), wa || (e.size = 0), i != null && Jh(i, e[r], { that: e, AS_ENTRIES: n });
      })); const i = Tk(t); const s = function (e, t, n) {
        let r; const o = i(e); let s = a(e, t); return s ? s.value = n : (o.last = s = {
          index: r = Eq(t, !0), key: t, value: n, previous: t = o.last, next: void 0, removed: !1,
        }, o.first || (o.first = s), t && (t.next = s), wa ? o.size++ : e.size++, r !== 'F' && (o.index[r] = s)), e;
      }; var a = function (e, t) { e = i(e); const n = Eq(t); if (n !== 'F') return e.index[n]; for (e = e.first; e; e = e.next) if (e.key == t) return e; }; return kf(o.prototype, {
        clear() { for (var e = i(this), t = e.index, n = e.first; n;)n.removed = !0, n.previous && (n.previous = n.previous.next = void 0), delete t[n.index], n = n.next; e.first = e.last = void 0, wa ? e.size = 0 : this.size = 0; }, delete(e) { const t = i(this); if (e = a(this, e)) { const n = e.next; const r = e.previous; delete t.index[e.index], e.removed = !0, r && (r.next = n), n && (n.previous = r), t.first == e && (t.first = n), t.last == e && (t.last = r), wa ? t.size-- : this.size--; } return !!e; }, forEach(e) { for (var t, n = i(this), r = Dd(e, arguments.length > 1 ? arguments[1] : void 0, 3); t = t ? t.next : n.first;) for (r(t.value, t.key, this); t && t.removed;)t = t.previous; }, has(e) { return !!a(this, e); },
      }), kf(o.prototype, n ? { get(e) { return (e = a(this, e)) && e.value; }, set(e, t) { return s(this, e === 0 ? 0 : e, t); } } : { add(e) { return s(this, e = e === 0 ? 0 : e, e); } }), wa && Py(o.prototype, 'size', { get() { return i(this).size; } }), o;
    },
    setStrong(e, t, n) {
      const r = `${t} Iterator`; const o = Tk(t); const i = Tk(r); Wj(e, t, (function (e, t) {
        Fq(this, {
          type: r, target: e, state: o(e), kind: t, last: void 0,
        });
      }), (function () { for (var e = i(this), t = e.kind, n = e.last; n && n.removed;)n = n.previous; return e.target && (e.last = n = n ? n.next : e.state.first) ? t == 'keys' ? { value: n.key, done: !1 } : t == 'values' ? { value: n.value, done: !1 } : { value: [n.key, n.value], done: !1 } : (e.target = void 0, { value: void 0, done: !0 }); }), n ? 'entries' : 'values', !n, !0), og(t);
    },
  }; Dq('Set', ((e) => function () { return e(this, arguments.length ? arguments[0] : void 0); }), Gq); const Uk = Pc('Reflect', 'apply'); const Qy = Function.apply; const Ry = !la((() => { Uk((() => {})); })); ea({ target: 'Reflect', stat: !0, forced: Ry }, { apply(e, t, n) { return Wb(e), Ia(n), Uk ? Uk(e, t, n) : Qy.call(e, t, n); } }), ea({ target: 'Reflect', stat: !0 }, { ownKeys: so }); const Hq = Fa('isConcatSpreadable'); const Sy = Cd >= 51 || !la((() => { const e = []; return e[Hq] = !1, e.concat()[0] !== e; })); const Ty = kg('concat'); ea({ target: 'Array', proto: !0, forced: !Sy || !Ty }, { concat(e) { let t; const n = pb(this); const r = Dh(n, 0); let o = 0; let i = -1; for (t = arguments.length; i < t; i++) { const s = i === -1 ? n : arguments[i]; let a = s; if (xa(a)) { var c = a[Hq]; a = void 0 !== c ? !!c : Ed(a); } else a = !1; if (a) { if (o + (c = Ma(s.length)) > 9007199254740991) throw TypeError('Maximum allowed index exceeded'); for (a = 0; a < c; a++, o++)a in s && hf(r, o, s[a]); } else { if (o >= 9007199254740991) throw TypeError('Maximum allowed index exceeded'); hf(r, o++, s); } } return r.length = o, r; } }); const Uy = Bk; const Vy = la((() => !Object.getOwnPropertyNames(1))); ea({ target: 'Object', stat: !0, forced: Vy }, { getOwnPropertyNames: Uy }); const Wy = de.f; const Xy = dc.f; const Yy = qb.f; const Kd = R.Number; const ci = Kd.prototype; const Zy = xc(jc(ci)) == 'Number'; const Iq = function (e) { let t; let n = Oc(e, !1); if (typeof n === 'string' && n.length > 2) if ((e = (n = Oj(n)).charCodeAt(0)) === 43 || e === 45) { if ((e = n.charCodeAt(2)) === 88 || e === 120) return NaN; } else if (e === 48) { switch (n.charCodeAt(1)) { case 66: case 98: e = 2; var r = 49; break; case 79: case 111: e = 8, r = 55; break; default: return +n; } const o = (n = n.slice(2)).length; for (t = 0; t < o; t++) { const i = n.charCodeAt(t); if (i < 48 || i > r) return NaN; } return parseInt(n, e); } return +n; }; if (Qc('Number', !Kd(' 0o1') || !Kd('0b1') || Kd('+0x1'))) { for (var le = function (e) { const t = arguments.length < 1 ? 0 : e; const n = this; return n instanceof le && (Zy ? la((() => { ci.valueOf.call(n); })) : xc(n) != 'Number') ? Wh(new Kd(Iq(t)), n, le) : Iq(t); }, Jq = wa ? Wy(Kd) : 'MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range'.split(' '), Vk = 0, di; Jq.length > Vk; Vk++)ka(Kd, di = Jq[Vk]) && !ka(le, di) && Yy(le, di, Xy(Kd, di)); le.prototype = ci, ci.constructor = le, Za(R, 'Number', le); } const sf = (typeof Reflect === 'undefined' ? 'undefined' : qa(Reflect)) === 'object' ? Reflect : null; const Kq = sf && typeof sf.apply === 'function' ? sf.apply : function (e, t, n) { return Function.prototype.apply.call(e, t, n); }; const $y = sf && typeof sf.ownKeys === 'function' ? sf.ownKeys : Object.getOwnPropertySymbols ? function (e) { return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)); } : function (e) { return Object.getOwnPropertyNames(e); }; const Lq = Number.isNaN || function (e) { return e != e; }; Ba.EventEmitter = Ba, Ba.prototype._events = void 0, Ba.prototype._eventsCount = 0, Ba.prototype._maxListeners = void 0; let Mq = 10; Object.defineProperty(Ba, 'defaultMaxListeners', { enumerable: !0, get() { return Mq; }, set(e) { if (typeof e !== 'number' || e < 0 || Lq(e)) throw new RangeError(`The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ${e}.`); Mq = e; } }), Ba.init = function () { void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0; }, Ba.prototype.setMaxListeners = function (e) { if (typeof e !== 'number' || e < 0 || Lq(e)) throw new RangeError(`The value of "n" is out of range. It must be a non-negative number. Received ${e}.`); return this._maxListeners = e, this; }, Ba.prototype.getMaxListeners = function () { return void 0 === this._maxListeners ? Ba.defaultMaxListeners : this._maxListeners; }, Ba.prototype.emit = function (e) { for (var t = [], n = 1; n < arguments.length; n++)t.push(arguments[n]); n = e === 'error'; let r = this._events; if (void 0 !== r)n = n && void 0 === r.error; else if (!n) return !1; if (n) { var o; if (t.length > 0 && (o = t[0]), o instanceof Error) throw o; throw (t = Error(`Unhandled error.${o ? ` (${o.message})` : ''}`)).context = o, t; } if (void 0 === (n = r[e])) return !1; if (typeof n === 'function')Kq(n, this, t); else for (r = Gm(n, o = n.length), n = 0; n < o; ++n)Kq(r[n], this, t); return !0; }, Ba.prototype.addListener = function (e, t) { return Dm(this, e, t, !1); }, Ba.prototype.on = Ba.prototype.addListener, Ba.prototype.prependListener = function (e, t) { return Dm(this, e, t, !0); }, Ba.prototype.once = function (e, t) { return Wg(t), this.on(e, Em(this, e, t)), this; }, Ba.prototype.prependOnceListener = function (e, t) { return Wg(t), this.prependListener(e, Em(this, e, t)), this; }, Ba.prototype.removeListener = function (e, t) { let n; Wg(t); const r = this._events; if (void 0 === r) return this; const o = r[e]; if (void 0 === o) return this; if (o === t || o.listener === t)--this._eventsCount == 0 ? this._events = Object.create(null) : (delete r[e], r.removeListener && this.emit('removeListener', e, o.listener || t)); else if (typeof o !== 'function') { let i = -1; for (n = o.length - 1; n >= 0; n--) if (o[n] === t || o[n].listener === t) { var s = o[n].listener; i = n; break; } if (i < 0) return this; if (i === 0)o.shift(); else { for (;i + 1 < o.length; i++)o[i] = o[i + 1]; o.pop(); }o.length === 1 && (r[e] = o[0]), void 0 !== r.removeListener && this.emit('removeListener', e, s || t); } return this; }, Ba.prototype.off = Ba.prototype.removeListener, Ba.prototype.removeAllListeners = function (e) { let t = this._events; if (void 0 === t) return this; if (void 0 === t.removeListener) return arguments.length === 0 ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== t[e] && (--this._eventsCount == 0 ? this._events = Object.create(null) : delete t[e]), this; if (arguments.length === 0) { var n = Object.keys(t); for (t = 0; t < n.length; ++t) { const r = n[t]; r !== 'removeListener' && this.removeAllListeners(r); } return this.removeAllListeners('removeListener'), this._events = Object.create(null), this._eventsCount = 0, this; } if (typeof (n = t[e]) === 'function') this.removeListener(e, n); else if (void 0 !== n) for (t = n.length - 1; t >= 0; t--) this.removeListener(e, n[t]); return this; }, Ba.prototype.listeners = function (e) { return Fm(this, e, !0); }, Ba.prototype.rawListeners = function (e) { return Fm(this, e, !1); }, Ba.listenerCount = function (e, t) { return typeof e.listenerCount === 'function' ? e.listenerCount(t) : Hm.call(e, t); }, Ba.prototype.listenerCount = Hm, Ba.prototype.eventNames = function () { return this._eventsCount > 0 ? $y(this._events) : []; }, Ba.once = function (e, t) { return new Promise(((n, r) => { function o(n) { e.removeListener(t, i), r(n); } function i() { typeof e.removeListener === 'function' && e.removeListener('error', o), n([].slice.call(arguments)); }Im(e, t, i, { once: !0 }), t !== 'error' && fu(e, o, { once: !0 }); })); }; const tf = Object.assign; const Nq = Object.defineProperty; const Bg = !tf || la((() => { if (wa && ({ b: 1, ...tf(Nq({}, 'a', { enumerable: !0, get() { Nq(this, 'b', { value: 3, enumerable: !1 }); } }), { b: 2 }) }).b !== 1) return !0; const e = {}; const t = {}; const n = Symbol(); return e[n] = 7, 'abcdefghijklmnopqrst'.split('').forEach(((e) => { t[e] = e; })), ({ ...e })[n] != 7 || ed({ ...t }).join('') != 'abcdefghijklmnopqrst'; })) ? function (e, t) { for (var n = pb(e), r = arguments.length, o = 1, i = gg.f, s = eg; r > o;) for (var a, c = fg(arguments[o++]), u = i ? ed(c).concat(i(c)) : ed(c), l = u.length, f = 0; l > f;)a = u[f++], (!wa || s.call(c, a)) && (n[a] = c[a]); return n; } : tf; ea({ target: 'Object', stat: !0, forced: Object.assign !== Bg }, { assign: Bg }), Dq('Map', ((e) => function () { return e(this, arguments.length ? arguments[0] : void 0); }), Gq); const az = Math.log; const bz = Math.LN2; ea({ target: 'Math', stat: !0 }, { log2(e) { return az(e) / bz; } }); const cz = qb.f; const dz = de.f; const ez = cb.enforce; const fz = Fa('match'); const Vc = R.RegExp; const Wk = Vc.prototype; const Cg = /a/g; const Xk = /a/g; const Yk = new Vc(Cg) !== Cg; if (wa && Qc('RegExp', !Yk || Rc || la((() => (Xk[fz] = !1, Vc(Cg) != Cg || Vc(Xk) == Xk || Vc(Cg, 'i') != '/a/i'))))) { for (var ld = function (e, t) { let n; const r = this instanceof ld; const o = Lj(e); const i = void 0 === t; return !r && o && e.constructor === ld && i || (Yk ? o && !i && (e = e.source) : e instanceof ld && (i && (t = Gj.call(e)), e = e.source), Rc && (n = !!t && t.indexOf('y') > -1) && (t = t.replace(/y/g, '')), e = Wh(Yk ? new Vc(e, t) : Vc(e, t), r ? this : Wk, ld), Rc && n && (ez(e).sticky = !0)), e; }, gz = function (e) { e in ld || cz(ld, e, { configurable: !0, get() { return Vc[e]; }, set(t) { Vc[e] = t; } }); }, Oq = dz(Vc), Pq = 0; Oq.length > Pq;)gz(Oq[Pq++]); Wk.constructor = ld, ld.prototype = Wk, Za(R, 'RegExp', ld); }og('RegExp'), xg('Float32', ((e) => function (t, n, r) { return e(this, t, n, r); })), xg('Float64', ((e) => function (t, n, r) { return e(this, t, n, r); })), xg('Uint32', ((e) => function (t, n, r) { return e(this, t, n, r); })), xg('Uint16', ((e) => function (t, n, r) { return e(this, t, n, r); })); const Zk = function (e, t) { return e === t ? 0 : e == null ? t == null ? 0 : -1 : t == null ? e == null ? 0 : 1 : typeof e.compare === 'function' ? e.compare(t) : typeof t.compare === 'function' ? -t.compare(e) : e < t ? -1 : e > t ? 1 : 0; }; const $k = []; const Qq = $k.sort; const hz = la((() => { $k.sort(void 0); })); const iz = la((() => { $k.sort(null); })); const jz = ff('sort'); ea({ target: 'Array', proto: !0, forced: hz || !iz || !jz }, { sort(e) { return void 0 === e ? Qq.call(pb(this)) : Qq.call(pb(this), Wb(e)); } }); const Rq = Object.getPrototypeOf({}); const Dg = function (e, t) { let n; return e === t || (e == null ? e == t : qa(e.equiv) === 'function' ? e.equiv(t) : t == null ? e == t : qa(t.equiv) === 'function' ? t.equiv(e) : qa(e) !== 'string' && qa(t) !== 'string' && ((n = Object.getPrototypeOf(e)) != null && n !== Rq || (n = Object.getPrototypeOf(t)) != null && n !== Rq ? qa(e) !== 'function' && void 0 !== e.length && qa(t) !== 'function' && void 0 !== t.length ? lz(e, t) : e instanceof Set && t instanceof Set ? mz(e, t) : e instanceof Map && t instanceof Map ? nz(e, t) : e instanceof Date && t instanceof Date ? e.getTime() === t.getTime() : e instanceof RegExp && t instanceof RegExp ? e.toString() === t.toString() : e != e && t != t : kz(e, t))); }; var lz = function (e, t) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Dg; let r = e.length; if (r === t.length) for (;--r >= 0 && n(e[r], t[r]););return r < 0; }; var mz = function (e, t) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Dg; return e.size === t.size && n(Z(e.keys()).sort(), Z(t.keys()).sort()); }; var nz = function (e, t) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Dg; return e.size === t.size && n(Z(e).sort(), Z(t).sort()); }; var kz = function (e, t) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Dg; if (Object.keys(e).length !== Object.keys(t).length) return !1; for (const r in e) if (!t.hasOwnProperty(r) || !n(e[r], t[r])) return !1; return !0; }; const Sq = function (e) { const t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function (e) { return void 0 !== e ? `: ${e}` : ''; }; return (function (n) { function r(n) { return va(this, r), o.call(this, e(n) + t(n)); }Ga(r, n); var o = Ha(r); return r; }(Kf(Error))); }; const oz = Sq((() => 'illegal argument(s)')); const ei = function (e) { throw new oz(e); }; const al = Sq((() => 'index out of bounds')); const Tq = 1 / 4294967295; const pz = (function () { function e() { va(this, e); } return eb(e, [{ key: 'float', value() { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1; return this.int() * Tq * e; } }, { key: 'norm', value() { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1; return 2 * (this.int() * Tq - 0.5) * e; } }, { key: 'minmax', value(e, t) { return this.float() * (t - e) + e; } }]), e; }()); const bl = Math.random; const qz = new (function (e) { function t() { return va(this, t), n.apply(this, arguments); }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'int', value() { return 4294967296 * bl() >>> 0; } }, { key: 'float', value() { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1; return bl() * e; } }, { key: 'norm', value() { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1; return 2 * (bl() - 0.5) * e; } }]), t; }(pz))(); var Ni = Symbol(); var Lm = function () {}; const rz = Sk.onFreeze; const cl = Object.freeze; const sz = la((() => { cl(1); })); ea({
    target: 'Object', stat: !0, forced: sz, sham: !Cq,
  }, { freeze(e) { return cl && xa(e) ? cl(rz(e)) : e; } }); const tz = ff('reduce'); const uz = !fd && Cd > 79 && Cd < 83; ea({ target: 'Array', proto: !0, forced: !tz || uz }, { reduce(e) { return $p(this, e, arguments.length, arguments.length > 1 ? arguments[1] : void 0); } }); var Km = function (e) { return e != null && typeof e.xform === 'function' ? e.xform() : e; }; var Xg = (function () { function e(t) { va(this, e), this.value = t; } return eb(e, [{ key: 'deref', value() { return this.value; } }]), e; }()); var Oi = function (e) { return e instanceof Xg ? e.deref() : e; }; var hu = function (e, t) { return [e, function (e) { return e; }, t]; }; var vz = N.mark(((e, t) => { let n; let r; let o; let i; let s; let a; return N.wrap(((c) => { for (;;) switch (c.prev = c.next) { case 0: n = Km(e)(gu()), r = n[1], o = n[2], i = 0; case 4: if (!(i < t.length)) { c.next = 15; break; } if (s = t[i], !((a = o([], s)) instanceof Xg)) { c.next = 10; break; } return c.delegateYield(Oi(r(a.deref())), 't0', 9); case 9: return c.abrupt('return'); case 10: if (!a.length) { c.next = 12; break; } return c.delegateYield(a, 't1', 12); case 12: i++, c.next = 4; break; case 15: return c.delegateYield(Oi(r([])), 't2', 16); case 16: case 'end': return c.stop(); } }), vz); })); var iu = N.mark(Jm); var ju = function (e, t) { return [e[0], e[1], t]; }; const wz = (function () {
    function e(t) { va(this, e), this._length = 0, t && this.into(t); } return eb(e, [{ key: 'length', get() { return this._length; } }, { key: 'copy', value() { return new e(this); } }, { key: 'empty', value() { return new e(); } }, { key: 'clear', value() { this.release(); } }, { key: 'release', value() { for (var e, t = this.head; t;)e = t.next, delete t.value, delete t.prev, delete t.next, t = e; return delete this.head, delete this.tail, this._length = 0, !0; } }, { key: 'compare', value(e) { let t = this._length; if (t < e._length) return -1; if (t > e._length) return 1; if (t === 0) return 0; t = this.head, e = e.head; for (var n = 0; t && n == 0;)n = Zk(t.value, e.value), t = t.next, e = e.next; return n; } }, { key: 'equiv', value(t) { if (!(t instanceof e || t != null && typeof t !== 'function' && void 0 !== t.length) || this._length !== t.length) return !1; if (!this._length || this === t) return !0; for (let n = this.head, r = 0; r < t.length; r++) { if (!Dg(n.value, t[r])) return !1; n = n.next; } return !0; } }, { key: Symbol.iterator, value: N.mark((function e() { let t; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: t = this.head; case 1: if (!t) { e.next = 7; break; } return e.next = 4, t.value; case 4: t = t.next, e.next = 1; break; case 7: case 'end': return e.stop(); } }), e, this); })) }, { key: 'seq', value() { let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0; let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.length; if (!(e >= t || e < 0)) { e = this.nthCell(e); const n = this.nthCell(t - 1); return t = function e(t) { return { first() { return t.value; }, next() { return t !== n && t.next ? e(t.next) : void 0; } }; }, e ? t(e) : void 0; } } }, { key: 'cycle', value: N.mark((function e() { return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: return e.delegateYield(this, 't0', 2); case 2: e.next = 0; break; case 4: case 'end': return e.stop(); } }), e, this); })) }, { key: '$reduce', value(e, t) { for (let n = this.head; n && !(t instanceof Xg);)t = e(t, n.value), n = n.next; return t; } }, { key: 'drop', value() { const e = this.head; if (e) return (this.head = e.next) ? delete this.head.prev : delete this.tail, this._length--, e.value; } }, { key: 'cons', value(e) { return e = { value: e, next: this.head }, this.head ? this.head.prev = e : this.tail = e, this.head = e, this._length++, this; } }, { key: 'insertBefore', value(e, t) { return e || ei('cell is undefined'), t = { value: t, next: e, prev: e.prev }, e.prev ? e.prev.next = t : this.head = t, e.prev = t, this._length++, this; } }, { key: 'insertAfter', value(e, t) { return e || ei('cell is undefined'), t = { value: t, next: e.next, prev: e }, e.next ? e.next.prev = t : this.tail = t, e.next = t, this._length++, this; } }, { key: 'insertBeforeNth', value(e, t) { if (e < 0 && (e += this._length), e <= 0) return this.cons(t); if (e < 0 || e >= this._length) throw new al(e); return this.insertBefore(this.nthCellUnsafe(e), t); } }, { key: 'insertAfterNth', value(e, t) { if (e < 0 && (e += this._length), e >= this._length - 1) return this.push(t); if (e < 0 || e >= this._length) throw new al(e); return this.insertAfter(this.nthCellUnsafe(e), t); } }, { key: 'insertSorted', value(e, t) { t = t || Zk; for (let n = this.head; n;) { if (t(e, n.value) <= 0) return this.insertBefore(n, e); n = n.next; } return this.push(e); } }, { key: 'find', value(e) { for (let t = this.head; t;) { if (t.value === e) return t; t = t.next; } } }, { key: 'findWith', value(e) { for (let t = this.head; t;) { if (e(t.value)) return t; t = t.next; } } }, { key: 'concat', value() { for (var e = this.copy(), t = arguments.length, n = Array(t), r = 0; r < t; r++)n[r] = arguments[r]; for (t = 0; t < n.length; t++)e.into(n[t]); return e; } }, { key: 'into', value(e) { for (let t = 0; t < e.length; t++) this.push(e[t]); } }, { key: 'slice', value() { let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0; let n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.length; t = t < 0 ? t + this._length : t, n = n < 0 ? n + this._length : n, (t < 0 || n < 0) && ei('invalid indices: ${from} / ${to}'); for (var r = new e(), o = this.nthCell(t); o && ++t <= n;)r.push(o.value), o = o.next; return r; } }, { key: 'splice', value(t) { let n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0; const r = arguments.length > 2 ? arguments[2] : void 0; if (typeof t === 'number') { if (t < 0 && (t += this._length), t < 0 || t >= this._length) throw new al(t); var o = this.nthCellUnsafe(t); } else o = t; const i = new e(); if (n > 0) for (;o && n-- > 0;) this.remove(o), i.push(o.value), o = o.next; else o && (o = o.next); if (r) if (o) for (n = 0; n < r.length; n++) this.insertBefore(o, r[n]); else for (o = 0; o < r.length; o++) this.push(r[o]); return i; } }, { key: 'remove', value(e) { return e.prev ? e.prev.next = e.next : this.head = e.next, e.next ? e.next.prev = e.prev : this.tail = e.prev, this._length--, this; } }, { key: 'swap', value(e, t) { if (e !== t) { const n = e.value; e.value = t.value, t.value = n; } return this; } }, { key: 'push', value(e) { return this.tail ? (e = { value: e, prev: this.tail }, this.tail = this.tail.next = e, this._length++, this) : this.cons(e); } }, { key: 'pop', value() { const e = this.tail; if (e) return (this.tail = e.prev) ? delete this.tail.next : delete this.head, this._length--, e.value; } }, { key: 'first', value() { return this.head && this.head.value; } }, { key: 'peek', value() { return this.tail && this.tail.value; } }, { key: 'setHead', value(e) { return this.head ? (this.head.value = e, this) : this.cons(e); } }, { key: 'setTail', value(e) { return this.tail ? (this.tail.value = e, this) : this.push(e); } }, { key: 'setNth', value(e, t) { const n = this.nthCell(e); return !n && ei('index out of bounds: '.concat(e)), n.value = t, this; } }, { key: 'nth', value(e, t) { return (e = this.nthCell(e)) ? e.value : t; } }, { key: 'nthCell', value(e) { if (e < 0 && (e += this._length), !(e < 0 || e >= this._length)) return this.nthCellUnsafe(e); } }, { key: 'rotateLeft', value() { switch (this._length) { case 0: case 1: return this; case 2: return this.swap(this.head, this.tail); default: return this.push(this.drop()); } } }, { key: 'rotateRight', value() { switch (this._length) { case 0: case 1: return this; case 2: return this.swap(this.head, this.tail); default: var e = this.peek(); return this.pop(), this.cons(e); } } }, { key: 'map', value(t) { for (var n = new e(), r = this.head; r;)n.push(t(r.value)), r = r.next; return n; } }, { key: 'filter', value(t) { for (var n = new e(), r = this.head; r;)t(r.value) && n.push(r.value), r = r.next; return n; } }, { key: 'reduce', value(e, t) { for (let n = this.head; n;)t = e(t, n.value), n = n.next; return t; } }, { key: 'shuffle', value(e) { const t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : qz; if (this._length < 2) return this; for (e = e != null ? e : Math.ceil(1.5 * Math.log2(this._length)); e > 0; e--) for (let n = this.head; n;) { const r = n.next; t.float() < 0.5 ? this.asHead(n) : this.asTail(n), n = r; } return this; } }, { key: 'sort', value() { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Zk; if (!this._length) return this; for (let t = 1; ;) { let n = this.head; this.tail = this.head = void 0; for (var r = 0; n;) { r++; for (var o = n, i = 0, s = 0; s < t && (i++, o = o.next); s++);for (s = t; i > 0 || s > 0 && o;) { if (i === 0) { var a = o; o = o.next, s--; } else o && s !== 0 ? e(n.value, o.value) <= 0 ? (a = n, n = n.next, i--) : (a = o, o = o.next, s--) : (a = n, n = n.next, i--); this.tail ? this.tail.next = a : this.head = a, a.prev = this.tail, this.tail = a; }n = o; } if (this.tail.next = void 0, r <= 1) return this; t *= 2; } } }, { key: 'reverse', value() { for (let e = this.head, t = this.tail, n = (this._length >>> 1) + (1 & this._length); e && t && n > 0;) { const r = e.value; e.value = t.value, t.value = r, e = e.next, t = t.prev, n--; } return this; } }, { key: 'asHead', value(e) { return e === this.head || (this.remove(e), this.head.prev = e, e.next = this.head, e.prev = void 0, this.head = e, this._length++), this; } }, { key: 'asTail', value(e) { return e === this.tail || (this.remove(e), this.tail.next = e, e.prev = this.tail, e.next = void 0, this.tail = e, this._length++), this; } }, { key: 'toString', value() { for (var e = [], t = this.head; t;)e.push(String(t.value)), t = t.next; return e.join(', '); } }, { key: 'toJSON', value() { return Z(this); } }, {
      key: 'nthCellUnsafe',
      value(e) {
        if (e <= this._length >> 1) {
          var t = this.head;
          var n = 'next';
        } else t = this.tail, n = 'prev', e = this._length - e - 1; for (;e-- > 0 && t;)t = t[n]; return t;
      },
    }]), e;
  }()); const Wc = (function () {
    function e(t, n) {
      va(this, e), n = {
        maxlen: 1 / 0, maxsize: 1 / 0, map() { return new Map(); }, ksize() { return 0; }, vsize() { return 0; }, ...n,
      }, this.map = n.map(), this.items = new wz(), this._size = 0, this.opts = n, t && this.into(t);
    } return eb(e, [{ key: 'length', get() { return this.items.length; } }, { key: 'size', get() { return this._size; } }, { key: Symbol.iterator, value() { return this.entries(); } }, { key: 'entries', value() { return Yg(((e) => [e.k, e]), this.items); } }, { key: 'keys', value() { return Yg(((e) => e.k), this.items); } }, { key: 'values', value() { return Yg(((e) => e.v), this.items); } }, { key: 'copy', value() { const e = this.empty(); e.items = this.items.copy(); for (let t = e.items.head; t;)e.map.set(t.value.k, t), t = t.next; return e; } }, { key: 'empty', value() { return new e(null, this.opts); } }, { key: 'release', value() { this._size = 0, this.map.clear(); const e = this.opts.release; if (e) { for (var t; t = this.items.drop();)e(t.k, t.v); return !0; } return this.items.release(); } }, { key: 'has', value(e) { return this.map.has(e); } }, { key: 'get', value(e, t) { return (e = this.map.get(e)) ? this.resetEntry(e) : t; } }, { key: 'set', value(e, t) { const n = this.opts.ksize(e) + this.opts.vsize(t); const r = this.map.get(e); return this._size += Math.max(0, n - (r ? r.value.s : 0)), this.ensureSize() && this.doSetEntry(r, e, t, n), t; } }, { key: 'into', value(e) { for (let t = 0; t < e.length; t++) { const n = e[t]; this.set(n[0], n[1]); } return this; } }, { key: 'getSet', value(e, t) { const n = this; const r = this.map.get(e); return r ? Promise.resolve(this.resetEntry(r)) : t().then(((t) => n.set(e, t))); } }, { key: 'delete', value(e) { return !!(e = this.map.get(e)) && (this.removeEntry(e), !0); } }, { key: 'resetEntry', value(e) { return this.items.asTail(e), e.value.v; } }, { key: 'ensureSize', value() { for (let e = this.opts.release, t = this.opts.maxsize, n = this.opts.maxlen; this._size > t || this.length >= n;) { const r = this.items.drop(); if (!r) return !1; this.map.delete(r.k), e && e(r.k, r.v), this._size -= r.s; } return !0; } }, { key: 'removeEntry', value(e) { const t = e.value; this.map.delete(t.k), this.items.remove(e), this.opts.release && this.opts.release(t.k, t.v), this._size -= t.s; } }, { key: 'doSetEntry', value(e, t, n, r) { e ? (e.value.v = n, e.value.s = r, this.items.asTail(e)) : (this.items.push({ k: t, v: n, s: r }), this.map.set(t, this.items.tail)); } }]), e;
  }()); const xz = (function (e) {
    function t(e, r) { return va(this, t), r = { ttl: 36e5, ...r }, n.call(this, e, r); }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'empty', value() { return new t(null, this.opts); } }, { key: 'has', value(e) { return void 0 !== this.get(e); } }, { key: 'get', value(e, t) { if (e = this.map.get(e)) { if (e.value.t >= Date.now()) return this.resetEntry(e); this.removeEntry(e); } return t; } }, {
      key: 'set',
      value(e, t) {
        let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.opts.ttl; const r = this.opts.ksize(e) + this.opts.vsize(t); const o = this.map.get(e); return this._size += Math.max(0, r - (o ? o.value.s : 0)), this.ensureSize() && (n = Date.now() + n, o ? (o.value.v = t, o.value.s = r, o.value.t = n, this.items.asTail(o)) : (this.items.push({
          k: e, v: t, s: r, t: n,
        }), this.map.set(e, this.items.tail))), t;
      },
    }, { key: 'getSet', value(e, t) { const n = this; const r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.opts.ttl; const o = this.get(e); return o ? Promise.resolve(o) : t().then(((t) => n.set(e, t, r))); } }, { key: 'prune', value() { for (let e = Date.now(), t = this.items.head; t;)t.value.t < e && this.removeEntry(t), t = t.next; } }, { key: 'ensureSize', value() { for (let e = this.opts.maxsize, n = this.opts.maxlen, r = Date.now(), o = this.items.head; o && (this._size > e || this.length >= n);)o.value.t < r && this.removeEntry(o), o = o.next; return Li(Td(t.prototype), 'ensureSize', this).call(this); } }]), t;
  }(Wc)); const Uq = qa(Ya) == 'object' && Ya && Ya.Object === Object && Ya; const yz = (typeof self === 'undefined' ? 'undefined' : qa(self)) == 'object' && self && self.Object === Object && self; const $b = Uq || yz || Function('return this')(); const lc = $b.Symbol; const Vq = Object.prototype; const zz = Vq.hasOwnProperty; const Az = Vq.toString; const Eg = lc ? lc.toStringTag : void 0; const Bz = Object.prototype.toString; const Wq = lc ? lc.toStringTag : void 0; const me = function (e) { if (e == null)e = void 0 === e ? '[object Undefined]' : '[object Null]'; else if (Wq && Wq in Object(e)) { const t = zz.call(e, Eg); const n = e[Eg]; try { e[Eg] = void 0; var r = !0; } catch (e) {} const o = Az.call(e); r && (t ? e[Eg] = n : delete e[Eg]), e = o; } else e = Bz.call(e); return e; }; var Gb = function (e) { const t = qa(e); return e != null && (t == 'object' || t == 'function'); }; var jj = function (e) { return !!Gb(e) && ((e = me(e)) == '[object Function]' || e == '[object GeneratorFunction]' || e == '[object AsyncFunction]' || e == '[object Proxy]'); }; const dl = $b['__core-js_shared__']; const Xq = (function () { const e = /[^.]+$/.exec(dl && dl.keys && dl.keys.IE_PROTO || ''); return e ? `Symbol(src)_1.${e}` : ''; }()); const Cz = Function.prototype.toString; const ne = function (e) { if (e != null) { try { return Cz.call(e); } catch (e) {} return `${e}`; } return ''; }; const Dz = /^\[object .+?Constructor\]$/; const Ez = RegExp(`^${Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g, '\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?')}$`); const oe = function (e, t) { return e = e == null ? void 0 : e[t], !Gb(e) || Xq && Xq in e || !(jj(e) ? Ez : Dz).test(ne(e)) ? void 0 : e; }; const Fg = oe(Object, 'create'); const Fz = Object.prototype.hasOwnProperty; const Gz = Object.prototype.hasOwnProperty; Vd.prototype.clear = function () { this.__data__ = Fg ? Fg(null) : {}, this.size = 0; }, Vd.prototype.delete = function (e) { return e = this.has(e) && delete this.__data__[e], this.size -= e ? 1 : 0, e; }, Vd.prototype.get = function (e) { const t = this.__data__; return Fg ? (e = t[e]) === '__lodash_hash_undefined__' ? void 0 : e : Fz.call(t, e) ? t[e] : void 0; }, Vd.prototype.has = function (e) { const t = this.__data__; return Fg ? void 0 !== t[e] : Gz.call(t, e); }, Vd.prototype.set = function (e, t) { const n = this.__data__; return this.size += this.has(e) ? 0 : 1, n[e] = Fg && void 0 === t ? '__lodash_hash_undefined__' : t, this; }; const Gg = function (e, t) { return e === t || e != e && t != t; }; const fi = function (e, t) { for (let n = e.length; n--;) if (Gg(e[n][0], t)) return n; return -1; }; const Hz = Array.prototype.splice; Ee.prototype.clear = function () { this.__data__ = [], this.size = 0; }, Ee.prototype.delete = function (e) { const t = this.__data__; return !((e = fi(t, e)) < 0) && (e == t.length - 1 ? t.pop() : Hz.call(t, e, 1), --this.size, !0); }, Ee.prototype.get = function (e) { const t = this.__data__; return (e = fi(t, e)) < 0 ? void 0 : t[e][1]; }, Ee.prototype.has = function (e) { return fi(this.__data__, e) > -1; }, Ee.prototype.set = function (e, t) { const n = this.__data__; const r = fi(n, e); return r < 0 ? (++this.size, n.push([e, t])) : n[r][1] = t, this; }; var $g = Ee; const Hg = oe($b, 'Map'); const gi = function (e, t) { e = e.__data__; const n = qa(t); return (n == 'string' || n == 'number' || n == 'symbol' || n == 'boolean' ? t !== '__proto__' : t === null) ? e[typeof t === 'string' ? 'string' : 'hash'] : e.map; }; Fe.prototype.clear = function () { this.size = 0, this.__data__ = { hash: new Vd(), map: new (Hg || $g)(), string: new Vd() }; }, Fe.prototype.delete = function (e) { return e = gi(this, e).delete(e), this.size -= e ? 1 : 0, e; }, Fe.prototype.get = function (e) { return gi(this, e).get(e); }, Fe.prototype.has = function (e) { return gi(this, e).has(e); }, Fe.prototype.set = function (e, t) { const n = gi(this, e); const r = n.size; return n.set(e, t), this.size += n.size == r ? 0 : 1, this; }; var Zg = Fe; Lf.prototype.add = Lf.prototype.push = function (e) { return this.__data__.set(e, '__lodash_hash_undefined__'), this; }, Lf.prototype.has = function (e) { return this.__data__.has(e); }; const Yq = function (e, t, n, r) { const o = e.length; for (n += r ? 1 : -1; r ? n-- : ++n < o;) if (t(e[n], n, e)) return n; return -1; }; const Iz = function (e) { return e != e; }; const Jz = function (e, t) { let n; if (n = !(e == null || !e.length)) { if (t == t)e: { n = -1; for (let r = e.length; ++n < r;) if (e[n] === t) { e = n; break e; }e = -1; } else e = Yq(e, Iz, 0); n = e > -1; } return n; }; const Kz = function (e, t, n) { for (let r = -1, o = e == null ? 0 : e.length; ++r < o;) if (n(t, e[r])) return !0; return !1; }; const Lz = function (e, t) { return e.has(t); }; const uf = oe($b, 'Set'); const Mz = function () {}; const el = function (e) { let t = -1; const n = Array(e.size); return e.forEach(((e) => { n[++t] = e; })), n; }; const Nz = 1 / 0; const Oz = uf && 1 / el(new uf([, -0]))[1] == Nz ? function (e) { return new uf(e); } : Mz; const fl = function (e, t, n) { let r = -1; let o = Jz; const i = e.length; let s = !0; const a = []; let c = a; if (n)s = !1, o = Kz; else if (i >= 200) { if (o = t ? null : Oz(e)) return el(o); s = !1, o = Lz, c = new Lf(); } else c = t ? [] : a; e:for (;++r < i;) { let u = e[r]; const l = t ? t(u) : u; if (u = n || u !== 0 ? u : 0, s && l == l) { for (let f = c.length; f--;) if (c[f] === l) continue e; t && c.push(l), a.push(u); } else o(c, l, n) || (c !== a && c.push(l), a.push(u)); } return a; }; const Zq = function (e) { for (var t = -1, n = e == null ? 0 : e.length, r = {}; ++t < n;) { const o = e[t]; r[o[0]] = o[1]; } return r; }; var Je = function (e, t) { for (var n = -1, r = e == null ? 0 : e.length, o = Array(r); ++n < r;)o[n] = t(e[n], n, e); return o; }; Ge.prototype.clear = function () { this.__data__ = new $g(), this.size = 0; }, Ge.prototype.delete = function (e) { const t = this.__data__; return e = t.delete(e), this.size = t.size, e; }, Ge.prototype.get = function (e) { return this.__data__.get(e); }, Ge.prototype.has = function (e) { return this.__data__.has(e); }, Ge.prototype.set = function (e, t) { let n = this.__data__; if (n instanceof $g) { const r = n.__data__; if (!Hg || r.length < 199) return r.push([e, t]), this.size = ++n.size, this; n = this.__data__ = new Zg(r); } return n.set(e, t), this.size = n.size, this; }; var Ie = Ge; var su = function (e, t) { for (let n = -1, r = e == null ? 0 : e.length; ++n < r && !1 !== t(e[n], n, e););return e; }; const hi = (function () { try { const e = oe(Object, 'defineProperty'); return e({}, '', {}), e; } catch (e) {} }()); const Ig = function (e, t, n) {
    t == '__proto__' && hi ? hi(e, t, {
      configurable: !0, enumerable: !0, value: n, writable: !0,
    }) : e[t] = n;
  }; const Pz = Object.prototype.hasOwnProperty; var Qm = function (e, t, n) { const r = e[t]; Pz.call(e, t) && Gg(r, n) && (void 0 !== n || t in e) || Ig(e, t, n); }; var Ue = function (e, t, n, r) { const o = !n; n || (n = {}); for (let i = -1, s = t.length; ++i < s;) { const a = t[i]; let c = r ? r(n[a], e[a], a, n, e) : void 0; void 0 === c && (c = e[a]), o ? Ig(n, a, c) : Qm(n, a, c); } return n; }; var Hc = function (e) { return e != null && qa(e) == 'object'; }; const $q = function (e) { return Hc(e) && me(e) == '[object Arguments]'; }; const ar = Object.prototype; const Qz = ar.hasOwnProperty; const Rz = ar.propertyIsEnumerable; var Vf = $q(function () { return arguments; }()) ? $q : function (e) { return Hc(e) && Qz.call(e, 'callee') && !Rz.call(e, 'callee'); }; var ub = Array.isArray; const Sz = function () { return !1; }; var Nf = xb(((e, t) => { const n = (t = t && !t.nodeType && t) && e && !e.nodeType && e; t = n && n.exports === t ? $b.Buffer : void 0, e.exports = (t ? t.isBuffer : void 0) || Sz; })); const Tz = /^(?:0|[1-9]\d*)$/; const gl = function (e, t) { const n = qa(e); return !!(t = t == null ? 9007199254740991 : t) && (n == 'number' || n != 'symbol' && Tz.test(e)) && e > -1 && e % 1 == 0 && e < t; }; const hl = function (e) { return typeof e === 'number' && e > -1 && e % 1 == 0 && e <= 9007199254740991; }; const Va = {}; Va['[object Float32Array]'] = Va['[object Float64Array]'] = Va['[object Int8Array]'] = Va['[object Int16Array]'] = Va['[object Int32Array]'] = Va['[object Uint8Array]'] = Va['[object Uint8ClampedArray]'] = Va['[object Uint16Array]'] = Va['[object Uint32Array]'] = !0, Va['[object Arguments]'] = Va['[object Array]'] = Va['[object ArrayBuffer]'] = Va['[object Boolean]'] = Va['[object DataView]'] = Va['[object Date]'] = Va['[object Error]'] = Va['[object Function]'] = Va['[object Map]'] = Va['[object Number]'] = Va['[object Object]'] = Va['[object RegExp]'] = Va['[object Set]'] = Va['[object String]'] = Va['[object WeakMap]'] = !1; const Uz = function (e) { return Hc(e) && hl(e.length) && !!Va[me(e)]; }; const ii = function (e) { return function (t) { return e(t); }; }; const vf = xb(((e, t) => { let n = t && !t.nodeType && t; n = (t = n && e && !e.nodeType && e) && t.exports === n && Uq.process; e: { try { const r = t && t.require && t.require('util').types; if (r) { var o = r; break e; }o = n && n.binding && n.binding('util'); break e; } catch (e) {}o = void 0; }e.exports = o; })); const br = vf && vf.isTypedArray; var Ui = br ? ii(br) : Uz; const Vz = Object.prototype.hasOwnProperty; const cr = function (e, t) { let n = ub(e); let r = !n && Vf(e); const o = !n && !r && Nf(e); const i = !n && !r && !o && Ui(e); if (n = n || r || o || i) { r = e.length; for (var s = String, a = -1, c = Array(r); ++a < r;)c[a] = s(a); r = c; } else r = []; for (const u in s = r.length, e)!t && !Vz.call(e, u) || n && (u == 'length' || o && (u == 'offset' || u == 'parent') || i && (u == 'buffer' || u == 'byteLength' || u == 'byteOffset') || gl(u, s)) || r.push(u); return r; }; const Wz = Object.prototype; const il = function (e) { const t = e && e.constructor; return e === (typeof t === 'function' && t.prototype || Wz); }; const dr = function (e, t) { return function (n) { return e(t(n)); }; }; const Xz = dr(Object.keys, Object); const Yz = Object.prototype.hasOwnProperty; var ae = function (e) { return e != null && hl(e.length) && !jj(e); }; var Wd = function (e) { if (ae(e))e = cr(e); else if (il(e)) { let t; const n = []; for (t in Object(e))Yz.call(e, t) && t != 'constructor' && n.push(t); e = n; } else e = Xz(e); return e; }; var ou = function (e, t) { return e && Ue(t, Wd(t), e); }; const Zz = Object.prototype.hasOwnProperty; var Of = function (e) { if (ae(e))e = cr(e, !0); else if (Gb(e)) { var t = il(e); const n = []; for (r in e)(r != 'constructor' || !t && Zz.call(e, r)) && n.push(r); e = n; } else { var r = []; if (e != null) for (t in Object(e))r.push(t); e = r; } return e; }; var mu = function (e, t) { return e && Ue(t, Of(t), e); }; var Nm = xb(((e, t) => { const n = (t = t && !t.nodeType && t) && e && !e.nodeType && e; const r = (t = n && n.exports === t ? $b.Buffer : void 0) ? t.allocUnsafe : void 0; e.exports = function (e, t) { return t ? e.slice() : (t = e.length, t = r ? r(t) : new e.constructor(t), e.copy(t), t); }; })); var Pi = function (e, t) { let n = -1; const r = e.length; for (t || (t = Array(r)); ++n < r;)t[n] = e[n]; return t; }; const $z = function (e, t) { for (var n = -1, r = e == null ? 0 : e.length, o = 0, i = []; ++n < r;) { const s = e[n]; t(s, n, e) && (i[o++] = s); } return i; }; const er = function () { return []; }; const aA = Object.prototype.propertyIsEnumerable; const fr = Object.getOwnPropertySymbols; const jl = fr ? function (e) { return e == null ? [] : (e = Object(e), $z(fr(e), ((t) => aA.call(e, t)))); } : er; var nu = function (e, t) { return Ue(e, jl(e), t); }; var Ti = function (e, t) { for (let n = -1, r = t.length, o = e.length; ++n < r;)e[o + n] = t[n]; return e; }; const kl = dr(Object.getPrototypeOf, Object); const gr = Object.getOwnPropertySymbols ? function (e) { for (var t = []; e;)Ti(t, jl(e)), e = kl(e); return t; } : er; var lu = function (e, t) { return Ue(e, gr(e), t); }; const hr = function (e, t, n) { return t = t(e), ub(e) ? t : Ti(t, n(e)); }; var Qi = function (e) { return hr(e, Wd, jl); }; var Pm = function (e) { return hr(e, Of, gr); }; const ll = oe($b, 'DataView'); const ml = oe($b, 'Promise'); const nl = oe($b, 'WeakMap'); const bA = ne(ll); const cA = ne(Hg); const dA = ne(ml); const eA = ne(uf); const fA = ne(nl); let pe = me; (ll && pe(new ll(new ArrayBuffer(1))) != '[object DataView]' || Hg && pe(new Hg()) != '[object Map]' || ml && pe(ml.resolve()) != '[object Promise]' || uf && pe(new uf()) != '[object Set]' || nl && pe(new nl()) != '[object WeakMap]') && (pe = function (e) { const t = me(e); if (e = (e = t == '[object Object]' ? e.constructor : void 0) ? ne(e) : '') switch (e) { case bA: return '[object DataView]'; case cA: return '[object Map]'; case dA: return '[object Promise]'; case eA: return '[object Set]'; case fA: return '[object WeakMap]'; } return t; }); var Mf = pe; const gA = Object.prototype.hasOwnProperty; var ku = function (e) { const t = e.length; const n = new e.constructor(t); return t && typeof e[0] === 'string' && gA.call(e, 'index') && (n.index = e.index, n.input = e.input), n; }; const ji = $b.Uint8Array; const ol = function (e) { const t = new e.constructor(e.byteLength); return new ji(t).set(new ji(e)), t; }; const hA = /\w*$/; const ir = lc ? lc.prototype : void 0; const jr = ir ? ir.valueOf : void 0; var Bn = function (e, t) { return t = t ? ol(e.buffer) : e.buffer, new e.constructor(t, e.byteOffset, e.length); }; var pu = function (e, t, n) { const r = e.constructor; switch (t) { case '[object ArrayBuffer]': return ol(e); case '[object Boolean]': case '[object Date]': return new r(+e); case '[object DataView]': return t = n ? ol(e.buffer) : e.buffer, new e.constructor(t, e.byteOffset, e.byteLength); case '[object Float32Array]': case '[object Float64Array]': case '[object Int8Array]': case '[object Int16Array]': case '[object Int32Array]': case '[object Uint8Array]': case '[object Uint8ClampedArray]': case '[object Uint16Array]': case '[object Uint32Array]': return Bn(e, n); case '[object Map]': return new r(); case '[object Number]': case '[object String]': return new r(e); case '[object RegExp]': return (t = new e.constructor(e.source, hA.exec(e))).lastIndex = e.lastIndex, t; case '[object Set]': return new r(); case '[object Symbol]': return jr ? Object(jr.call(e)) : {}; } }; const kr = Object.create; const iA = (function () { function e() {} return function (t) { return Gb(t) ? kr ? kr(t) : (e.prototype = t, t = new e(), e.prototype = void 0, t) : {}; }; }()); var Om = function (e) { return typeof e.constructor !== 'function' || il(e) ? {} : iA(kl(e)); }; const jA = function (e) { return Hc(e) && Mf(e) == '[object Map]'; }; const lr = vf && vf.isMap; var ru = lr ? ii(lr) : jA; const kA = function (e) { return Hc(e) && Mf(e) == '[object Set]'; }; const mr = vf && vf.isSet; var qu = mr ? ii(mr) : kA; var Oa = {}; Oa['[object Arguments]'] = Oa['[object Array]'] = Oa['[object ArrayBuffer]'] = Oa['[object DataView]'] = Oa['[object Boolean]'] = Oa['[object Date]'] = Oa['[object Float32Array]'] = Oa['[object Float64Array]'] = Oa['[object Int8Array]'] = Oa['[object Int16Array]'] = Oa['[object Int32Array]'] = Oa['[object Map]'] = Oa['[object Number]'] = Oa['[object Object]'] = Oa['[object RegExp]'] = Oa['[object Set]'] = Oa['[object String]'] = Oa['[object Symbol]'] = Oa['[object Uint8Array]'] = Oa['[object Uint8ClampedArray]'] = Oa['[object Uint16Array]'] = Oa['[object Uint32Array]'] = !0, Oa['[object Error]'] = Oa['[object Function]'] = Oa['[object WeakMap]'] = !1; var Ke = function (e) { return qa(e) == 'symbol' || Hc(e) && me(e) == '[object Symbol]'; }; const lA = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/; const mA = /^\w*$/; const pl = function (e, t) { if (ub(e)) return !1; const n = qa(e); return !(n != 'number' && n != 'symbol' && n != 'boolean' && e != null && !Ke(e)) || (mA.test(e) || !lA.test(e) || t != null && e in Object(t)); }; Ri.Cache = Zg; const nA = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g; const oA = /\\(\\)?/g; const pA = (function (e) { var t = (e = Ri(e, ((e) => (t.size === 500 && t.clear(), e)))).cache; return e; }(((e) => { const t = []; return e.charCodeAt(0) === 46 && t.push(''), e.replace(nA, ((e, n, r, o) => { t.push(r ? o.replace(oA, '$1') : n || e); })), t; }))); var tu = 1 / 0; const nr = lc ? lc.prototype : void 0; var Sm = nr ? nr.toString : void 0; const ki = function (e, t) { return ub(e) ? e : pl(e, t) ? [e] : pA(e == null ? '' : Rm(e)); }; const qA = 1 / 0; const Jg = function (e) { if (typeof e === 'string' || Ke(e)) return e; const t = `${e}`; return t == '0' && 1 / e == -qA ? '-0' : t; }; const li = function (e, t) { for (var n = 0, r = (t = ki(t, e)).length; e != null && n < r;)e = e[Jg(t[n++])]; return n && n == r ? e : void 0; }; const rA = function (e, t) { if (!((t = ki(t, e)).length < 2)) { var n = t; let r = 0; let o = -1; let i = -1; let s = n.length; for (r < 0 && (r = -r > s ? 0 : s + r), (o = o > s ? s : o) < 0 && (o += s), s = r > o ? 0 : o - r >>> 0, r >>>= 0, o = Array(s); ++i < s;)o[i] = n[i + r]; e = li(e, o); } return (n = e == null) || (n = t == null ? 0 : t.length, n = delete e[Jg(n ? t[n - 1] : void 0)]), n; }; const or = Function.prototype.toString; const sA = Object.prototype.hasOwnProperty; const tA = or.call(Object); var Cn = function (e) { return !(!Hc(e) || me(e) != '[object Object]') && ((e = kl(e)) === null || typeof (e = sA.call(e, 'constructor') && e.constructor) === 'function' && e instanceof e && or.call(e) == tA); }; const uA = function (e) { return Cn(e) ? void 0 : e; }; const pr = lc ? lc.isConcatSpreadable : void 0; var uu = function (e) { return ub(e) || Vf(e) || !!(pr && e && e[pr]); }; const vA = function (e) { return e != null && e.length ? Si(e, 1) : []; }; const wA = function (e, t, n) { switch (n.length) { case 0: return e.call(t); case 1: return e.call(t, n[0]); case 2: return e.call(t, n[0], n[1]); case 3: return e.call(t, n[0], n[1], n[2]); } return e.apply(t, n); }; const qr = Math.max; const rr = function (e, t, n) { return t = qr(void 0 === t ? e.length - 1 : t, 0), function () { for (var r = arguments, o = -1, i = qr(r.length - t, 0), s = Array(i); ++o < i;)s[o] = r[t + o]; for (o = -1, i = Array(t + 1); ++o < t;)i[o] = r[o]; return i[t] = n(s), wA(e, this, i); }; }; const xA = function (e) { return function () { return e; }; }; const mi = function (e) { return e; }; const yA = Date.now; const sr = (function (e) { let t = 0; let n = 0; return function () { const r = yA(); const o = 16 - (r - n); if (n = r, o > 0) { if (++t >= 800) return arguments[0]; } else t = 0; return e.apply(void 0, arguments); }; }(hi ? (e, t) => hi(e, 'toString', {
    configurable: !0, enumerable: !1, value: xA(t), writable: !0,
  }) : mi)); const ql = (function (e) { return sr(rr(e, void 0, vA), `${e}`); }(((e, t) => { let n = {}; if (e == null) return n; let r = !1; t = Je(t, ((t) => (t = ki(t, e), r || (r = t.length > 1), t))), Ue(e, Pm(e), n), r && (n = He(n, 7, uA)); for (let o = t.length; o--;)rA(n, t[o]); return n; }))); const zA = function (e, t, n, r) { for (let o = -1, i = e == null ? 0 : e.length; ++o < i;) { const s = e[o]; t(r, s, n(s), e); } return r; }; var An = function (e, t, n) { for (let r = -1, o = Object(e), i = (n = n(e)).length; i--;) { const s = n[++r]; if (!1 === t(o[s], s, o)) break; } return e; }; const tr = function (e, t) { return e && An(e, t, Wd); }; const rl = (function (e, t) { return function (t, n) { if (t == null) return t; if (!ae(t)) return e(t, n); for (let r = t.length, o = -1, i = Object(t); ++o < r && !1 !== n(i[o], o, i););return t; }; }(tr)); const AA = function (e, t, n, r) { return rl(e, ((e, o, i) => { t(r, e, n(e), i); })), r; }; const ur = function (e, t) { for (let n = -1, r = e == null ? 0 : e.length; ++n < r;) if (t(e[n], n, e)) return !0; return !1; }; var Tm = function (e, t, n, r, o, i) { const s = 1 & n; const a = e.length; let c = t.length; if (a != c && !(s && c > a)) return !1; c = i.get(e); let u = i.get(t); if (c && u) return c == t && u == e; c = -1, u = !0; const l = 2 & n ? new Lf() : void 0; for (i.set(e, t), i.set(t, e); ++c < a;) { var f = e[c]; const h = t[c]; if (r) var p = s ? r(h, f, c, t, e, i) : r(f, h, c, e, t, i); if (void 0 !== p) { if (p) continue; u = !1; break; } if (l) { if (!ur(t, ((e, t) => { if (!l.has(t) && (f === e || o(f, e, n, r, i))) return l.push(t); }))) { u = !1; break; } } else if (f !== h && !o(f, h, n, r, i)) { u = !1; break; } } return i.delete(e), i.delete(t), u; }; const BA = function (e) { let t = -1; const n = Array(e.size); return e.forEach(((e, r) => { n[++t] = [r, e]; })), n; }; const vr = lc ? lc.prototype : void 0; const sl = vr ? vr.valueOf : void 0; var vu = function (e, t, n, r, o, i, s) { switch (n) { case '[object DataView]': if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) break; e = e.buffer, t = t.buffer; case '[object ArrayBuffer]': if (e.byteLength != t.byteLength || !i(new ji(e), new ji(t))) break; return !0; case '[object Boolean]': case '[object Date]': case '[object Number]': return Gg(+e, +t); case '[object Error]': return e.name == t.name && e.message == t.message; case '[object RegExp]': case '[object String]': return e == `${t}`; case '[object Map]': var a = BA; case '[object Set]': if (a || (a = el), e.size != t.size && !(1 & r)) break; return (n = s.get(e)) ? n == t : (r |= 2, s.set(e, t), t = Tm(a(e), a(t), r, o, i, s), s.delete(e), t); case '[object Symbol]': if (sl) return sl.call(e) == sl.call(t); } return !1; }; var wu = Object.prototype.hasOwnProperty; var Um = Object.prototype.hasOwnProperty; const CA = function (e, t, n, r) { let o = n.length; const i = o; const s = !r; if (e == null) return !i; for (e = Object(e); o--;) { var a = n[o]; if (s && a[2] ? a[1] !== e[a[0]] : !(a[0] in e)) return !1; } for (;++o < i;) { const c = (a = n[o])[0]; const u = e[c]; const l = a[1]; if (s && a[2]) { if (void 0 === u && !(c in e)) return !1; } else { if (a = new Ie(), r) var f = r(u, l, c, e, t, a); if (void 0 === f ? !Le(l, u, 3, r, a) : !f) return !1; } } return !0; }; const DA = function (e) { for (var t = Wd(e), n = t.length; n--;) { const r = t[n]; const o = e[r]; t[n] = [r, o, o == o && !Gb(o)]; } return t; }; const wr = function (e, t) { return function (n) { return n != null && (n[e] === t && (void 0 !== t || e in Object(n))); }; }; const EA = function (e) { const t = DA(e); return t.length == 1 && t[0][2] ? wr(t[0][0], t[0][1]) : function (n) { return n === e || CA(n, e, t); }; }; const FA = function (e, t) { return pl(e) && t == t && !Gb(t) ? wr(Jg(e), t) : function (n) { let r = n == null ? void 0 : li(n, e); if (void 0 === (r = void 0 === r ? void 0 : r) && r === t) { if (r = n != null) { for (var o = -1, i = (r = ki(r = e, n)).length, s = !1; ++o < i;) { var a = Jg(r[o]); if (!(s = n != null && n != null && a in Object(n))) break; n = n[a]; }s || ++o != i ? r = s : r = !!(i = n == null ? 0 : n.length) && hl(i) && gl(a, i) && (ub(n) || Vf(n)); }a = r; } else a = Le(t, r, 3); return a; }; }; const GA = function (e) { return function (t) { return t == null ? void 0 : t[e]; }; }; const HA = function (e) { return function (t) { return li(t, e); }; }; const wf = function (e) { return typeof e === 'function' ? e : e == null ? mi : qa(e) == 'object' ? ub(e) ? FA(e[0], e[1]) : EA(e) : pl(e) ? GA(Jg(e)) : HA(e); }; const tl = (function (e, t) { return function (t, n) { const r = {}; return (ub(t) ? zA : AA)(t, e, wf(n), r); }; }(((e, t, n) => { Ig(e, n, t); }))); const md = function (e, t) { const n = {}; return t = wf(t), tr(e, ((e, r, o) => { Ig(n, r, t(e, r, o)); })), n; }; ea({ target: 'String', proto: !0, forced: la((() => { const e = ''.sub('"'); return e !== e.toLowerCase() || e.split('"').length > 3; })) }, { sub() { return `<sub>${String(Eb(this))}</sub>`; } }); var P = Pa; let mc = null; try { mc = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11])), {}).exports; } catch (c) {}Pa.prototype.__isLong__, Object.defineProperty(Pa.prototype, '__isLong__', { value: !0 }), Pa.isLong = Hb; var Wm = {}; var Vm = {}; Pa.fromInt = Xd, Pa.fromNumber = ec, Pa.fromBits = Qa; var ah = Math.pow; Pa.fromString = Vi, Pa.fromValue = vc; var Me = 4294967296; var Xm = Me * Me; var Zm = Xm / 2; const xr = Xd(16777216); var fc = Xd(0); Pa.ZERO = fc; var Yd = Xd(0, !0); Pa.UZERO = Yd; const xf = Xd(1); Pa.ONE = xf; const yr = Xd(1, !0); Pa.UONE = yr; const ul = Xd(-1); Pa.NEG_ONE = ul; var $m = Qa(-1, 2147483647, !1); Pa.MAX_VALUE = $m; var Ym = Qa(-1, -1, !0); Pa.MAX_UNSIGNED_VALUE = Ym; var Ib = Qa(0, -2147483648, !1); Pa.MIN_VALUE = Ib; const V = Pa.prototype; V.toInt = function () { return this.unsigned ? this.low >>> 0 : this.low; }, V.toNumber = function () { return this.unsigned ? (this.high >>> 0) * Me + (this.low >>> 0) : this.high * Me + (this.low >>> 0); }, V.toString = function (e) { if ((e = e || 10) < 2 || e > 36) throw RangeError('radix'); if (this.isZero()) return '0'; if (this.isNegative()) { if (this.eq(Ib)) { var t = ec(e); var n = this.div(t); return t = n.mul(t).sub(this), n.toString(e) + t.toInt().toString(e); } return `-${this.neg().toString(e)}`; }n = ec(ah(e, 6), this.unsigned), t = this; for (let r = ''; ;) { const o = t.div(n); let i = (t.sub(o.mul(n)).toInt() >>> 0).toString(e); if ((t = o).isZero()) return i + r; for (;i.length < 6;)i = `0${i}`; r = `${i}${r}`; } }, V.getHighBits = function () { return this.high; }, V.getHighBitsUnsigned = function () { return this.high >>> 0; }, V.getLowBits = function () { return this.low; }, V.getLowBitsUnsigned = function () { return this.low >>> 0; }, V.getNumBitsAbs = function () { if (this.isNegative()) return this.eq(Ib) ? 64 : this.neg().getNumBitsAbs(); for (var e = this.high != 0 ? this.high : this.low, t = 31; t > 0 && (e & 1 << t) == 0; t--);return this.high != 0 ? t + 33 : t + 1; }, V.isZero = function () { return this.high === 0 && this.low === 0; }, V.eqz = V.isZero, V.isNegative = function () { return !this.unsigned && this.high < 0; }, V.isPositive = function () { return this.unsigned || this.high >= 0; }, V.isOdd = function () { return (1 & this.low) == 1; }, V.isEven = function () { return (1 & this.low) == 0; }, V.equals = function (e) { return Hb(e) || (e = vc(e)), (this.unsigned === e.unsigned || this.high >>> 31 != 1 || e.high >>> 31 != 1) && (this.high === e.high && this.low === e.low); }, V.eq = V.equals, V.notEquals = function (e) { return !this.eq(e); }, V.neq = V.notEquals, V.ne = V.notEquals, V.lessThan = function (e) { return this.comp(e) < 0; }, V.lt = V.lessThan, V.lessThanOrEqual = function (e) { return this.comp(e) <= 0; }, V.lte = V.lessThanOrEqual, V.le = V.lessThanOrEqual, V.greaterThan = function (e) { return this.comp(e) > 0; }, V.gt = V.greaterThan, V.greaterThanOrEqual = function (e) { return this.comp(e) >= 0; }, V.gte = V.greaterThanOrEqual, V.ge = V.greaterThanOrEqual, V.compare = function (e) { if (Hb(e) || (e = vc(e)), this.eq(e)) return 0; const t = this.isNegative(); const n = e.isNegative(); return t && !n ? -1 : !t && n ? 1 : this.unsigned ? e.high >>> 0 > this.high >>> 0 || e.high === this.high && e.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(e).isNegative() ? -1 : 1; }, V.comp = V.compare, V.negate = function () { return !this.unsigned && this.eq(Ib) ? Ib : this.not().add(xf); }, V.neg = V.negate, V.add = function (e) { Hb(e) || (e = vc(e)); let t = this.high >>> 16; const n = 65535 & this.high; let r = this.low >>> 16; const o = e.high >>> 16; const i = 65535 & e.high; let s = e.low >>> 16; return r = (s = ((e = (65535 & this.low) + (65535 & e.low)) >>> 16) + (r + s)) >>> 16, Qa((65535 & s) << 16 | 65535 & e, (t = ((r += n + i) >>> 16) + (t + o) & 65535) << 16 | 65535 & r, this.unsigned); }, V.subtract = function (e) { return Hb(e) || (e = vc(e)), this.add(e.neg()); }, V.sub = V.subtract, V.multiply = function (e) { if (this.isZero()) return fc; if (Hb(e) || (e = vc(e)), mc) { var t = mc.mul(this.low, this.high, e.low, e.high); return Qa(t, mc.get_high(), this.unsigned); } if (e.isZero()) return fc; if (this.eq(Ib)) return e.isOdd() ? Ib : fc; if (e.eq(Ib)) return this.isOdd() ? Ib : fc; if (this.isNegative()) return e.isNegative() ? this.neg().mul(e.neg()) : this.neg().mul(e).neg(); if (e.isNegative()) return this.mul(e.neg()).neg(); if (this.lt(xr) && e.lt(xr)) return ec(this.toNumber() * e.toNumber(), this.unsigned); t = this.high >>> 16; const n = 65535 & this.high; const r = this.low >>> 16; const o = 65535 & this.low; const i = e.high >>> 16; const s = 65535 & e.high; const a = e.low >>> 16; const c = o * (e = 65535 & e.low); let u = (c >>> 16) + r * e; let l = u >>> 16; l += (u = (65535 & u) + o * a) >>> 16; let f = (l += n * e) >>> 16; return Qa((65535 & u) << 16 | 65535 & c, (f = (f += (l = (65535 & l) + r * a) >>> 16) + ((l = (65535 & l) + o * s) >>> 16) + (t * e + n * a + r * s + o * i) & 65535) << 16 | 65535 & l, this.unsigned); }, V.mul = V.multiply, V.divide = function (e) { if (Hb(e) || (e = vc(e)), e.isZero()) throw Error('division by zero'); if (mc) return this.unsigned || this.high !== -2147483648 || e.low !== -1 || e.high !== -1 ? Qa(e = (this.unsigned ? mc.div_u : mc.div_s)(this.low, this.high, e.low, e.high), mc.get_high(), this.unsigned) : this; if (this.isZero()) return this.unsigned ? Yd : fc; if (this.unsigned) { if (e.unsigned || (e = e.toUnsigned()), e.gt(this)) return Yd; if (e.gt(this.shru(1))) return yr; var t = Yd; } else { if (this.eq(Ib)) { if (e.eq(xf) || e.eq(ul)) return Ib; if (e.eq(Ib)) return xf; var n = this.shr(1).div(e).shl(1); if (n.eq(fc)) return e.isNegative() ? xf : ul; var r = this.sub(e.mul(n)); return n.add(r.div(e)); } if (e.eq(Ib)) return this.unsigned ? Yd : fc; if (this.isNegative()) return e.isNegative() ? this.neg().div(e.neg()) : this.neg().div(e).neg(); if (e.isNegative()) return this.div(e.neg()).neg(); t = fc; } for (r = this; r.gte(e);) { n = Math.max(1, Math.floor(r.toNumber() / e.toNumber())); let o = Math.ceil(Math.log(n) / Math.LN2); o = o <= 48 ? 1 : ah(2, o - 48); for (var i = ec(n), s = i.mul(e); s.isNegative() || s.gt(r);)s = (i = ec(n -= o, this.unsigned)).mul(e); i.isZero() && (i = xf), t = t.add(i), r = r.sub(s); } return t; }, V.div = V.divide, V.modulo = function (e) { return Hb(e) || (e = vc(e)), mc ? Qa(e = (this.unsigned ? mc.rem_u : mc.rem_s)(this.low, this.high, e.low, e.high), mc.get_high(), this.unsigned) : this.sub(this.div(e).mul(e)); }, V.mod = V.modulo, V.rem = V.modulo, V.not = function () { return Qa(~this.low, ~this.high, this.unsigned); }, V.and = function (e) { return Hb(e) || (e = vc(e)), Qa(this.low & e.low, this.high & e.high, this.unsigned); }, V.or = function (e) { return Hb(e) || (e = vc(e)), Qa(this.low | e.low, this.high | e.high, this.unsigned); }, V.xor = function (e) { return Hb(e) || (e = vc(e)), Qa(this.low ^ e.low, this.high ^ e.high, this.unsigned); }, V.shiftLeft = function (e) { return Hb(e) && (e = e.toInt()), (e &= 63) == 0 ? this : e < 32 ? Qa(this.low << e, this.high << e | this.low >>> 32 - e, this.unsigned) : Qa(0, this.low << e - 32, this.unsigned); }, V.shl = V.shiftLeft, V.shiftRight = function (e) { return Hb(e) && (e = e.toInt()), (e &= 63) == 0 ? this : e < 32 ? Qa(this.low >>> e | this.high << 32 - e, this.high >> e, this.unsigned) : Qa(this.high >> e - 32, this.high >= 0 ? 0 : -1, this.unsigned); }, V.shr = V.shiftRight, V.shiftRightUnsigned = function (e) { if (Hb(e) && (e = e.toInt()), (e &= 63) === 0) return this; const t = this.high; return e < 32 ? Qa(this.low >>> e | t << 32 - e, t >>> e, this.unsigned) : Qa(e === 32 ? t : t >>> e - 32, 0, this.unsigned); }, V.shru = V.shiftRightUnsigned, V.shr_u = V.shiftRightUnsigned, V.toSigned = function () { return this.unsigned ? Qa(this.low, this.high, !1) : this; }, V.toUnsigned = function () { return this.unsigned ? this : Qa(this.low, this.high, !0); }, V.toBytes = function (e) { return e ? this.toBytesLE() : this.toBytesBE(); }, V.toBytesLE = function () { const e = this.high; const t = this.low; return [255 & t, t >>> 8 & 255, t >>> 16 & 255, t >>> 24, 255 & e, e >>> 8 & 255, e >>> 16 & 255, e >>> 24]; }, V.toBytesBE = function () { const e = this.high; const t = this.low; return [e >>> 24, e >>> 16 & 255, e >>> 8 & 255, 255 & e, t >>> 24, t >>> 16 & 255, t >>> 8 & 255, 255 & t]; }, Pa.fromBytes = function (e, t, n) { return n ? Pa.fromBytesLE(e, t) : Pa.fromBytesBE(e, t); }, Pa.fromBytesLE = function (e, t) { return new Pa(e[0] | e[1] << 8 | e[2] << 16 | e[3] << 24, e[4] | e[5] << 8 | e[6] << 16 | e[7] << 24, t); }, Pa.fromBytesBE = function (e, t) { return new Pa(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7], e[0] << 24 | e[1] << 16 | e[2] << 8 | e[3], t); }; var Wi = function (e, t) { return (Wi = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t; } || function (e, t) { for (const n in t)t.hasOwnProperty(n) && (e[n] = t[n]); })(e, t); }; let vl = !1; var gc = { Promise: void 0, set useDeprecatedSynchronousErrorHandling(e) { e ? console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n${Error().stack}`) : vl && console.log('RxJS: Back to a better error behavior. Thank you. <3'), vl = e; }, get useDeprecatedSynchronousErrorHandling() { return vl; } }; const ni = {
    closed: !0, next(e) {}, error(e) { if (gc.useDeprecatedSynchronousErrorHandling) throw e; Oe(e); }, complete() {},
  }; var hc = Array.isArray || function (e) { return e && typeof e.length === 'number'; }; var Pf = (function () { function e(e) { return Error.call(this), this.message = e ? `${e.length} errors occurred during unsubscription:\n${e.map(((e, t) => `${t + 1}) ${e.toString()}`)).join('\n  ')}` : '', this.name = 'UnsubscriptionError', this.errors = e, this; } return e.prototype = Object.create(Error.prototype), e; }()); var nb = (function () { function e(e) { this.closed = !1, this._subscriptions = this._parentOrParents = null, e && (this._ctorUnsubscribe = !0, this._unsubscribe = e); } return e.prototype.unsubscribe = function () { if (!this.closed) { let t = this._parentOrParents; let n = this._ctorUnsubscribe; const r = this._unsubscribe; const o = this._subscriptions; if (this.closed = !0, this._subscriptions = this._parentOrParents = null, t instanceof e)t.remove(this); else if (t !== null) for (var i = 0; i < t.length; ++i)t[i].remove(this); if (Ne(r)) { n && (this._unsubscribe = void 0); try { r.call(this); } catch (e) { var s = e instanceof Pf ? an(e.errors) : [e]; } } if (hc(o)) for (i = -1, t = o.length; ++i < t;) if (Xi(n = o[i])) try { n.unsubscribe(); } catch (e) { s = s || [], e instanceof Pf ? s = s.concat(an(e.errors)) : s.push(e); } if (s) throw new Pf(s); } }, e.prototype.add = function (t) { let n = t; if (!t) return e.EMPTY; switch (qa(t)) { case 'function': n = new e(t); case 'object': if (n === this || n.closed || typeof n.unsubscribe !== 'function') return n; if (this.closed) return n.unsubscribe(), n; n instanceof e || (t = n, (n = new e())._subscriptions = [t]); break; default: throw Error(`unrecognized teardown ${t} added to Subscription.`); } if ((t = n._parentOrParents) === null)n._parentOrParents = this; else if (t instanceof e) { if (t === this) return n; n._parentOrParents = [t, this]; } else { if (t.indexOf(this) !== -1) return n; t.push(this); } return (t = this._subscriptions) === null ? this._subscriptions = [n] : t.push(n), n; }, e.prototype.remove = function (e) { const t = this._subscriptions; t && ((e = t.indexOf(e)) !== -1 && t.splice(e, 1)); }, e.EMPTY = (function (e) { return e.closed = !0, e; }(new e())), e; }()); const oi = typeof Symbol === 'function' ? Symbol('rxSubscriber') : `@@rxSubscriber_${Math.random()}`; var za = (function (e) { function t(n, r, o) { const i = e.call(this) || this; switch (i.syncErrorValue = null, i.syncErrorThrown = !1, i.syncErrorThrowable = !1, i.isStopped = !1, arguments.length) { case 0: i.destination = ni; break; case 1: if (!n) { i.destination = ni; break; } if (qa(n) === 'object') { n instanceof t ? (i.syncErrorThrowable = n.syncErrorThrowable, i.destination = n, n.add(i)) : (i.syncErrorThrowable = !0, i.destination = new zr(i, n)); break; } default: i.syncErrorThrowable = !0, i.destination = new zr(i, n, r, o); } return i; } return ha(t, e), t.prototype[oi] = function () { return this; }, t.create = function (e, n, r) { return (e = new t(e, n, r)).syncErrorThrowable = !1, e; }, t.prototype.next = function (e) { this.isStopped || this._next(e); }, t.prototype.error = function (e) { this.isStopped || (this.isStopped = !0, this._error(e)); }, t.prototype.complete = function () { this.isStopped || (this.isStopped = !0, this._complete()); }, t.prototype.unsubscribe = function () { this.closed || (this.isStopped = !0, e.prototype.unsubscribe.call(this)); }, t.prototype._next = function (e) { this.destination.next(e); }, t.prototype._error = function (e) { this.destination.error(e), this.unsubscribe(); }, t.prototype._complete = function () { this.destination.complete(), this.unsubscribe(); }, t.prototype._unsubscribeAndRecycle = function () { const e = this._parentOrParents; return this._parentOrParents = null, this.unsubscribe(), this.isStopped = this.closed = !1, this._parentOrParents = e, this; }, t; }(nb)); var zr = (function (e) { function t(t, n, r, o) { const i = e.call(this) || this; if (i._parentSubscriber = t, t = i, Ne(n)) var s = n; else n && (s = n.next, r = n.error, o = n.complete, n !== ni && (Ne((t = Object.create(n)).unsubscribe) && i.add(t.unsubscribe.bind(t)), t.unsubscribe = i.unsubscribe.bind(i))); return i._context = t, i._next = s, i._error = r, i._complete = o, i; } return ha(t, e), t.prototype.next = function (e) { if (!this.isStopped && this._next) { const t = this._parentSubscriber; gc.useDeprecatedSynchronousErrorHandling && t.syncErrorThrowable ? this.__tryOrSetError(t, this._next, e) && this.unsubscribe() : this.__tryOrUnsub(this._next, e); } }, t.prototype.error = function (e) { if (!this.isStopped) { const t = this._parentSubscriber; const n = gc.useDeprecatedSynchronousErrorHandling; if (this._error)n && t.syncErrorThrowable ? this.__tryOrSetError(t, this._error, e) : this.__tryOrUnsub(this._error, e), this.unsubscribe(); else if (t.syncErrorThrowable)n ? (t.syncErrorValue = e, t.syncErrorThrown = !0) : Oe(e), this.unsubscribe(); else { if (this.unsubscribe(), n) throw e; Oe(e); } } }, t.prototype.complete = function () { const e = this; if (!this.isStopped) { const t = this._parentSubscriber; if (this._complete) { const n = function () { return e._complete.call(e._context); }; gc.useDeprecatedSynchronousErrorHandling && t.syncErrorThrowable ? this.__tryOrSetError(t, n) : this.__tryOrUnsub(n); } this.unsubscribe(); } }, t.prototype.__tryOrUnsub = function (e, t) { try { e.call(this._context, t); } catch (e) { if (this.unsubscribe(), gc.useDeprecatedSynchronousErrorHandling) throw e; Oe(e); } }, t.prototype.__tryOrSetError = function (e, t, n) { if (!gc.useDeprecatedSynchronousErrorHandling) throw Error('bad call'); try { t.call(this._context, n); } catch (t) { return gc.useDeprecatedSynchronousErrorHandling ? (e.syncErrorValue = t, e.syncErrorThrown = !0) : Oe(t), !0; } return !1; }, t.prototype._unsubscribe = function () { const e = this._parentSubscriber; this._parentSubscriber = this._context = null, e.unsubscribe(); }, t; }(za)); var Pe = typeof Symbol === 'function' && Symbol.observable || '@@observable'; var ua = (function () { function e(e) { this._isScalar = !1, e && (this._subscribe = e); } return e.prototype.lift = function (t) { const n = new e(); return n.source = this, n.operator = t, n; }, e.prototype.subscribe = function (e, t, n) { const r = this.operator; e: { if (e) { if (e instanceof za) break e; if (e[oi]) { e = e[oi](); break e; } }e = e || t || n ? new za(e, t, n) : new za(ni); } if (r ? e.add(r.call(e, this.source)) : e.add(this.source || gc.useDeprecatedSynchronousErrorHandling && !e.syncErrorThrowable ? this._subscribe(e) : this._trySubscribe(e)), gc.useDeprecatedSynchronousErrorHandling && e.syncErrorThrowable && (e.syncErrorThrowable = !1, e.syncErrorThrown)) throw e.syncErrorValue; return e; }, e.prototype._trySubscribe = function (e) { try { return this._subscribe(e); } catch (t) { gc.useDeprecatedSynchronousErrorHandling && (e.syncErrorThrown = !0, e.syncErrorValue = t), Yi(e) ? e.error(t) : console.warn(t); } }, e.prototype.forEach = function (e, t) { const n = this; return new (t = cn(t))(((t, r) => { var o = n.subscribe(((t) => { try { e(t); } catch (e) { r(e), o && o.unsubscribe(); } }), r, t); })); }, e.prototype._subscribe = function (e) { const t = this.source; return t && t.subscribe(e); }, e.prototype[Pe] = function () { return this; }, e.prototype.pipe = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return e.length === 0 ? this : bn(e)(this); }, e.prototype.toPromise = function (e) { const t = this; return new (e = cn(e))(((e, n) => { let r; t.subscribe(((e) => r = e), ((e) => n(e)), (() => e(r))); })); }, e.create = function (t) { return new e(t); }, e; }()); const Ld = (function () { function e() { return Error.call(this), this.message = 'object unsubscribed', this.name = 'ObjectUnsubscribedError', this; } return e.prototype = Object.create(Error.prototype), e; }()); const Ar = (function (e) { function t(t, n) { const r = e.call(this) || this; return r.subject = t, r.subscriber = n, r.closed = !1, r; } return ha(t, e), t.prototype.unsubscribe = function () { if (!this.closed) { this.closed = !0; let e = this.subject; const t = e.observers; this.subject = null, !t || t.length === 0 || e.isStopped || e.closed || (e = t.indexOf(this.subscriber)) !== -1 && t.splice(e, 1); } }, t; }(nb)); const Br = (function (e) { function t(t) { const n = e.call(this, t) || this; return n.destination = t, n; } return ha(t, e), t; }(za)); var rb = (function (e) { function t() { const t = e.call(this) || this; return t.observers = [], t.closed = !1, t.isStopped = !1, t.hasError = !1, t.thrownError = null, t; } return ha(t, e), t.prototype[oi] = function () { return new Br(this); }, t.prototype.lift = function (e) { const t = new Cr(this, this); return t.operator = e, t; }, t.prototype.next = function (e) { if (this.closed) throw new Ld(); if (!this.isStopped) { let t = this.observers; const n = t.length; t = t.slice(); for (let r = 0; r < n; r++)t[r].next(e); } }, t.prototype.error = function (e) { if (this.closed) throw new Ld(); this.hasError = !0, this.thrownError = e, this.isStopped = !0; let t = this.observers; const n = t.length; t = t.slice(); for (let r = 0; r < n; r++)t[r].error(e); this.observers.length = 0; }, t.prototype.complete = function () { if (this.closed) throw new Ld(); this.isStopped = !0; let e = this.observers; const t = e.length; e = e.slice(); for (let n = 0; n < t; n++)e[n].complete(); this.observers.length = 0; }, t.prototype.unsubscribe = function () { this.closed = this.isStopped = !0, this.observers = null; }, t.prototype._trySubscribe = function (t) { if (this.closed) throw new Ld(); return e.prototype._trySubscribe.call(this, t); }, t.prototype._subscribe = function (e) { if (this.closed) throw new Ld(); return this.hasError ? (e.error(this.thrownError), nb.EMPTY) : this.isStopped ? (e.complete(), nb.EMPTY) : (this.observers.push(e), new Ar(this, e)); }, t.prototype.asObservable = function () { const e = new ua(); return e.source = this, e; }, t.create = function (e, t) { return new Cr(e, t); }, t; }(ua)); var Cr = (function (e) { function t(t, n) { const r = e.call(this) || this; return r.destination = t, r.source = n, r; } return ha(t, e), t.prototype.next = function (e) { const t = this.destination; t && t.next && t.next(e); }, t.prototype.error = function (e) { const t = this.destination; t && t.error && this.destination.error(e); }, t.prototype.complete = function () { const e = this.destination; e && e.complete && this.destination.complete(); }, t.prototype._subscribe = function (e) { return this.source ? this.source.subscribe(e) : nb.EMPTY; }, t; }(rb)); var xu = (function () { function e(e) { this.connectable = e; } return e.prototype.call = function (e, t) { const n = this.connectable; return n._refCount++, e = new IA(e, n), t = t.subscribe(e), e.closed || (e.connection = n.connect()), t; }, e; }()); var IA = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).connectable = n, t; } return ha(t, e), t.prototype._unsubscribe = function () { let e = this.connectable; if (e) { this.connectable = null; let t = e._refCount; t <= 0 ? this.connection = null : (e._refCount = t - 1, t > 1 ? this.connection = null : (t = this.connection, e = e._connection, this.connection = null, !e || t && e !== t || e.unsubscribe())); } else this.connection = null; }, t; }(za)); const Dr = (function (e) { function t(t, n) { const r = e.call(this) || this; return r.source = t, r.subjectFactory = n, r._refCount = 0, r._isComplete = !1, r; } return ha(t, e), t.prototype._subscribe = function (e) { return this.getSubject().subscribe(e); }, t.prototype.getSubject = function () { const e = this._subject; return e && !e.isStopped || (this._subject = this.subjectFactory()), this._subject; }, t.prototype.connect = function () { let e = this._connection; return e || (this._isComplete = !1, (e = this._connection = new nb()).add(this.source.subscribe(new JA(this.getSubject(), this))), e.closed && (this._connection = null, e = nb.EMPTY)), e; }, t.prototype.refCount = function () { return dn()(this); }, t; }(ua)); var lv = (function () {
    const e = Dr.prototype; return {
      operator: { value: null }, _refCount: { value: 0, writable: !0 }, _subject: { value: null, writable: !0 }, _connection: { value: null, writable: !0 }, _subscribe: { value: e._subscribe }, _isComplete: { value: e._isComplete, writable: !0 }, getSubject: { value: e.getSubject }, connect: { value: e.connect }, refCount: { value: e.refCount },
    };
  }()); var JA = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).connectable = n, t; } return ha(t, e), t.prototype._error = function (t) { this._unsubscribe(), e.prototype._error.call(this, t); }, t.prototype._complete = function () { this.connectable._isComplete = !0, this._unsubscribe(), e.prototype._complete.call(this); }, t.prototype._unsubscribe = function () { const e = this.connectable; if (e) { this.connectable = null; const t = e._connection; e._refCount = 0, e._subject = null, e._connection = null, t && t.unsubscribe(); } }, t; }(Br)); !(function (e) { function t(t, n) { return (t = e.call(this, t) || this).connectable = n, t; }ha(t, e), t.prototype._unsubscribe = function () { let e = this.connectable; if (e) { this.connectable = null; let t = e._refCount; t <= 0 ? this.connection = null : (e._refCount = t - 1, t > 1 ? this.connection = null : (t = this.connection, e = e._connection, this.connection = null, !e || t && e !== t || e.unsubscribe())); } else this.connection = null; }; }(za)), (function (e) { function t(t, n, r, o, i) { return (t = e.call(this, t) || this).keySelector = n, t.elementSelector = r, t.durationSelector = o, t.subjectSelector = i, t.groups = null, t.attemptedToUnsubscribe = !1, t.count = 0, t; }ha(t, e), t.prototype._next = function (e) { try { var t = this.keySelector(e); } catch (e) { return void this.error(e); } this._group(e, t); }, t.prototype._group = function (e, t) { let n = this.groups; n || (n = this.groups = new Map()); let r = n.get(t); if (this.elementSelector) try { var o = this.elementSelector(e); } catch (e) { this.error(e); } else o = e; if (!r && (r = this.subjectSelector ? this.subjectSelector() : new rb(), n.set(t, r), e = new wl(t, r, this), this.destination.next(e), this.durationSelector)) { e = void 0; try { e = this.durationSelector(new wl(t, r)); } catch (e) { return void this.error(e); } this.add(e.subscribe(new KA(t, r, this))); }r.closed || r.next(o); }, t.prototype._error = function (e) { const t = this.groups; t && (t.forEach(((t, n) => { t.error(e); })), t.clear()), this.destination.error(e); }, t.prototype._complete = function () { const e = this.groups; e && (e.forEach(((e, t) => { e.complete(); })), e.clear()), this.destination.complete(); }, t.prototype.removeGroup = function (e) { this.groups.delete(e); }, t.prototype.unsubscribe = function () { this.closed || (this.attemptedToUnsubscribe = !0, this.count === 0 && e.prototype.unsubscribe.call(this)); }; }(za)); var KA = (function (e) { function t(t, n, r) { const o = e.call(this, n) || this; return o.key = t, o.group = n, o.parent = r, o; } return ha(t, e), t.prototype._next = function (e) { this.complete(); }, t.prototype._unsubscribe = function () { const e = this.parent; const t = this.key; this.key = this.parent = null, e && e.removeGroup(t); }, t; }(za)); var wl = (function (e) {
    function t(t, n, r) { const o = e.call(this) || this; return o.key = t, o.groupSubject = n, o.refCountSubscription = r, o; } return ha(t, e), t.prototype._subscribe = function (e) {
      const t = new nb(); const n = this.refCountSubscription; const
        r = this.groupSubject; return n && !n.closed && t.add(new LA(n)), t.add(r.subscribe(e)), t;
    }, t;
  }(ua)); var LA = (function (e) { function t(t) { const n = e.call(this) || this; return n.parent = t, t.count++, n; } return ha(t, e), t.prototype.unsubscribe = function () { const t = this.parent; t.closed || this.closed || (e.prototype.unsubscribe.call(this), --t.count, t.count === 0 && t.attemptedToUnsubscribe && t.unsubscribe()); }, t; }(nb)); const MA = (function (e) { function t(t) { const n = e.call(this) || this; return n._value = t, n; } return ha(t, e), Object.defineProperty(t.prototype, 'value', { get() { return this.getValue(); }, enumerable: !0, configurable: !0 }), t.prototype._subscribe = function (t) { const n = e.prototype._subscribe.call(this, t); return n && !n.closed && t.next(this._value), n; }, t.prototype.getValue = function () { if (this.hasError) throw this.thrownError; if (this.closed) throw new Ld(); return this._value; }, t.prototype.next = function (t) { e.prototype.next.call(this, this._value = t); }, t; }(rb)); const Kg = (function (e) { function t(t, n) { const r = e.call(this, t, n) || this; return r.scheduler = t, r.work = n, r.pending = !1, r; } return ha(t, e), t.prototype.schedule = function (e, t) { if (void 0 === t && (t = 0), this.closed) return this; this.state = e, e = this.id; const n = this.scheduler; return e != null && (this.id = this.recycleAsyncId(n, e, t)), this.pending = !0, this.delay = t, this.id = this.id || this.requestAsyncId(n, this.id, t), this; }, t.prototype.requestAsyncId = function (e, t, n) { return void 0 === n && (n = 0), setInterval(e.flush.bind(e, this), n); }, t.prototype.recycleAsyncId = function (e, t, n) { if (void 0 === n && (n = 0), n !== null && this.delay === n && !1 === this.pending) return t; clearInterval(t); }, t.prototype.execute = function (e, t) { return this.closed ? Error('executing a cancelled action') : (this.pending = !1, (e = this._execute(e, t)) ? e : void (!1 === this.pending && this.id != null && (this.id = this.recycleAsyncId(this.scheduler, this.id, null)))); }, t.prototype._execute = function (e, t) { t = !1; let n = void 0; try { this.work(e); } catch (e) { t = !0, n = !!e && e || Error(e); } if (t) return this.unsubscribe(), n; }, t.prototype._unsubscribe = function () { const e = this.id; const t = this.scheduler; const n = t.actions; const r = n.indexOf(this); this.state = this.work = null, this.pending = !1, this.scheduler = null, r !== -1 && n.splice(r, 1), e != null && (this.id = this.recycleAsyncId(t, e, null)), this.delay = null; }, t; }(function (e) { function t(t, n) { return e.call(this) || this; } return ha(t, e), t.prototype.schedule = function (e, t) { return this; }, t; }(nb))); const NA = (function (e) { function t(t, n) { const r = e.call(this, t, n) || this; return r.scheduler = t, r.work = n, r; } return ha(t, e), t.prototype.schedule = function (t, n) { return void 0 === n && (n = 0), n > 0 ? e.prototype.schedule.call(this, t, n) : (this.delay = n, this.state = t, this.scheduler.flush(this), this); }, t.prototype.execute = function (t, n) { return n > 0 || this.closed ? e.prototype.execute.call(this, t, n) : this._execute(t, n); }, t.prototype.requestAsyncId = function (t, n, r) { return void 0 === r && (r = 0), r !== null && r > 0 || r === null && this.delay > 0 ? e.prototype.requestAsyncId.call(this, t, n, r) : t.flush(this); }, t; }(Kg)); const xl = (function () { function e(t, n) { void 0 === n && (n = e.now), this.SchedulerAction = t, this.now = n; } return e.prototype.schedule = function (e, t, n) { return void 0 === t && (t = 0), new this.SchedulerAction(this, e).schedule(n, t); }, e.now = function () { return Date.now(); }, e; }()); const Lg = (function (e) { function t(n, r) { void 0 === r && (r = xl.now); var o = e.call(this, n, (() => (t.delegate && t.delegate !== o ? t.delegate.now() : r()))) || this; return o.actions = [], o.active = !1, o.scheduled = void 0, o; } return ha(t, e), t.prototype.schedule = function (n, r, o) { return void 0 === r && (r = 0), t.delegate && t.delegate !== this ? t.delegate.schedule(n, r, o) : e.prototype.schedule.call(this, n, r, o); }, t.prototype.flush = function (e) { const t = this.actions; if (this.active)t.push(e); else { let n; this.active = !0; do { if (n = e.execute(e.state, e.delay)) break; } while (e = t.shift()); if (this.active = !1, n) { for (;e = t.shift();)e.unsubscribe(); throw n; } } }, t; }(xl)); const Mg = new (function (e) { function t() { return e !== null && e.apply(this, arguments) || this; } return ha(t, e), t; }(Lg))(NA); var Sb = new ua(((e) => e.complete())); var en = function (e) { return function (t) { for (let n = 0, r = e.length; n < r && !t.closed; n++)t.next(e[n]); t.complete(); }; }; let yl; !(function (e) { e.NEXT = 'N', e.ERROR = 'E', e.COMPLETE = 'C'; }(yl || (yl = {}))); const yf = (function () { function e(e, t, n) { this.kind = e, this.value = t, this.error = n, this.hasValue = e === 'N'; } return e.prototype.observe = function (e) { switch (this.kind) { case 'N': return e.next && e.next(this.value); case 'E': return e.error && e.error(this.error); case 'C': return e.complete && e.complete(); } }, e.prototype.do = function (e, t, n) { switch (this.kind) { case 'N': return e && e(this.value); case 'E': return t && t(this.error); case 'C': return n && n(); } }, e.prototype.accept = function (e, t, n) { return e && typeof e.next === 'function' ? this.observe(e) : this.do(e, t, n); }, e.prototype.toObservable = function () { switch (this.kind) { case 'N': return ob(this.value); case 'E': return ra(this.error); case 'C': return Qf(); } throw Error('unexpected notification kind value'); }, e.createNext = function (t) { return void 0 !== t ? new e('N', t) : e.undefinedValueNotification; }, e.createError = function (t) { return new e('E', void 0, t); }, e.createComplete = function () { return e.completeNotification; }, e.completeNotification = new e('C'), e.undefinedValueNotification = new e('N', void 0), e; }()); var Bu = (function () { function e(e, t) { void 0 === t && (t = 0), this.scheduler = e, this.delay = t; } return e.prototype.call = function (e, t) { return t.subscribe(new Er(e, this.scheduler, this.delay)); }, e; }()); var Er = (function (e) { function t(t, n, r) { return void 0 === r && (r = 0), (t = e.call(this, t) || this).scheduler = n, t.delay = r, t; } return ha(t, e), t.dispatch = function (e) { e.notification.observe(e.destination), this.unsubscribe(); }, t.prototype.scheduleMessage = function (e) { this.destination.add(this.scheduler.schedule(t.dispatch, this.delay, new OA(e, this.destination))); }, t.prototype._next = function (e) { this.scheduleMessage(yf.createNext(e)); }, t.prototype._error = function (e) { this.scheduleMessage(yf.createError(e)), this.unsubscribe(); }, t.prototype._complete = function () { this.scheduleMessage(yf.createComplete()), this.unsubscribe(); }, t; }(za)); var OA = function (e, t) { this.notification = e, this.destination = t; }; var Te = (function (e) { function t(t, n, r) { void 0 === t && (t = Number.POSITIVE_INFINITY), void 0 === n && (n = Number.POSITIVE_INFINITY); const o = e.call(this) || this; return o.scheduler = r, o._events = [], o._infiniteTimeWindow = !1, o._bufferSize = t < 1 ? 1 : t, o._windowTime = n < 1 ? 1 : n, n === Number.POSITIVE_INFINITY ? (o._infiniteTimeWindow = !0, o.next = o.nextInfiniteTimeWindow) : o.next = o.nextTimeWindow, o; } return ha(t, e), t.prototype.nextInfiniteTimeWindow = function (t) { if (!this.isStopped) { const n = this._events; n.push(t), n.length > this._bufferSize && n.shift(); }e.prototype.next.call(this, t); }, t.prototype.nextTimeWindow = function (t) { this.isStopped || (this._events.push(new PA(this._getNow(), t)), this._trimBufferThenGetEvents()), e.prototype.next.call(this, t); }, t.prototype._subscribe = function (e) { let t = this._infiniteTimeWindow; const n = t ? this._events : this._trimBufferThenGetEvents(); const r = this.scheduler; const o = n.length; if (this.closed) throw new Ld(); if (this.isStopped || this.hasError) var i = nb.EMPTY; else this.observers.push(e), i = new Ar(this, e); if (r && e.add(e = new Er(e, r)), t) for (t = 0; t < o && !e.closed; t++)e.next(n[t]); else for (t = 0; t < o && !e.closed; t++)e.next(n[t].value); return this.hasError ? e.error(this.thrownError) : this.isStopped && e.complete(), i; }, t.prototype._getNow = function () { return (this.scheduler || Mg).now(); }, t.prototype._trimBufferThenGetEvents = function () { for (var e = this._getNow(), t = this._bufferSize, n = this._windowTime, r = this._events, o = r.length, i = 0; i < o && !(e - r[i].time < n);)i++; return o > t && (i = Math.max(i, o - t)), i > 0 && r.splice(0, i), r; }, t; }(rb)); var PA = function (e, t) { this.time = e, this.value = t; }; var Sf = (function (e) { function t() { const t = e !== null && e.apply(this, arguments) || this; return t.value = null, t.hasNext = !1, t.hasCompleted = !1, t; } return ha(t, e), t.prototype._subscribe = function (t) { return this.hasError ? (t.error(this.thrownError), nb.EMPTY) : this.hasCompleted && this.hasNext ? (t.next(this.value), t.complete(), nb.EMPTY) : e.prototype._subscribe.call(this, t); }, t.prototype.next = function (e) { this.hasCompleted || (this.value = e, this.hasNext = !0); }, t.prototype.error = function (t) { this.hasCompleted || e.prototype.error.call(this, t); }, t.prototype.complete = function () { this.hasCompleted = !0, this.hasNext && e.prototype.next.call(this, this.value), e.prototype.complete.call(this); }, t; }(rb)); let QA = 1; const RA = Promise.resolve(); var aj = {}; const Fr = { setImmediate(e) { const t = QA++; return aj[t] = !0, RA.then((() => fn(t) && e())), t; }, clearImmediate(e) { fn(e); } }; const SA = (function (e) { function t(t, n) { const r = e.call(this, t, n) || this; return r.scheduler = t, r.work = n, r; } return ha(t, e), t.prototype.requestAsyncId = function (t, n, r) { return void 0 === r && (r = 0), r !== null && r > 0 ? e.prototype.requestAsyncId.call(this, t, n, r) : (t.actions.push(this), t.scheduled || (t.scheduled = Fr.setImmediate(t.flush.bind(t, null)))); }, t.prototype.recycleAsyncId = function (t, n, r) { if (void 0 === r && (r = 0), r !== null && r > 0 || r === null && this.delay > 0) return e.prototype.recycleAsyncId.call(this, t, n, r); t.actions.length === 0 && (Fr.clearImmediate(n), t.scheduled = void 0); }, t; }(Kg)); var kj = new (function (e) { function t() { return e !== null && e.apply(this, arguments) || this; } return ha(t, e), t.prototype.flush = function (e) { this.active = !0, this.scheduled = void 0; let t; const n = this.actions; let r = -1; const o = n.length; e = e || n.shift(); do { if (t = e.execute(e.state, e.delay)) break; } while (++r < o && (e = n.shift())); if (this.active = !1, t) { for (;++r < o && (e = n.shift());)e.unsubscribe(); throw t; } }, t; }(Lg))(SA); const TA = kj; const zl = new Lg(Kg); var cd = zl; const UA = (function (e) { function t(t, n) { const r = e.call(this, t, n) || this; return r.scheduler = t, r.work = n, r; } return ha(t, e), t.prototype.requestAsyncId = function (t, n, r) { return void 0 === r && (r = 0), r !== null && r > 0 ? e.prototype.requestAsyncId.call(this, t, n, r) : (t.actions.push(this), t.scheduled || (t.scheduled = requestAnimationFrame((() => t.flush(null))))); }, t.prototype.recycleAsyncId = function (t, n, r) { if (void 0 === r && (r = 0), r !== null && r > 0 || r === null && this.delay > 0) return e.prototype.recycleAsyncId.call(this, t, n, r); t.actions.length === 0 && (cancelAnimationFrame(n), t.scheduled = void 0); }, t; }(Kg)); const Gr = new (function (e) { function t() { return e !== null && e.apply(this, arguments) || this; } return ha(t, e), t.prototype.flush = function (e) { this.active = !0, this.scheduled = void 0; let t; const n = this.actions; let r = -1; const o = n.length; e = e || n.shift(); do { if (t = e.execute(e.state, e.delay)) break; } while (++r < o && (e = n.shift())); if (this.active = !1, t) { for (;++r < o && (e = n.shift());)e.unsubscribe(); throw t; } }, t; }(Lg))(UA); const VA = (function (e) { function t(t, n) { void 0 === t && (t = Hr), void 0 === n && (n = Number.POSITIVE_INFINITY); var r = e.call(this, t, (() => r.frame)) || this; return r.maxFrames = n, r.frame = 0, r.index = -1, r; } return ha(t, e), t.prototype.flush = function () { for (var e, t, n = this.actions, r = this.maxFrames; (t = n[0]) && t.delay <= r && (n.shift(), this.frame = t.delay, !(e = t.execute(t.state, t.delay))););if (e) { for (;t = n.shift();)t.unsubscribe(); throw e; } }, t.frameTimeFactor = 10, t; }(Lg)); var Hr = (function (e) { function t(t, n, r) { void 0 === r && (r = t.index += 1); const o = e.call(this, t, n) || this; return o.scheduler = t, o.work = n, o.index = r, o.active = !0, o.index = t.index = r, o; } return ha(t, e), t.prototype.schedule = function (n, r) { if (void 0 === r && (r = 0), !this.id) return e.prototype.schedule.call(this, n, r); this.active = !1; const o = new t(this.scheduler, this.work); return this.add(o), o.schedule(n, r); }, t.prototype.requestAsyncId = function (e, n, r) { return void 0 === r && (r = 0), this.delay = e.frame + r, (e = e.actions).push(this), e.sort(t.sortActions), !0; }, t.prototype.recycleAsyncId = function (e, t, n) {}, t.prototype._execute = function (t, n) { if (!0 === this.active) return e.prototype._execute.call(this, t, n); }, t.sortActions = function (e, t) { return e.delay === t.delay ? e.index === t.index ? 0 : e.index > t.index ? 1 : -1 : e.delay > t.delay ? 1 : -1; }, t; }(Kg)); const Al = (function () { function e() { return Error.call(this), this.message = 'argument out of range', this.name = 'ArgumentOutOfRangeError', this; } return e.prototype = Object.create(Error.prototype), e; }()); var eh = (function () { function e() { return Error.call(this), this.message = 'no elements in sequence', this.name = 'EmptyError', this; } return e.prototype = Object.create(Error.prototype), e; }()); var Tb = (function () { function e() { return Error.call(this), this.message = 'Timeout has occurred', this.name = 'TimeoutError', this; } return e.prototype = Object.create(Error.prototype), e; }()); var Cu = (function () { function e(e, t) { this.project = e, this.thisArg = t; } return e.prototype.call = function (e, t) { return t.subscribe(new WA(e, this.project, this.thisArg)); }, e; }()); var WA = (function (e) { function t(t, n, r) { return (t = e.call(this, t) || this).project = n, t.count = 0, t.thisArg = r || t, t; } return ha(t, e), t.prototype._next = function (e) { try { var t = this.project.call(this.thisArg, e, this.count++); } catch (e) { return void this.destination.error(e); } this.destination.next(t); }, t; }(za)); const Bl = (function (e) { function t() { return e !== null && e.apply(this, arguments) || this; } return ha(t, e), t.prototype.notifyNext = function (e, t, n, r, o) { this.destination.next(t); }, t.prototype.notifyError = function (e, t) { this.destination.error(e); }, t.prototype.notifyComplete = function (e) { this.destination.complete(); }, t; }(za)); var Hu = (function (e) { function t(t, n, r) { const o = e.call(this) || this; return o.parent = t, o.outerValue = n, o.outerIndex = r, o.index = 0, o; } return ha(t, e), t.prototype._next = function (e) { this.parent.notifyNext(this.outerValue, e, this.outerIndex, this.index++, this); }, t.prototype._error = function (e) { this.parent.notifyError(e, this), this.unsubscribe(); }, t.prototype._complete = function () { this.parent.notifyComplete(this), this.unsubscribe(); }, t; }(za)); const XA = function (e) { return function (t) { return e.then(((e) => { t.closed || (t.next(e), t.complete()); }), ((e) => t.error(e))).then(null, Oe), t; }; }; var xd = typeof Symbol === 'function' && Symbol.iterator ? Symbol.iterator : '@@iterator'; const YA = function (e) { return function (t) { for (var n = e[xd](); ;) { let r = void 0; try { r = n.next(); } catch (e) { return t.error(e), t; } if (r.done) { t.complete(); break; } if (t.next(r.value), t.closed) break; } return typeof n.return === 'function' && t.add((() => { n.return && n.return(); })), t; }; }; const ZA = function (e) { return function (t) { const n = e[Pe](); if (typeof n.subscribe !== 'function') throw new TypeError('Provided object does not correctly implement Symbol.observable'); return n.subscribe(t); }; }; var mn = function (e) { return e && typeof e.length === 'number' && typeof e !== 'function'; }; var Tf = function (e) { if (e && typeof e[Pe] === 'function') return ZA(e); if (mn(e)) return en(e); if (kn(e)) return XA(e); if (e && typeof e[xd] === 'function') return YA(e); throw e = Xi(e) ? 'an invalid object' : `'${e}'`, new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`); }; const Ir = {}; const aB = (function () { function e(e) { this.resultSelector = e; } return e.prototype.call = function (e, t) { return t.subscribe(new $A(e, this.resultSelector)); }, e; }()); var $A = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).resultSelector = n, t.active = 0, t.values = [], t.observables = [], t; } return ha(t, e), t.prototype._next = function (e) { this.values.push(Ir), this.observables.push(e); }, t.prototype._complete = function () { const e = this.observables; const t = e.length; if (t === 0) this.destination.complete(); else { this.toRespond = this.active = t; for (let n = 0; n < t; n++) this.add(bj(this, e[n], void 0, n)); } }, t.prototype.notifyComplete = function (e) { --this.active == 0 && this.destination.complete(); }, t.prototype.notifyNext = function (e, t, n) { let r = (e = this.values)[n]; r = this.toRespond ? r === Ir ? --this.toRespond : this.toRespond : 0, e[n] = t, r === 0 && (this.resultSelector ? this._tryResultSelector(e) : this.destination.next(e.slice())); }, t.prototype._tryResultSelector = function (e) { try { var t = this.resultSelector.apply(this, e); } catch (e) { return void this.destination.error(e); } this.destination.next(t); }, t; }(Bl)); const nd = (function (e) { function t(t) { const n = e.call(this) || this; return n.parent = t, n; } return ha(t, e), t.prototype._next = function (e) { this.parent.notifyNext(e); }, t.prototype._error = function (e) { this.parent.notifyError(e), this.unsubscribe(); }, t.prototype._complete = function () { this.parent.notifyComplete(), this.unsubscribe(); }, t; }(za)); !(function (e) { function t(t, n, r) { const o = e.call(this) || this; return o.parent = t, o.outerValue = n, o.outerIndex = r, o; }ha(t, e), t.prototype._next = function (e) { this.parent.notifyNext(this.outerValue, e, this.outerIndex, this); }, t.prototype._error = function (e) { this.parent.notifyError(e), this.unsubscribe(); }, t.prototype._complete = function () { this.parent.notifyComplete(this), this.unsubscribe(); }; }(za)); const od = (function (e) { function t() { return e !== null && e.apply(this, arguments) || this; } return ha(t, e), t.prototype.notifyNext = function (e) { this.destination.next(e); }, t.prototype.notifyError = function (e) { this.destination.error(e); }, t.prototype.notifyComplete = function () { this.destination.complete(); }, t; }(za)); !(function (e) { function t() { return e !== null && e.apply(this, arguments) || this; }ha(t, e), t.prototype.notifyNext = function (e, t, n, r) { this.destination.next(t); }, t.prototype.notifyError = function (e) { this.destination.error(e); }, t.prototype.notifyComplete = function (e) { this.destination.complete(); }; }(za)); var Lu = (function () { function e(e, t) { void 0 === t && (t = Number.POSITIVE_INFINITY), this.project = e, this.concurrent = t; } return e.prototype.call = function (e, t) { return t.subscribe(new bB(e, this.project, this.concurrent)); }, e; }()); var bB = (function (e) { function t(t, n, r) { return void 0 === r && (r = Number.POSITIVE_INFINITY), (t = e.call(this, t) || this).project = n, t.concurrent = r, t.hasCompleted = !1, t.buffer = [], t.active = 0, t.index = 0, t; } return ha(t, e), t.prototype._next = function (e) { this.active < this.concurrent ? this._tryNext(e) : this.buffer.push(e); }, t.prototype._tryNext = function (e) { const t = this.index++; try { var n = this.project(e, t); } catch (e) { return void this.destination.error(e); } this.active++, this._innerSub(n); }, t.prototype._innerSub = function (e) { const t = new nd(this); const n = this.destination; n.add(t), (e = bd(e, t)) !== t && n.add(e); }, t.prototype._complete = function () { this.hasCompleted = !0, this.active === 0 && this.buffer.length === 0 && this.destination.complete(), this.unsubscribe(); }, t.prototype.notifyNext = function (e) { this.destination.next(e); }, t.prototype.notifyComplete = function () { const e = this.buffer; this.active--, e.length > 0 ? this._next(e.shift()) : this.active === 0 && this.hasCompleted && this.destination.complete(); }, t; }(od)); const Cl = R.parseFloat; const Jr = -1 / 0 != 1 / Cl('\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff-0') ? function (e) { e = Oj(String(e)); const t = Cl(e); return t === 0 && e.charAt(0) == '-' ? -0 : t; } : Cl; ea({ global: !0, forced: parseFloat != Jr }, { parseFloat: Jr }); const Dl = new ua(Ic); var Qu = (function () { function e(e, t) { this.predicate = e, this.thisArg = t; } return e.prototype.call = function (e, t) { return t.subscribe(new cB(e, this.predicate, this.thisArg)); }, e; }()); var cB = (function (e) { function t(t, n, r) { return (t = e.call(this, t) || this).predicate = n, t.thisArg = r, t.count = 0, t; } return ha(t, e), t.prototype._next = function (e) { try { var t = this.predicate.call(this.thisArg, e, this.count++); } catch (e) { return void this.destination.error(e); }t && this.destination.next(e); }, t; }(za)); var Ru = (function () { function e() {} return e.prototype.call = function (e, t) { return t.subscribe(new dB(e)); }, e; }()); var dB = (function (e) { function t(t) { return (t = e.call(this, t) || this).hasFirst = !1, t.observables = [], t.subscriptions = [], t; } return ha(t, e), t.prototype._next = function (e) { this.observables.push(e); }, t.prototype._complete = function () { const e = this.observables; const t = e.length; if (t === 0) this.destination.complete(); else { for (let n = 0; n < t && !this.hasFirst; n++) { const r = bj(this, e[n], void 0, n); this.subscriptions && this.subscriptions.push(r), this.add(r); } this.observables = null; } }, t.prototype.notifyNext = function (e, t, n) { if (!this.hasFirst) { for (this.hasFirst = !0, e = 0; e < this.subscriptions.length; e++) if (e !== n) { const r = this.subscriptions[e]; r.unsubscribe(), this.remove(r); } this.subscriptions = null; } this.destination.next(t); }, t; }(Bl)); var Uu = (function () { function e(e) { this.resultSelector = e; } return e.prototype.call = function (e, t) { return t.subscribe(new eB(e, this.resultSelector)); }, e; }()); var eB = (function (e) { function t(t, n, r) { return (t = e.call(this, t) || this).resultSelector = n, t.iterators = [], t.active = 0, t.resultSelector = typeof n === 'function' ? n : void 0, t; } return ha(t, e), t.prototype._next = function (e) { const t = this.iterators; hc(e) ? t.push(new fB(e)) : typeof e[xd] === 'function' ? t.push(new gB(e[xd]())) : t.push(new hB(this.destination, this, e)); }, t.prototype._complete = function () { const e = this.iterators; const t = e.length; if (this.unsubscribe(), t === 0) this.destination.complete(); else { this.active = t; for (let n = 0; n < t; n++) { const r = e[n]; r.stillUnsubscribed ? this.destination.add(r.subscribe()) : this.active--; } } }, t.prototype.notifyInactive = function () { this.active--, this.active === 0 && this.destination.complete(); }, t.prototype.checkIterators = function () { for (var e = this.iterators, t = e.length, n = this.destination, r = 0; r < t; r++) { var o = e[r]; if (typeof o.hasValue === 'function' && !o.hasValue()) return; } let i = !1; const s = []; for (r = 0; r < t; r++) { const a = (o = e[r]).next(); if (o.hasCompleted() && (i = !0), a.done) return void n.complete(); s.push(a.value); } this.resultSelector ? this._tryresultSelector(s) : n.next(s), i && n.complete(); }, t.prototype._tryresultSelector = function (e) { try { var t = this.resultSelector.apply(this, e); } catch (e) { return void this.destination.error(e); } this.destination.next(t); }, t; }(za)); var gB = (function () { function e(e) { this.iterator = e, this.nextResult = e.next(); } return e.prototype.hasValue = function () { return !0; }, e.prototype.next = function () { const e = this.nextResult; return this.nextResult = this.iterator.next(), e; }, e.prototype.hasCompleted = function () { const e = this.nextResult; return !(!e || !e.done); }, e; }()); var fB = (function () { function e(e) { this.array = e, this.length = this.index = 0, this.length = e.length; } return e.prototype[xd] = function () { return this; }, e.prototype.next = function (e) { e = this.index++; const t = this.array; return e < this.length ? { value: t[e], done: !1 } : { value: null, done: !0 }; }, e.prototype.hasValue = function () { return this.array.length > this.index; }, e.prototype.hasCompleted = function () { return this.array.length === this.index; }, e; }()); var hB = (function (e) { function t(t, n, r) { return (t = e.call(this, t) || this).parent = n, t.observable = r, t.stillUnsubscribed = !0, t.buffer = [], t.isComplete = !1, t; } return ha(t, e), t.prototype[xd] = function () { return this; }, t.prototype.next = function () { const e = this.buffer; return e.length === 0 && this.isComplete ? { value: null, done: !0 } : { value: e.shift(), done: !1 }; }, t.prototype.hasValue = function () { return this.buffer.length > 0; }, t.prototype.hasCompleted = function () { return this.buffer.length === 0 && this.isComplete; }, t.prototype.notifyComplete = function () { this.buffer.length > 0 ? (this.isComplete = !0, this.parent.notifyInactive()) : this.destination.complete(); }, t.prototype.notifyNext = function (e) { this.buffer.push(e), this.parent.checkIterators(); }, t.prototype.subscribe = function () { return bd(this.observable, new nd(this)); }, t; }(od)); const iB = Object.freeze({
    __proto__: null,
    Observable: ua,
    ConnectableObservable: Dr,
    GroupedObservable: wl,
    observable: Pe,
    Subject: rb,
    BehaviorSubject: MA,
    ReplaySubject: Te,
    AsyncSubject: Sf,
    asap: TA,
    asapScheduler: kj,
    async: cd,
    asyncScheduler: zl,
    queue: Mg,
    queueScheduler: Mg,
    animationFrame: Gr,
    animationFrameScheduler: Gr,
    VirtualTimeScheduler: VA,
    VirtualAction: Hr,
    Scheduler: xl,
    Subscription: nb,
    Subscriber: za,
    Notification: yf,
    get NotificationKind() { return yl; },
    pipe: Zi,
    noop: Ic,
    identity: wd,
    isObservable(e) { return !!e && (e instanceof ua || typeof e.lift === 'function' && typeof e.subscribe === 'function'); },
    ArgumentOutOfRangeError: Al,
    EmptyError: eh,
    ObjectUnsubscribedError: Ld,
    UnsubscriptionError: Pf,
    TimeoutError: Tb,
    bindCallback: gn,
    bindNodeCallback: hn,
    combineLatest() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; let n = t = void 0; return ad(e[e.length - 1]) && (n = e.pop()), typeof e[e.length - 1] === 'function' && (t = e.pop()), e.length === 1 && hc(e[0]) && (e = e[0]), Rf(e, n).lift(new aB(t)); },
    concat: nn,
    defer: yd,
    empty: Qf,
    forkJoin() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; if (e.length === 1) { const n = e[0]; if (hc(n)) return ch(n, null); if (Xi(n) && Object.getPrototypeOf(n) === Object.prototype) return ch((e = Object.keys(n)).map(((e) => n[e])), e); } if (typeof e[e.length - 1] === 'function') { const r = e.pop(); return ch(e = e.length === 1 && hc(e[0]) ? e[0] : e, null).pipe(Ea(((e) => r.apply(void 0, e)))); } return ch(e, null); },
    from: Jc,
    fromEvent: Db,
    fromEventPattern: pn,
    generate(e, t, n, r, o) {
      if (arguments.length == 1) { var i = e.initialState; t = e.condition, n = e.iterate; var s = e.resultSelector || wd; o = e.scheduler; } else void 0 === r || ad(r) ? (i = e, s = wd, o = r) : (i = e, s = r); return new ua(((e) => {
        let r = i; if (o) {
          return o.schedule(Mu, 0, {
            subscriber: e, iterate: n, condition: t, resultSelector: s, state: r,
          });
        } for (;;) { if (t) { var a = void 0; try { a = t(r); } catch (t) { e.error(t); break; } if (!a) { e.complete(); break; } }a = void 0; try { a = s(r); } catch (t) { e.error(t); break; } if (e.next(a), e.closed) break; try { r = n(r); } catch (t) { e.error(t); break; } }
      }));
    },
    iif(e, t, n) { return void 0 === t && (t = Sb), void 0 === n && (n = Sb), yd((() => (e() ? t : n))); },
    interval: Qe,
    merge: Jb,
    never() { return Dl; },
    of: ob,
    onErrorResumeNext: dj,
    pairs(e, t) {
      return new ua(t ? (n) => {
        const r = Object.keys(e); const o = new nb(); return o.add(t.schedule(Ou, 0, {
          keys: r, index: 0, subscriber: n, subscription: o, obj: e,
        })), o;
      } : (t) => { for (let n = Object.keys(e), r = 0; r < n.length && !t.closed; r++) { const o = n[r]; e.hasOwnProperty(o) && t.next([o, e[o]]); }t.complete(); });
    },
    partition(e, t, n) { return [yb(t, n)(new ua(Tf(e))), yb(Pu(t, n))(new ua(Tf(e)))]; },
    race: fb,
    range(e, t, n) {
      return void 0 === e && (e = 0), new ua(((r) => {
        void 0 === t && (t = e, e = 0); let o = 0; let i = e; if (n) {
          return n.schedule(Su, 0, {
            index: o, count: t, start: e, subscriber: r,
          });
        } for (;;) { if (o++ >= t) { r.complete(); break; } if (r.next(i++), r.closed) break; }
      }));
    },
    throwError: ra,
    timer: dd,
    using(e, t) { return new ua(((n) => { try { var r = e(); } catch (e) { return void n.error(e); } try { var o = t(r); } catch (e) { return void n.error(e); } const i = (o ? Jc(o) : Sb).subscribe(n); return function () { i.unsubscribe(), r && r.unsubscribe(); }; })); },
    zip: ej,
    scheduled: ln,
    EMPTY: Sb,
    NEVER: Dl,
    config: gc,
  }); var Vu = (function () { function e(e, t, n, r) { this.bufferTimeSpan = e, this.bufferCreationInterval = t, this.maxBufferSize = n, this.scheduler = r; } return e.prototype.call = function (e, t) { return t.subscribe(new jB(e, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler)); }, e; }()); const kB = function () { this.buffer = []; }; var jB = (function (e) {
    function t(t, n, r, o, i) {
      if ((t = e.call(this, t) || this).bufferTimeSpan = n, t.bufferCreationInterval = r, t.maxBufferSize = o, t.scheduler = i, t.contexts = [], o = t.openContext(), t.timespanOnly = r == null || r < 0, t.timespanOnly)t.add(o.closeAction = i.schedule(qn, n, { subscriber: t, context: o, bufferTimeSpan: n })); else {
        const s = {
          bufferTimeSpan: n, bufferCreationInterval: r, subscriber: t, scheduler: i,
        }; t.add(o.closeAction = i.schedule(rn, n, { subscriber: t, context: o })), t.add(i.schedule(Wu, r, s));
      } return t;
    } return ha(t, e), t.prototype._next = function (e) { for (var t, n = this.contexts, r = n.length, o = 0; o < r; o++) { const i = n[o]; const s = i.buffer; s.push(e), s.length == this.maxBufferSize && (t = i); }t && this.onBufferFull(t); }, t.prototype._error = function (t) { this.contexts.length = 0, e.prototype._error.call(this, t); }, t.prototype._complete = function () { for (let t = this.contexts, n = this.destination; t.length > 0;) { const r = t.shift(); n.next(r.buffer); }e.prototype._complete.call(this); }, t.prototype._unsubscribe = function () { this.contexts = null; }, t.prototype.onBufferFull = function (e) { if (this.closeContext(e), (e = e.closeAction).unsubscribe(), this.remove(e), !this.closed && this.timespanOnly) { e = this.openContext(); const t = this.bufferTimeSpan; this.add(e.closeAction = this.scheduler.schedule(qn, t, { subscriber: this, context: e, bufferTimeSpan: t })); } }, t.prototype.openContext = function () { const e = new kB(); return this.contexts.push(e), e; }, t.prototype.closeContext = function (e) { this.destination.next(e.buffer); const t = this.contexts; (t ? t.indexOf(e) : -1) >= 0 && t.splice(t.indexOf(e), 1); }, t;
  }(za)); var Xu = (function () { function e(e) { this.selector = e; } return e.prototype.call = function (e, t) { return t.subscribe(new lB(e, this.selector, this.caught)); }, e; }()); var lB = (function (e) { function t(t, n, r) { return (t = e.call(this, t) || this).selector = n, t.caught = r, t; } return ha(t, e), t.prototype.error = function (t) { if (!this.isStopped) { let n = void 0; try { n = this.selector(t, this.caught); } catch (t) { return void e.prototype.error.call(this, t); } this._unsubscribeAndRecycle(), t = new nd(this), this.add(t), (n = bd(n, t)) !== t && this.add(n); } }, t; }(od)); var Yu = (function () { function e(e) { this.defaultValue = e; } return e.prototype.call = function (e, t) { return t.subscribe(new mB(e, this.defaultValue)); }, e; }()); var mB = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).defaultValue = n, t.isEmpty = !0, t; } return ha(t, e), t.prototype._next = function (e) { this.isEmpty = !1, this.destination.next(e); }, t.prototype._complete = function () { this.isEmpty && this.destination.next(this.defaultValue), this.destination.complete(); }, t; }(za)); var Zu = (function () { function e(e, t) { this.delay = e, this.scheduler = t; } return e.prototype.call = function (e, t) { return t.subscribe(new nB(e, this.delay, this.scheduler)); }, e; }()); var nB = (function (e) { function t(t, n, r) { return (t = e.call(this, t) || this).delay = n, t.scheduler = r, t.queue = [], t.active = !1, t.errored = !1, t; } return ha(t, e), t.dispatch = function (e) { for (var t = e.source, n = t.queue, r = e.scheduler, o = e.destination; n.length > 0 && n[0].time - r.now() <= 0;)n.shift().notification.observe(o); n.length > 0 ? (t = Math.max(0, n[0].time - r.now()), this.schedule(e, t)) : (this.unsubscribe(), t.active = !1); }, t.prototype._schedule = function (e) { this.active = !0, this.destination.add(e.schedule(t.dispatch, this.delay, { source: this, destination: this.destination, scheduler: e })); }, t.prototype.scheduleNotification = function (e) { if (!0 !== this.errored) { const t = this.scheduler; e = new oB(t.now() + this.delay, e), this.queue.push(e), !1 === this.active && this._schedule(t); } }, t.prototype._next = function (e) { this.scheduleNotification(yf.createNext(e)); }, t.prototype._error = function (e) { this.errored = !0, this.queue = [], this.destination.error(e), this.unsubscribe(); }, t.prototype._complete = function () { this.scheduleNotification(yf.createComplete()), this.unsubscribe(); }, t; }(za)); var oB = function (e, t) { this.time = e, this.notification = t; }; var $u = (function () { function e(e, t) { this.keySelector = e, this.flushes = t; } return e.prototype.call = function (e, t) { return t.subscribe(new pB(e, this.keySelector, this.flushes)); }, e; }()); var pB = (function (e) { function t(t, n, r) { return (t = e.call(this, t) || this).keySelector = n, t.values = new Set(), r && t.add(bd(r, new nd(t))), t; } return ha(t, e), t.prototype.notifyNext = function () { this.values.clear(); }, t.prototype.notifyError = function (e) { this._error(e); }, t.prototype._next = function (e) { this.keySelector ? this._useKeySelector(e) : this._finalizeNext(e, e); }, t.prototype._useKeySelector = function (e) { const t = this.destination; try { var n = this.keySelector(e); } catch (e) { return void t.error(e); } this._finalizeNext(n, e); }, t.prototype._finalizeNext = function (e, t) { const n = this.values; n.has(e) || (n.add(e), this.destination.next(t)); }, t; }(od)); var bv = (function () { function e(e) { this.errorFactory = e; } return e.prototype.call = function (e, t) { return t.subscribe(new qB(e, this.errorFactory)); }, e; }()); var qB = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).errorFactory = n, t.hasValue = !1, t; } return ha(t, e), t.prototype._next = function (e) { this.hasValue = !0, this.destination.next(e); }, t.prototype._complete = function () { if (this.hasValue) return this.destination.complete(); let e = void 0; try { e = this.errorFactory(); } catch (t) { e = t; } this.destination.error(e); }, t; }(za)); var cv = (function () { function e(e) { if (this.total = e, this.total < 0) throw new Al(); } return e.prototype.call = function (e, t) { return t.subscribe(new rB(e, this.total)); }, e; }()); var rB = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).total = n, t.count = 0, t; } return ha(t, e), t.prototype._next = function (e) { const t = this.total; const n = ++this.count; n <= t && (this.destination.next(e), n === t && (this.destination.complete(), this.unsubscribe())); }, t; }(za)); var dv = (function () { function e(e) { this.callback = e; } return e.prototype.call = function (e, t) { return t.subscribe(new sB(e, this.callback)); }, e; }()); var sB = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).add(new nb(n)), t; } return ha(t, e), t; }(za)); var fv = (function () { function e() {} return e.prototype.call = function (e, t) { return t.subscribe(new tB(e)); }, e; }()); var tB = (function (e) { function t() { return e !== null && e.apply(this, arguments) || this; } return ha(t, e), t.prototype._next = function (e) {}, t; }(za)); var gv = (function () { function e(e) { if (this.total = e, this.total < 0) throw new Al(); } return e.prototype.call = function (e, t) { return t.subscribe(new uB(e, this.total)); }, e; }()); var uB = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).total = n, t.ring = [], t.count = 0, t; } return ha(t, e), t.prototype._next = function (e) { const t = this.ring; const n = this.total; const r = this.count++; t.length < n ? t.push(e) : t[r % n] = e; }, t.prototype._complete = function () { const e = this.destination; let t = this.count; if (t > 0) for (let n = this.count >= this.total ? this.total : this.count, r = this.ring, o = 0; o < n; o++) { const i = t++ % n; e.next(r[i]); }e.complete(); }, t; }(za)); var hv = (function () { function e(e) { this.value = e; } return e.prototype.call = function (e, t) { return t.subscribe(new vB(e, this.value)); }, e; }()); var vB = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).value = n, t; } return ha(t, e), t.prototype._next = function (e) { this.destination.next(this.value); }, t; }(za)); var iv = (function () { function e(e, t, n) { void 0 === n && (n = !1), this.accumulator = e, this.seed = t, this.hasSeed = n; } return e.prototype.call = function (e, t) { return t.subscribe(new wB(e, this.accumulator, this.seed, this.hasSeed)); }, e; }()); var wB = (function (e) {
    function t(t, n, r, o) { return (t = e.call(this, t) || this).accumulator = n, t._seed = r, t.hasSeed = o, t.index = 0, t; } return ha(t, e), Object.defineProperty(t.prototype, 'seed', {
      get() { return this._seed; }, set(e) { this.hasSeed = !0, this._seed = e; }, enumerable: !0, configurable: !0,
    }), t.prototype._next = function (e) { if (this.hasSeed) return this._tryNext(e); this.seed = e, this.destination.next(e); }, t.prototype._tryNext = function (e) { const t = this.index++; try { var n = this.accumulator(this.seed, e, t); } catch (e) { this.destination.error(e); } this.seed = n, this.destination.next(n); }, t;
  }(za)); var kv = (function () { function e(e, t) { this.subjectFactory = e, this.selector = t; } return e.prototype.call = function (e, t) { const n = this.selector; const r = this.subjectFactory(); return (e = n(r).subscribe(e)).add(t.subscribe(r)), e; }, e; }()); var mv = (function () { function e(e, t) { this.notifier = e, this.source = t; } return e.prototype.call = function (e, t) { return t.subscribe(new xB(e, this.notifier, this.source)); }, e; }()); var xB = (function (e) { function t(t, n, r) { return (t = e.call(this, t) || this).notifier = n, t.source = r, t; } return ha(t, e), t.prototype.error = function (t) { if (!this.isStopped) { let n = this.errors; let r = this.retries; let o = this.retriesSubscription; if (r) this.retriesSubscription = this.errors = void 0; else { n = new rb(); try { r = (0, this.notifier)(n); } catch (t) { return e.prototype.error.call(this, t); }o = bd(r, new nd(this)); } this._unsubscribeAndRecycle(), this.errors = n, this.retries = r, this.retriesSubscription = o, n.next(t); } }, t.prototype._unsubscribe = function () { const e = this.errors; const t = this.retriesSubscription; e && (e.unsubscribe(), this.errors = void 0), t && (t.unsubscribe(), this.retriesSubscription = void 0), this.retries = void 0; }, t.prototype.notifyNext = function () { const e = this._unsubscribe; this._unsubscribe = null, this._unsubscribeAndRecycle(), this._unsubscribe = e, this.source.subscribe(this); }, t; }(od)); var pv = (function () { function e(e) { this.project = e; } return e.prototype.call = function (e, t) { return t.subscribe(new yB(e, this.project)); }, e; }()); var yB = (function (e) { function t(t, n) { return (t = e.call(this, t) || this).project = n, t.index = 0, t; } return ha(t, e), t.prototype._next = function (e) { const t = this.index++; try { var n = this.project(e, t); } catch (e) { return void this.destination.error(e); } this._innerSub(n); }, t.prototype._innerSub = function (e) { let t = this.innerSubscription; t && t.unsubscribe(), t = new nd(this); const n = this.destination; n.add(t), this.innerSubscription = bd(e, t), this.innerSubscription !== t && n.add(this.innerSubscription); }, t.prototype._complete = function () { const t = this.innerSubscription; t && !t.closed || e.prototype._complete.call(this), this.unsubscribe(); }, t.prototype._unsubscribe = function () { this.innerSubscription = void 0; }, t.prototype.notifyComplete = function () { this.innerSubscription = void 0, this.isStopped && e.prototype._complete.call(this); }, t.prototype.notifyNext = function (e) { this.destination.next(e); }, t; }(od)); var qv = (function () { function e(e) { this.notifier = e; } return e.prototype.call = function (e, t) { e = new zB(e); const n = bd(this.notifier, new nd(e)); return n && !e.seenValue ? (e.add(n), t.subscribe(e)) : e; }, e; }()); var zB = (function (e) { function t(t) { return (t = e.call(this, t) || this).seenValue = !1, t; } return ha(t, e), t.prototype.notifyNext = function () { this.seenValue = !0, this.complete(); }, t.prototype.notifyComplete = function () {}, t; }(od)); var rv = (function () { function e(e, t, n) { this.nextOrObserver = e, this.error = t, this.complete = n; } return e.prototype.call = function (e, t) { return t.subscribe(new AB(e, this.nextOrObserver, this.error, this.complete)); }, e; }()); var AB = (function (e) { function t(t, n, r, o) { return (t = e.call(this, t) || this)._tapNext = Ic, t._tapError = Ic, t._tapComplete = Ic, t._tapError = r || Ic, t._tapComplete = o || Ic, Ne(n) ? (t._context = t, t._tapNext = n) : n && (t._context = n, t._tapNext = n.next || Ic, t._tapError = n.error || Ic, t._tapComplete = n.complete || Ic), t; } return ha(t, e), t.prototype._next = function (e) { try { this._tapNext.call(this._context, e); } catch (e) { return void this.destination.error(e); } this.destination.next(e); }, t.prototype._error = function (e) { try { this._tapError.call(this._context, e); } catch (e) { return void this.destination.error(e); } this.destination.error(e); }, t.prototype._complete = function () { try { this._tapComplete.call(this._context); } catch (e) { return void this.destination.error(e); } return this.destination.complete(); }, t; }(za)); var tv = { leading: !0, trailing: !1 }; !(function (e) { function t(t, n, r, o) { const i = e.call(this, t) || this; return i.destination = t, i.durationSelector = n, i._leading = r, i._trailing = o, i._hasValue = !1, i; }ha(t, e), t.prototype._next = function (e) { this._hasValue = !0, this._sendValue = e, this._throttled || (this._leading ? this.send() : this.throttle(e)); }, t.prototype.send = function () { const e = this._sendValue; this._hasValue && (this.destination.next(e), this.throttle(e)), this._hasValue = !1, this._sendValue = void 0; }, t.prototype.throttle = function (e) { (e = this.tryDurationSelector(e)) && this.add(this._throttled = bd(e, new nd(this))); }, t.prototype.tryDurationSelector = function (e) { try { return this.durationSelector(e); } catch (e) { return this.destination.error(e), null; } }, t.prototype.throttlingDone = function () { const e = this._throttled; const t = this._trailing; e && e.unsubscribe(), this._throttled = void 0, t && this.send(); }, t.prototype.notifyNext = function () { this.throttlingDone(); }, t.prototype.notifyComplete = function () { this.throttlingDone(); }; }(od)); for (var uv = (function () { function e(e, t, n, r) { this.duration = e, this.scheduler = t, this.leading = n, this.trailing = r; } return e.prototype.call = function (e, t) { return t.subscribe(new BB(e, this.duration, this.scheduler, this.leading, this.trailing)); }, e; }()), BB = (function (e) { function t(t, n, r, o, i) { return (t = e.call(this, t) || this).duration = n, t.scheduler = r, t.leading = o, t.trailing = i, t._hasTrailingValue = !1, t._trailingValue = null, t; } return ha(t, e), t.prototype._next = function (e) { this.throttled ? this.trailing && (this._trailingValue = e, this._hasTrailingValue = !0) : (this.add(this.throttled = this.scheduler.schedule(vv, this.duration, { subscriber: this })), this.leading ? this.destination.next(e) : this.trailing && (this._trailingValue = e, this._hasTrailingValue = !0)); }, t.prototype._complete = function () { this._hasTrailingValue && this.destination.next(this._trailingValue), this.destination.complete(); }, t.prototype.clearThrottle = function () { const e = this.throttled; e && (this.trailing && this._hasTrailingValue && (this.destination.next(this._trailingValue), this._trailingValue = null, this._hasTrailingValue = !1), e.unsubscribe(), this.remove(e), this.throttled = null); }, t; }(za)), xv = (function () { function e(e, t, n, r) { this.waitFor = e, this.absoluteTimeout = t, this.withObservable = n, this.scheduler = r; } return e.prototype.call = function (e, t) { return t.subscribe(new CB(e, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler)); }, e; }()), CB = (function (e) { function t(t, n, r, o, i) { return (t = e.call(this, t) || this).absoluteTimeout = n, t.waitFor = r, t.withObservable = o, t.scheduler = i, t.scheduleTimeout(), t; } return ha(t, e), t.dispatchTimeout = function (e) { const t = e.withObservable; e._unsubscribeAndRecycle(), e.add(bd(t, new nd(e))); }, t.prototype.scheduleTimeout = function () { const e = this.action; e ? this.action = e.schedule(this, this.waitFor) : this.add(this.action = this.scheduler.schedule(t.dispatchTimeout, this.waitFor, this)); }, t.prototype._next = function (t) { this.absoluteTimeout || this.scheduleTimeout(), e.prototype._next.call(this, t); }, t.prototype._unsubscribe = function () { this.action = void 0, this.withObservable = this.scheduler = null; }, t; }(od)), zv = (function () { function e(e, t) { this.observables = e, this.project = t; } return e.prototype.call = function (e, t) { return t.subscribe(new DB(e, this.observables, this.project)); }, e; }()), DB = (function (e) { function t(t, n, r) { (t = e.call(this, t) || this).observables = n, t.project = r, t.toRespond = [], r = n.length, t.values = Array(r); for (var o = 0; o < r; o++)t.toRespond.push(o); for (o = 0; o < r; o++)t.add(bj(t, n[o], void 0, o)); return t; } return ha(t, e), t.prototype.notifyNext = function (e, t, n) { this.values[n] = t, (e = this.toRespond).length > 0 && ((n = e.indexOf(n)) !== -1 && e.splice(n, 1)); }, t.prototype.notifyComplete = function () {}, t.prototype._next = function (e) { this.toRespond.length === 0 && (e = [e].concat(this.values), this.project ? this._tryProject(e) : this.destination.next(e)); }, t.prototype._tryProject = function (e) { try { var t = this.project.apply(this, e); } catch (e) { return void this.destination.error(e); } this.destination.next(t); }, t; }(Bl)), Kr = xb(((e) => { const t = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof window.msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto); if (t) { const n = new Uint8Array(16); e.exports = function () { return t(n), n; }; } else { const r = Array(16); e.exports = function () { for (var e, t = 0; t < 16; t++)(3 & t) == 0 && (e = 4294967296 * Math.random()), r[t] = e >>> ((3 & t) << 3) & 255; return r; }; } })), zb = [], pi = 0; pi < 256; ++pi)zb[pi] = (pi + 256).toString(16).substr(1); const Lr = function (e, t) { return t = t || 0, [zb[e[t++]], zb[e[t++]], zb[e[t++]], zb[e[t++]], '-', zb[e[t++]], zb[e[t++]], '-', zb[e[t++]], zb[e[t++]], '-', zb[e[t++]], zb[e[t++]], '-', zb[e[t++]], zb[e[t++]], zb[e[t++]], zb[e[t++]], zb[e[t++]], zb[e[t++]]].join(''); }; const Ng = function (e, t, n) { if (n = t && n || 0, typeof e === 'string' && (t = e === 'binary' ? Array(16) : null, e = null), (e = (e = e || {}).random || (e.rng || Kr)())[6] = 15 & e[6] | 64, e[8] = 63 & e[8] | 128, t) for (let r = 0; r < 16; ++r)t[n + r] = e[r]; return t || Lr(e); }; const Og = Ng(); var gj = !1; var yn = new AbortController(); let pd; let Md; let El; let Fl; let Nd; let qe; let Fc; let re; let nc; let Gl; let qd; let se; let rd; let sd; let td; let zf; !(function (e) { e[e.ATTRIBUTE_OPERATION_ERR_FAILURE = 2] = 'ATTRIBUTE_OPERATION_ERR_FAILURE', e[e.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT = 3] = 'ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT', e[e.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW = 4] = 'ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW', e[e.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN = 5] = 'ATTRIBUTE_OPERATION_ERR_TOO_OFTEN', e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND = 6] = 'ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND', e[e.ATTRIBUTE_OPERATION_ERR_TIMEOUT = 7] = 'ATTRIBUTE_OPERATION_ERR_TIMEOUT', e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN = 102] = 'ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN'; }(pd || (pd = {}))), (function (e) { e[e.CHANNEL_MESSAGE_ERR_FAILURE = 1] = 'CHANNEL_MESSAGE_ERR_FAILURE', e[e.CHANNEL_MESSAGE_ERR_TIMEOUT = 2] = 'CHANNEL_MESSAGE_ERR_TIMEOUT', e[e.CHANNEL_MESSAGE_ERR_TOO_OFTEN = 3] = 'CHANNEL_MESSAGE_ERR_TOO_OFTEN', e[e.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE = 4] = 'CHANNEL_MESSAGE_ERR_INVALID_MESSAGE', e[e.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL = 5] = 'CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL', e[e.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN = 102] = 'CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN'; }(Md || (Md = {}))), (function (e) { e[e.CREATE_CHANNEL_ERR_INVALID_ARGUMENT = 1] = 'CREATE_CHANNEL_ERR_INVALID_ARGUMENT'; }(El || (El = {}))), (function (e) { e[e.CREATE_INSTANCE_ERR_INVALID_ARGUMENT = 1] = 'CREATE_INSTANCE_ERR_INVALID_ARGUMENT'; }(Fl || (Fl = {}))), (function (e) { e[e.GET_MEMBERS_ERR_FAILURE = 1] = 'GET_MEMBERS_ERR_FAILURE', e[e.GET_MEMBERS_ERR_REJECTED = 2] = 'GET_MEMBERS_ERR_REJECTED', e[e.GET_MEMBERS_ERR_TIMEOUT = 3] = 'GET_MEMBERS_ERR_TIMEOUT', e[e.GET_MEMBERS_ERR_TOO_OFTEN = 4] = 'GET_MEMBERS_ERR_TOO_OFTEN', e[e.GET_MEMBERS_ERR_NOT_IN_CHANNEL = 5] = 'GET_MEMBERS_ERR_NOT_IN_CHANNEL', e[e.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN = 102] = 'GET_MEMBERS_ERR_USER_NOT_LOGGED_IN'; }(Nd || (Nd = {}))), (function (e) { e[e.INVITATION_API_CALL_ERR_INVALID_ARGUMENT = 1] = 'INVITATION_API_CALL_ERR_INVALID_ARGUMENT', e[e.INVITATION_API_CALL_ERR_NOT_STARTED = 2] = 'INVITATION_API_CALL_ERR_NOT_STARTED', e[e.INVITATION_API_CALL_ERR_ALREADY_END = 3] = 'INVITATION_API_CALL_ERR_ALREADY_END', e[e.INVITATION_API_CALL_ERR_ALREADY_ACCEPT = 4] = 'INVITATION_API_CALL_ERR_ALREADY_ACCEPT', e[e.INVITATION_API_CALL_ERR_ALREADY_SENT = 5] = 'INVITATION_API_CALL_ERR_ALREADY_SENT'; }(qe || (qe = {}))), (function (e) { e[e.JOIN_CHANNEL_ERR_FAILURE = 1] = 'JOIN_CHANNEL_ERR_FAILURE', e[e.JOIN_CHANNEL_ERR_REJECTED = 2] = 'JOIN_CHANNEL_ERR_REJECTED', e[e.JOIN_CHANNEL_ERR_INVALID_ARGUMENT = 3] = 'JOIN_CHANNEL_ERR_INVALID_ARGUMENT', e[e.JOIN_CHANNEL_TIMEOUT = 4] = 'JOIN_CHANNEL_TIMEOUT', e[e.JOIN_CHANNEL_ERR_EXCEED_LIMIT = 5] = 'JOIN_CHANNEL_ERR_EXCEED_LIMIT', e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED = 6] = 'JOIN_CHANNEL_ERR_ALREADY_JOINED', e[e.JOIN_CHANNEL_ERR_TOO_OFTEN = 7] = 'JOIN_CHANNEL_ERR_TOO_OFTEN', e[e.JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN = 8] = 'JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN', e[e.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN = 102] = 'JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN', e[e.JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE = 201] = 'JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE', e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID = 202] = 'JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID'; }(Fc || (Fc = {}))), (function (e) { e[e.LEAVE_CHANNEL_ERR_FAILURE = 1] = 'LEAVE_CHANNEL_ERR_FAILURE', e[e.LEAVE_CHANNEL_ERR_REJECTED = 2] = 'LEAVE_CHANNEL_ERR_REJECTED', e[e.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL = 3] = 'LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL', e[e.LEAVE_CHANNEL_ERR_KICKED = 4] = 'LEAVE_CHANNEL_ERR_KICKED', e[e.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN = 102] = 'LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN'; }(re || (re = {}))), (function (e) { e[e.LOGIN_ERR_UNKNOWN = 1] = 'LOGIN_ERR_UNKNOWN', e[e.LOGIN_ERR_REJECTED = 2] = 'LOGIN_ERR_REJECTED', e[e.LOGIN_ERR_INVALID_ARGUMENT = 3] = 'LOGIN_ERR_INVALID_ARGUMENT', e[e.LOGIN_ERR_INVALID_APP_ID = 4] = 'LOGIN_ERR_INVALID_APP_ID', e[e.LOGIN_ERR_INVALID_TOKEN = 5] = 'LOGIN_ERR_INVALID_TOKEN', e[e.LOGIN_ERR_TOKEN_EXPIRED = 6] = 'LOGIN_ERR_TOKEN_EXPIRED', e[e.LOGIN_ERR_NOT_AUTHORIZED = 7] = 'LOGIN_ERR_NOT_AUTHORIZED', e[e.LOGIN_ERR_ALREADY_LOGIN = 8] = 'LOGIN_ERR_ALREADY_LOGIN', e[e.LOGIN_ERR_TIMEOUT = 9] = 'LOGIN_ERR_TIMEOUT', e[e.LOGIN_ERR_TOO_OFTEN = 10] = 'LOGIN_ERR_TOO_OFTEN', e[e.LOGIN_ERR_ABORTED_BY_LOGOUT = 201] = 'LOGIN_ERR_ABORTED_BY_LOGOUT'; }(nc || (nc = {}))), (function (e) { e[e.LOGOUT_ERR_USER_NOT_LOGGED_IN = 102] = 'LOGOUT_ERR_USER_NOT_LOGGED_IN'; }(Gl || (Gl = {}))), (function (e) { e[e.PEER_MESSAGE_ERR_FAILURE = 1] = 'PEER_MESSAGE_ERR_FAILURE', e[e.PEER_MESSAGE_ERR_TIMEOUT = 2] = 'PEER_MESSAGE_ERR_TIMEOUT', e[e.PEER_MESSAGE_ERR_TOO_OFTEN = 5] = 'PEER_MESSAGE_ERR_TOO_OFTEN', e[e.PEER_MESSAGE_ERR_INVALID_USERID = 6] = 'PEER_MESSAGE_ERR_INVALID_USERID', e[e.PEER_MESSAGE_ERR_INVALID_MESSAGE = 7] = 'PEER_MESSAGE_ERR_INVALID_MESSAGE', e[e.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE = 8] = 'PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE', e[e.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN = 102] = 'PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN'; }(qd || (qd = {}))), (function (e) { e[e.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT = 2] = 'QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT', e[e.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED = 3] = 'QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED', e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT = 4] = 'QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT', e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN = 5] = 'QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN', e[e.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN = 102] = 'QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN'; }(se || (se = {}))), (function (e) { e[e.RENEW_TOKEN_ERR_FAILURE = 1] = 'RENEW_TOKEN_ERR_FAILURE', e[e.RENEW_TOKEN_ERR_INVALID_ARGUMENT = 2] = 'RENEW_TOKEN_ERR_INVALID_ARGUMENT', e[e.RENEW_TOKEN_ERR_REJECTED = 3] = 'RENEW_TOKEN_ERR_REJECTED', e[e.RENEW_TOKEN_ERR_TOO_OFTEN = 4] = 'RENEW_TOKEN_ERR_TOO_OFTEN', e[e.RENEW_TOKEN_ERR_TOKEN_EXPIRED = 5] = 'RENEW_TOKEN_ERR_TOKEN_EXPIRED', e[e.RENEW_TOKEN_ERR_INVALID_TOKEN = 6] = 'RENEW_TOKEN_ERR_INVALID_TOKEN', e[e.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN = 102] = 'RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN', e[e.RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT = 201] = 'RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT'; }(rd || (rd = {}))), (function (e) { e[e.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE = 1] = 'GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE', e[e.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT = 2] = 'GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT', e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN = 3] = 'GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN', e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT = 4] = 'GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT', e[e.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT = 5] = 'GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT', e[e.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED = 101] = 'GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED', e[e.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN = 102] = 'GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN'; }(sd || (sd = {}))), (function (e) { e[e.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE = 1] = 'PEER_SUBSCRIPTION_STATUS_ERR_FAILURE', e[e.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT = 2] = 'PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT', e[e.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED = 3] = 'PEER_SUBSCRIPTION_STATUS_ERR_REJECTED', e[e.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT = 4] = 'PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT', e[e.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN = 5] = 'PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN', e[e.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW = 6] = 'PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW', e[e.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN = 102] = 'PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN'; }(td || (td = {}))), (function (e) { e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE = 1] = 'QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE', e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT = 2] = 'QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT', e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN = 3] = 'QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN', e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN = 102] = 'QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN'; }(zf || (zf = {}))); const oc = pd.ATTRIBUTE_OPERATION_ERR_FAILURE; var gb = pd.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT; var Ye = pd.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW; pd.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN; const Mr = pd.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND; const pc = pd.ATTRIBUTE_OPERATION_ERR_TIMEOUT; const qc = pd.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN; const qi = Md.CHANNEL_MESSAGE_ERR_FAILURE; const Hl = Md.CHANNEL_MESSAGE_ERR_TIMEOUT; const Nr = Md.CHANNEL_MESSAGE_ERR_TOO_OFTEN; const Il = Md.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE; const EB = Md.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL; const Jl = Md.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN; const FB = El.CREATE_CHANNEL_ERR_INVALID_ARGUMENT; const Or = Fl.CREATE_INSTANCE_ERR_INVALID_ARGUMENT; sd.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE; const Pr = sd.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT; sd.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN; const Qr = sd.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT; const GB = sd.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT; sd.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED; const HB = sd.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN; const IB = Nd.GET_MEMBERS_ERR_FAILURE; const JB = Nd.GET_MEMBERS_ERR_REJECTED; Nd.GET_MEMBERS_ERR_TIMEOUT, Nd.GET_MEMBERS_ERR_TOO_OFTEN; const KB = Nd.GET_MEMBERS_ERR_NOT_IN_CHANNEL; const LB = Nd.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN; const Xc = qe.INVITATION_API_CALL_ERR_INVALID_ARGUMENT; const MB = qe.INVITATION_API_CALL_ERR_NOT_STARTED; const ri = qe.INVITATION_API_CALL_ERR_ALREADY_END; const Rr = qe.INVITATION_API_CALL_ERR_ALREADY_ACCEPT; const NB = qe.INVITATION_API_CALL_ERR_ALREADY_SENT; const Sr = Fc.JOIN_CHANNEL_ERR_FAILURE; Fc.JOIN_CHANNEL_ERR_REJECTED; const OB = Fc.JOIN_CHANNEL_ERR_INVALID_ARGUMENT; const Tr = Fc.JOIN_CHANNEL_TIMEOUT; const Ur = Fc.JOIN_CHANNEL_ERR_EXCEED_LIMIT; const Vr = Fc.JOIN_CHANNEL_ERR_ALREADY_JOINED; Fc.JOIN_CHANNEL_ERR_TOO_OFTEN; const Wr = Fc.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN; const Xr = Fc.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID; const Yr = re.LEAVE_CHANNEL_ERR_FAILURE; const Zr = re.LEAVE_CHANNEL_ERR_REJECTED; const PB = re.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL; const QB = re.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN; const RB = re.LEAVE_CHANNEL_ERR_KICKED; const $r = nc.LOGIN_ERR_UNKNOWN; const Pg = nc.LOGIN_ERR_REJECTED; const si = nc.LOGIN_ERR_INVALID_ARGUMENT; const as = nc.LOGIN_ERR_INVALID_APP_ID; const bs = nc.LOGIN_ERR_INVALID_TOKEN; const ti = nc.LOGIN_ERR_TOKEN_EXPIRED; nc.LOGIN_ERR_NOT_AUTHORIZED; const SB = nc.LOGIN_ERR_ALREADY_LOGIN; const TB = nc.LOGIN_ERR_TIMEOUT; const UB = nc.LOGIN_ERR_TOO_OFTEN; const cs = Gl.LOGOUT_ERR_USER_NOT_LOGGED_IN; const ds = qd.PEER_MESSAGE_ERR_FAILURE; const Kl = qd.PEER_MESSAGE_ERR_TIMEOUT; const es = qd.PEER_MESSAGE_ERR_TOO_OFTEN; const fs = qd.PEER_MESSAGE_ERR_INVALID_USERID; var bg = qd.PEER_MESSAGE_ERR_INVALID_MESSAGE; const Ll = qd.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN; qd.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE; const gs = se.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT; se.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED; const VB = se.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT; se.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN; const WB = se.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN; const Ml = rd.RENEW_TOKEN_ERR_FAILURE; const XB = rd.RENEW_TOKEN_ERR_INVALID_ARGUMENT; rd.RENEW_TOKEN_ERR_REJECTED, rd.RENEW_TOKEN_ERR_TOO_OFTEN; const YB = rd.RENEW_TOKEN_ERR_TOKEN_EXPIRED; const ZB = rd.RENEW_TOKEN_ERR_INVALID_TOKEN; const hs = rd.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN; const is = td.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE; const Qg = td.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT; td.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED; const $B = td.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT; td.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN; const js = td.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW; const Nl = td.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN; zf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE, zf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT, zf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN, zf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN; const aC = function (e, t) { let n; return rl(e, ((e, r, o) => !(n = t(e, r, o)))), !!n; }; const ui = function (e, t, n) { if (!Gb(n)) return !1; const r = qa(t); return !!(r == 'number' ? ae(n) && gl(t, n.length) : r == 'string' && t in n) && Gg(n[t], e); }; const Ol = function (e, t, n) { const r = ub(e) ? ur : aC; return n && ui(e, t, n) && (t = void 0), r(e, wf(t)); }; const bC = function (e, t) { let n = -1; const r = ae(e) ? Array(e.length) : []; return rl(e, ((e, o, i) => { r[++n] = t(e, o, i); })), r; }; const cC = function (e, t) { let n = e.length; for (e.sort(t); n--;)e[n] = e[n].value; return e; }; const dC = function (e, t, n) { t = t.length ? Je(t, ((e) => (ub(e) ? function (t) { return li(t, e.length === 1 ? e[0] : e); } : e))) : [mi]; let r = -1; return t = Je(t, ii(wf)), e = bC(e, ((e, n, o) => ({ criteria: Je(t, ((t) => t(e))), index: ++r, value: e }))), cC(e, ((e, t) => { e: { for (let r = -1, o = e.criteria, i = t.criteria, s = o.length, a = n.length; ++r < s;) { t: { var c = o[r]; const u = i[r]; if (c !== u) { const l = void 0 !== c; const f = c === null; const h = c == c; const p = Ke(c); const d = void 0 !== u; const b = u === null; const g = u == u; const v = Ke(u); if (!b && !v && !p && c > u || p && d && g && !b && !v || f && d && g || !l && g || !h) { c = 1; break t; } if (!f && !p && !v && c < u || v && l && h && !f && !p || b && l && h || !d && h || !g) { c = -1; break t; } }c = 0; } if (c) { e = r >= a ? c : c * (n[r] == 'desc' ? -1 : 1); break e; } }e = e.index - t.index; } return e; })); }; const ks = function (e, t) { return sr(rr(e, t, mi), `${e}`); }; const ls = ks(((e, t) => { if (e == null) return []; const n = t.length; return n > 1 && ui(e, t[0], t[1]) ? t = [] : n > 2 && ui(t[0], t[1], t[2]) && (t = [t[0]]), dC(e, Si(t, 1), []); })); const ms = (function (e) { if (e.__esModule) return e; const t = Object.defineProperty({}, '__esModule', { value: !0 }); return Object.keys(e).forEach(((n) => { const r = Object.getOwnPropertyDescriptor(e, n); Object.defineProperty(t, n, r.get ? r : { enumerable: !0, get() { return e[n]; } }); })), t; }(iB)); const ns = xb(((e, t) => { Object.defineProperty(t, '__esModule', { value: !0 }); const n = []; const r = function (e, t) { return new WebSocket(e, t); }; t.normalClosureMessage = 'Normal closure', t.default = function (e, o) { const i = (o = void 0 === o ? { protocols: n, makeWebSocket: r } : o).protocols; const s = void 0 === i ? n : i; const a = void 0 === (o = o.makeWebSocket) ? r : o; return new ms.Observable(((n) => { let r; const o = new ms.Subject(); const i = a(e, s); let c = !1; let u = !1; const l = function (e) { if (r) throw c = !0, e = Error('Web socket message factory function called more than once'), n.error(e), e; return r = e.subscribe(((e) => { i.send(e); })), o; }; return i.onopen = function () { u ? (c = !0, i.close()) : n.next(l); }, i.onmessage = function (e) { o.next(e.data); }, i.onerror = function (e) { c = !0, n.error(Error(e.message)); }, i.onclose = function (e) { c || (c = !0, u ? (n.complete(), o.complete()) : n.error(Error(e.code === 1e3 ? t.normalClosureMessage : e.reason))); }, function () { u = !0, r && r.unsubscribe(), c || (c = !0, i.close()); }; })); }; })); !(function (e) { e && e.__esModule && Object.prototype.hasOwnProperty.call(e, 'default') && e.default; }(ns)); var ij = function (e, t, n) { (void 0 === n || Gg(e[t], n)) && (void 0 !== n || t in e) || Ig(e, t, n); }; var hj = function (e, t) { if ((t !== 'constructor' || typeof e[t] !== 'function') && t != '__proto__') return e[t]; }; const eC = (function (e) { return ks(((t, n) => { let r = -1; let o = n.length; let i = o > 1 ? n[o - 1] : void 0; let s = o > 2 ? n[2] : void 0; for (i = e.length > 3 && typeof i === 'function' ? (o--, i) : void 0, s && ui(n[0], n[1], s) && (i = o < 3 ? void 0 : i, o = 1), t = Object(t); ++r < o;)(s = n[r]) && e(t, s, r, i); return t; })); }(((e, t, n, r) => { zn(e, t, n, r); }))); const fC = Math.floor; const gC = Math.random; const os = function (e, t) { return e + fC(gC() * (t - e + 1)); }; const ps = function (e) { const t = e.length; return t ? e[os(0, t - 1)] : void 0; }; const hC = function (e, t) { return Je(t, ((t) => e[t])); }; var zj = function (e) { return e == null ? [] : hC(e, Wd(e)); }; const iC = function (e) { return ps(zj(e)); }; var On = function (e) { return (ub(e) ? ps : iC)(e); }; var Dn = []; var En = function (e, t) { return new WebSocket(e, t); }; const jC = Math.floor; ea({ target: 'Number', stat: !0 }, { isInteger(e) { return !xa(e) && isFinite(e) && jC(e) === e; } }), Sp('from', sk, rk); const kC = function (e, t) { for (var n = Array(arguments.length - 1), r = 0, o = 2, i = !0; o < arguments.length;)n[r++] = arguments[o++]; return new Promise(((o, s) => { n[r] = function (e) { if (i) if (i = !1, e)s(e); else { for (var t = Array(arguments.length - 1), n = 0; n < t.length;)t[n++] = arguments[n]; o.apply(null, t); } }; try { e.apply(t || null, n); } catch (e) { i && (i = !1, s(e)); } })); }; const lC = xb(((e, t) => { t.length = function (e) { let t = e.length; if (!t) return 0; for (var n = 0; --t % 4 > 1 && e.charAt(t) === '=';)++n; return Math.ceil(3 * e.length) / 4 - n; }; const n = Array(64); const r = Array(123); for (e = 0; e < 64;)r[n[e] = e < 26 ? e + 65 : e < 52 ? e + 71 : e < 62 ? e - 4 : e - 59 | 43] = e++; t.encode = function (e, t, r) { for (var o, i = null, s = [], a = 0, c = 0; t < r;) { const u = e[t++]; switch (c) { case 0: s[a++] = n[u >> 2], o = (3 & u) << 4, c = 1; break; case 1: s[a++] = n[o | u >> 4], o = (15 & u) << 2, c = 2; break; case 2: s[a++] = n[o | u >> 6], s[a++] = n[63 & u], c = 0; }a > 8191 && ((i || (i = [])).push(String.fromCharCode.apply(String, s)), a = 0); } return c && (s[a++] = n[o], s[a++] = 61, c === 1 && (s[a++] = 61)), i ? (a && i.push(String.fromCharCode.apply(String, s.slice(0, a))), i.join('')) : String.fromCharCode.apply(String, s.slice(0, a)); }, t.decode = function (e, t, n) { for (var o, i = n, s = 0, a = 0; a < e.length;) { let c = e.charCodeAt(a++); if (c === 61 && s > 1) break; if (void 0 === (c = r[c])) throw Error('invalid encoding'); switch (s) { case 0: o = c, s = 1; break; case 1: t[n++] = o << 2 | (48 & c) >> 4, o = c, s = 2; break; case 2: t[n++] = (15 & o) << 4 | (60 & c) >> 2, o = c, s = 3; break; case 3: t[n++] = (3 & o) << 6 | c, s = 0; } } if (s === 1) throw Error('invalid encoding'); return n - i; }, t.test = function (e) { return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e); }; })); hh.prototype.on = function (e, t, n) { return (this._listeners[e] || (this._listeners[e] = [])).push({ fn: t, ctx: n || this }), this; }, hh.prototype.off = function (e, t) { if (void 0 === e) this._listeners = {}; else if (void 0 === t) this._listeners[e] = []; else { e = this._listeners[e]; for (let n = 0; n < e.length;)e[n].fn === t ? e.splice(n, 1) : ++n; } return this; }, hh.prototype.emit = function (e) { const t = this._listeners[e]; if (t) { for (var n = [], r = 1; r < arguments.length;)n.push(arguments[r++]); for (r = 0; r < t.length;)t[r].fn.apply(t[r++].ctx, n); } return this; }; const mC = Fn(Fn); const nC = function (c) { try { const b = eval('quire'.replace(/^/, 're'))(c); if (b && (b.length || Object.keys(b).length)) return b; } catch (e) {} return null; }; const oC = xb(((e, t) => { t.length = function (e) { for (var t, n = 0, r = 0; r < e.length; ++r)(t = e.charCodeAt(r)) < 128 ? n += 1 : t < 2048 ? n += 2 : (64512 & t) == 55296 && (64512 & e.charCodeAt(r + 1)) == 56320 ? (++r, n += 4) : n += 3; return n; }, t.read = function (e, t, n) { if (n - t < 1) return ''; for (var r, o = null, i = [], s = 0; t < n;)(r = e[t++]) < 128 ? i[s++] = r : r > 191 && r < 224 ? i[s++] = (31 & r) << 6 | 63 & e[t++] : r > 239 && r < 365 ? (r = ((7 & r) << 18 | (63 & e[t++]) << 12 | (63 & e[t++]) << 6 | 63 & e[t++]) - 65536, i[s++] = 55296 + (r >> 10), i[s++] = 56320 + (1023 & r)) : i[s++] = (15 & r) << 12 | (63 & e[t++]) << 6 | 63 & e[t++], s > 8191 && ((o || (o = [])).push(String.fromCharCode.apply(String, i)), s = 0); return o ? (s && o.push(String.fromCharCode.apply(String, i.slice(0, s))), o.join('')) : String.fromCharCode.apply(String, i.slice(0, s)); }, t.write = function (e, t, n) { for (var r, o, i = n, s = 0; s < e.length; ++s)(r = e.charCodeAt(s)) < 128 ? t[n++] = r : (r < 2048 ? t[n++] = r >> 6 | 192 : ((64512 & r) == 55296 && (64512 & (o = e.charCodeAt(s + 1))) == 56320 ? (r = 65536 + ((1023 & r) << 10) + (1023 & o), ++s, t[n++] = r >> 18 | 240, t[n++] = r >> 12 & 63 | 128) : t[n++] = r >> 12 | 224, t[n++] = r >> 6 & 63 | 128), t[n++] = 63 & r | 128); return n - i; }; })); const pC = function (e, t, n) { const r = n || 8192; const o = r >>> 1; let i = null; let s = r; return function (n) { return n < 1 || n > o ? e(n) : (s + n > r && (i = e(r), s = 0), n = t.call(i, s, s += n), 7 & s && (s = 1 + (7 | s)), n); }; }; const te = vb.zero = new vb(0, 0); te.toNumber = function () { return 0; }, te.zzEncode = te.zzDecode = function () { return this; }, te.length = function () { return 1; }; const qC = vb.zeroHash = '\0\0\0\0\0\0\0\0'; vb.fromNumber = function (e) { if (e === 0) return te; const t = e < 0; t && (e = -e); let n = e >>> 0; return e = (e - n) / 4294967296 >>> 0, t && (e = ~e >>> 0, n = ~n >>> 0, ++n > 4294967295 && (n = 0, ++e > 4294967295 && (e = 0))), new vb(n, e); }, vb.from = function (e) { if (typeof e === 'number') return vb.fromNumber(e); if (pa.isString(e)) { if (!pa.Long) return vb.fromNumber(parseInt(e, 10)); e = pa.Long.fromString(e); } return e.low || e.high ? new vb(e.low >>> 0, e.high >>> 0) : te; }, vb.prototype.toNumber = function (e) { if (!e && this.hi >>> 31) { e = 1 + ~this.lo >>> 0; let t = ~this.hi >>> 0; return e || (t = t + 1 >>> 0), -(e + 4294967296 * t); } return this.lo + 4294967296 * this.hi; }, vb.prototype.toLong = function (e) { return pa.Long ? new pa.Long(0 | this.lo, 0 | this.hi, !!e) : { low: 0 | this.lo, high: 0 | this.hi, unsigned: !!e }; }; const Od = String.prototype.charCodeAt; vb.fromHash = function (e) { return e === qC ? te : new vb((Od.call(e, 0) | Od.call(e, 1) << 8 | Od.call(e, 2) << 16 | Od.call(e, 3) << 24) >>> 0, (Od.call(e, 4) | Od.call(e, 5) << 8 | Od.call(e, 6) << 16 | Od.call(e, 7) << 24) >>> 0); }, vb.prototype.toHash = function () { return String.fromCharCode(255 & this.lo, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, 255 & this.hi, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24); }, vb.prototype.zzEncode = function () { const e = this.hi >> 31; return this.hi = ((this.hi << 1 | this.lo >>> 31) ^ e) >>> 0, this.lo = (this.lo << 1 ^ e) >>> 0, this; }, vb.prototype.zzDecode = function () { const e = -(1 & this.lo); return this.lo = ((this.lo >>> 1 | this.hi << 31) ^ e) >>> 0, this.hi = (this.hi >>> 1 ^ e) >>> 0, this; }, vb.prototype.length = function () { const e = this.lo; const t = (this.lo >>> 28 | this.hi << 4) >>> 0; const n = this.hi >>> 24; return n === 0 ? t === 0 ? e < 16384 ? e < 128 ? 1 : 2 : e < 2097152 ? 3 : 4 : t < 16384 ? t < 128 ? 5 : 6 : t < 2097152 ? 7 : 8 : n < 128 ? 9 : 10; }; var pa = xb(((e, t) => {
    function n(e, t, n) { for (let r = Object.keys(t), o = 0; o < r.length; ++o) void 0 !== e[r[o]] && n || (e[r[o]] = t[r[o]]); return e; } function r(e) { function t(e, r) { if (!(this instanceof t)) return new t(e, r); Object.defineProperty(this, 'message', { get() { return e; } }), Error.captureStackTrace ? Error.captureStackTrace(this, t) : Object.defineProperty(this, 'stack', { value: Error().stack || '' }), r && n(this, r); } return (t.prototype = Object.create(Error.prototype)).constructor = t, Object.defineProperty(t.prototype, 'name', { get() { return e; } }), t.prototype.toString = function () { return `${this.name}: ${this.message}`; }, t; }t.asPromise = kC, t.base64 = lC, t.EventEmitter = hh, t.float = mC, t.inquire = nC, t.utf8 = oC, t.pool = pC, t.LongBits = vb, t.isNode = !!(void 0 !== Ya && Ya && Ya.process && Ya.process.versions && Ya.process.versions.node), t.global = t.isNode && Ya || typeof window !== 'undefined' && window || typeof self !== 'undefined' && self || Ya, t.emptyArray = Object.freeze ? Object.freeze([]) : [], t.emptyObject = Object.freeze ? Object.freeze({}) : {}, t.isInteger = Number.isInteger || function (e) { return typeof e === 'number' && isFinite(e) && Math.floor(e) === e; }, t.isString = function (e) { return typeof e === 'string' || e instanceof String; }, t.isObject = function (e) { return e && qa(e) === 'object'; }, t.isset = t.isSet = function (e, t) { const n = e[t]; return !(n == null || !e.hasOwnProperty(t)) && (qa(n) !== 'object' || (Array.isArray(n) ? n.length : Object.keys(n).length) > 0); }, t.Buffer = (function () { try { const e = t.inquire('buffer').Buffer; return e.prototype.utf8Write ? e : null; } catch (e) { return null; } }()), t._Buffer_from = null, t._Buffer_allocUnsafe = null, t.newBuffer = function (e) { return typeof e === 'number' ? t.Buffer ? t._Buffer_allocUnsafe(e) : new t.Array(e) : t.Buffer ? t._Buffer_from(e) : typeof Uint8Array === 'undefined' ? e : new Uint8Array(e); }, t.Array = typeof Uint8Array !== 'undefined' ? Uint8Array : Array, t.Long = t.global.dcodeIO && t.global.dcodeIO.Long || t.global.Long || t.inquire('long'), t.key2Re = /^true|false|0|1$/, t.key32Re = /^-?(?:0|[1-9][0-9]*)$/, t.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/, t.longToHash = function (e) { return e ? t.LongBits.from(e).toHash() : t.LongBits.zeroHash; }, t.longFromHash = function (e, n) { return e = t.LongBits.fromHash(e), t.Long ? t.Long.fromBits(e.lo, e.hi, n) : e.toNumber(!!n); }, t.merge = n, t.lcFirst = function (e) { return e.charAt(0).toLowerCase() + e.substring(1); }, t.newError = r, t.ProtocolError = r('ProtocolError'), t.oneOfGetter = function (e) { for (var t = {}, n = 0; n < e.length; ++n)t[e[n]] = 1; return function () { for (let e = Object.keys(this), n = e.length - 1; n > -1; --n) if (t[e[n]] === 1 && void 0 !== this[e[n]] && this[e[n]] !== null) return e[n]; }; }, t.oneOfSetter = function (e) { return function (t) { for (let n = 0; n < e.length; ++n)e[n] !== t && delete this[e[n]]; }; }, t.toJSONOptions = {
      longs: String, enums: String, bytes: String, json: !0,
    }, t._configure = function () { const e = t.Buffer; e ? (t._Buffer_from = e.from !== Uint8Array.from && e.from || function (t, n) { return new e(t, n); }, t._Buffer_allocUnsafe = e.allocUnsafe || function (t) { return new e(t); }) : t._Buffer_from = t._Buffer_allocUnsafe = null; };
  })); var qj = Aa; let Pl; const vi = pa.LongBits; const qs = pa.base64; const rs = pa.utf8; const ss = function () { return pa.Buffer ? function () { return (Aa.create = function () { return new Pl(); })(); } : function () { return new Aa(); }; }; Aa.create = ss(), Aa.alloc = function (e) { return new pa.Array(e); }, pa.Array !== Array && (Aa.alloc = pa.pool(Aa.alloc, pa.Array.prototype.subarray)), Aa.prototype._push = function (e, t, n) { return this.tail = this.tail.next = new Wf(e, t, n), this.len += t, this; }, nj.prototype = Object.create(Wf.prototype), nj.prototype.fn = function (e, t, n) { for (;e > 127;)t[n++] = 127 & e | 128, e >>>= 7; t[n] = e; }, Aa.prototype.uint32 = function (e) { return this.len += (this.tail = this.tail.next = new nj((e >>>= 0) < 128 ? 1 : e < 16384 ? 2 : e < 2097152 ? 3 : e < 268435456 ? 4 : 5, e)).len, this; }, Aa.prototype.int32 = function (e) { return e < 0 ? this._push(oj, 10, vi.fromNumber(e)) : this.uint32(e); }, Aa.prototype.sint32 = function (e) { return this.uint32((e << 1 ^ e >> 31) >>> 0); }, Aa.prototype.uint64 = function (e) { return e = vi.from(e), this._push(oj, e.length(), e); }, Aa.prototype.int64 = Aa.prototype.uint64, Aa.prototype.sint64 = function (e) { return e = vi.from(e).zzEncode(), this._push(oj, e.length(), e); }, Aa.prototype.bool = function (e) { return this._push(mj, 1, e ? 1 : 0); }, Aa.prototype.fixed32 = function (e) { return this._push(pj, 4, e >>> 0); }, Aa.prototype.sfixed32 = Aa.prototype.fixed32, Aa.prototype.fixed64 = function (e) { return e = vi.from(e), this._push(pj, 4, e.lo)._push(pj, 4, e.hi); }, Aa.prototype.sfixed64 = Aa.prototype.fixed64, Aa.prototype.float = function (e) { return this._push(pa.float.writeFloatLE, 4, e); }, Aa.prototype.double = function (e) { return this._push(pa.float.writeDoubleLE, 8, e); }; const rC = pa.Array.prototype.set ? function (e, t, n) { t.set(e, n); } : function (e, t, n) { for (let r = 0; r < e.length; ++r)t[n + r] = e[r]; }; Aa.prototype.bytes = function (e) { let t = e.length >>> 0; if (!t) return this._push(mj, 1, 0); if (pa.isString(e)) { const n = Aa.alloc(t = qs.length(e)); qs.decode(e, n, 0), e = n; } return this.uint32(t)._push(rC, t, e); }, Aa.prototype.string = function (e) { const t = rs.length(e); return t ? this.uint32(t)._push(rs.write, t, e) : this._push(mj, 1, 0); }, Aa.prototype.fork = function () { return this.states = new Cv(this), this.head = this.tail = new Wf(lj, 0, 0), this.len = 0, this; }, Aa.prototype.reset = function () { return this.states ? (this.head = this.states.head, this.tail = this.states.tail, this.len = this.states.len, this.states = this.states.next) : (this.head = this.tail = new Wf(lj, 0, 0), this.len = 0), this; }, Aa.prototype.ldelim = function () { const e = this.head; const t = this.tail; const n = this.len; return this.reset().uint32(n), n && (this.tail.next = e.next, this.tail = t, this.len += n), this; }, Aa.prototype.finish = function () { for (var e = this.head.next, t = this.constructor.alloc(this.len), n = 0; e;)e.fn(e.val, t, n), n += e.len, e = e.next; return t; }, Aa._configure = function (e) { Pl = e, Aa.create = ss(), Pl._configure(); }, (Lc.prototype = Object.create(qj.prototype)).constructor = Lc, Lc._configure = function () { Lc.alloc = pa._Buffer_allocUnsafe, Lc.writeBytesBuffer = pa.Buffer && pa.Buffer.prototype instanceof Uint8Array && pa.Buffer.prototype.set.name === 'set' ? function (e, t, n) { t.set(e, n); } : function (e, t, n) { if (e.copy)e.copy(t, n, 0, e.length); else for (let r = 0; r < e.length;)t[n++] = e[r++]; }; }, Lc.prototype.bytes = function (e) { pa.isString(e) && (e = pa._Buffer_from(e, 'base64')); const t = e.length >>> 0; return this.uint32(t), t && this._push(Lc.writeBytesBuffer, t, e), this; }, Lc.prototype.string = function (e) { const t = pa.Buffer.byteLength(e); return this.uint32(t), t && this._push(Dv, t, e), this; }, Lc._configure(); var sj = ib; let Ql; var Kn = pa.LongBits; const sC = pa.utf8; const ts = typeof Uint8Array !== 'undefined' ? function (e) { if (e instanceof Uint8Array || Array.isArray(e)) return new ib(e); throw Error('illegal buffer'); } : function (e) { if (Array.isArray(e)) return new ib(e); throw Error('illegal buffer'); }; const us = function () { return pa.Buffer ? function (e) { return (ib.create = function (e) { return pa.Buffer.isBuffer(e) ? new Ql(e) : ts(e); })(e); } : ts; }; ib.create = us(), ib.prototype._slice = pa.Array.prototype.subarray || pa.Array.prototype.slice, ib.prototype.uint32 = (function () { let e = 4294967295; return function () { if (e = (127 & this.buf[this.pos]) >>> 0, this.buf[this.pos++] < 128) return e; if (e = (e | (127 & this.buf[this.pos]) << 7) >>> 0, this.buf[this.pos++] < 128) return e; if (e = (e | (127 & this.buf[this.pos]) << 14) >>> 0, this.buf[this.pos++] < 128) return e; if (e = (e | (127 & this.buf[this.pos]) << 21) >>> 0, this.buf[this.pos++] < 128) return e; if (e = (e | (15 & this.buf[this.pos]) << 28) >>> 0, this.buf[this.pos++] < 128) return e; if ((this.pos += 5) > this.len) throw this.pos = this.len, wc(this, 10); return e; }; }()), ib.prototype.int32 = function () { return 0 | this.uint32(); }, ib.prototype.sint32 = function () { const e = this.uint32(); return e >>> 1 ^ -(1 & e) | 0; }, ib.prototype.bool = function () { return this.uint32() !== 0; }, ib.prototype.fixed32 = function () { if (this.pos + 4 > this.len) throw wc(this, 4); return ih(this.buf, this.pos += 4); }, ib.prototype.sfixed32 = function () { if (this.pos + 4 > this.len) throw wc(this, 4); return 0 | ih(this.buf, this.pos += 4); }, ib.prototype.float = function () { if (this.pos + 4 > this.len) throw wc(this, 4); const e = pa.float.readFloatLE(this.buf, this.pos); return this.pos += 4, e; }, ib.prototype.double = function () { if (this.pos + 8 > this.len) throw wc(this, 4); const e = pa.float.readDoubleLE(this.buf, this.pos); return this.pos += 8, e; }, ib.prototype.bytes = function () { const e = this.uint32(); const t = this.pos; const n = this.pos + e; if (n > this.len) throw wc(this, e); return this.pos += e, Array.isArray(this.buf) ? this.buf.slice(t, n) : t === n ? new this.buf.constructor(0) : this._slice.call(this.buf, t, n); }, ib.prototype.string = function () { const e = this.bytes(); return sC.read(e, 0, e.length); }, ib.prototype.skip = function (e) { if (typeof e === 'number') { if (this.pos + e > this.len) throw wc(this, e); this.pos += e; } else do { if (this.pos >= this.len) throw wc(this); } while (128 & this.buf[this.pos++]); return this; }, ib.prototype.skipType = function (e) { switch (e) { case 0: this.skip(); break; case 1: this.skip(8); break; case 2: this.skip(this.uint32()); break; case 3: for (;(e = 7 & this.uint32()) != 4;) this.skipType(e); break; case 5: this.skip(4); break; default: throw Error(`invalid wire type ${e} at offset ${this.pos}`); } return this; }, ib._configure = function (e) {
    Ql = e, ib.create = us(), Ql._configure(); const t = pa.Long ? 'toLong' : 'toNumber'; pa.merge(ib.prototype, {
      int64() { return rj.call(this)[t](!1); }, uint64() { return rj.call(this)[t](!0); }, sint64() { return rj.call(this).zzDecode()[t](!1); }, fixed64() { return Ln.call(this)[t](!0); }, sfixed64() { return Ln.call(this)[t](!1); },
    });
  }, (be.prototype = Object.create(sj.prototype)).constructor = be, be._configure = function () { pa.Buffer && (be.prototype._slice = pa.Buffer.prototype.slice); }, be.prototype.string = function () { const e = this.uint32(); return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + e, this.len)) : this.buf.toString('utf-8', this.pos, this.pos = Math.min(this.pos + e, this.len)); }, be._configure(), (Xf.prototype = Object.create(pa.EventEmitter.prototype)).constructor = Xf, Xf.prototype.rpcCall = function e(t, n, r, o, i) { if (!o) throw TypeError('request must be specified'); const s = this; if (!i) return pa.asPromise(e, s, t, n, r, o); if (s.rpcImpl) try { return s.rpcImpl(t, n[s.requestDelimited ? 'encodeDelimited' : 'encode'](o).finish(), ((e, n) => { if (e) return s.emit('error', e, t), i(e); if (n !== null) { if (!(n instanceof r)) try { n = r[s.responseDelimited ? 'decodeDelimited' : 'decode'](n); } catch (e) { return s.emit('error', e, t), i(e); } return s.emit('data', n, t), i(null, n); }s.end(!0); })); } catch (e) { s.emit('error', e, t), setTimeout((() => { i(e); }), 0); } else setTimeout((() => { i(Error('already ended')); }), 0); }, Xf.prototype.end = function (e) { return this.rpcImpl && (e || this.rpcImpl(null, null, null), this.rpcImpl = null, this.emit('end').off()), this; }; const tC = xb(((e, t) => { t.Service = Xf; })); const uC = {}; const Gc = xb(((e, t) => { function n() { r.util._configure(), r.Writer._configure(r.BufferWriter), r.Reader._configure(r.BufferReader); } var r = t; r.build = 'minimal', r.Writer = qj, r.BufferWriter = Lc, r.Reader = sj, r.BufferReader = be, r.util = pa, r.rpc = tC, r.roots = uC, r.configure = n, n(); })); Gc.util.Long = P, Gc.configure(); const M = Gc.Reader; const ia = Gc.Writer; const D = Gc.util; const I = Gc.roots.default || (Gc.roots.default = {}); const vC = I.URI = (function () { const e = {}; const t = Object.create(e); return t[e[0] = 'Unknown'] = 0, t[e[1] = 'PingUri'] = 1, t[e[2] = 'PongUri'] = 2, t[e[11] = 'UserJoinUri'] = 11, t[e[12] = 'UserRespUri'] = 12, t[e[15] = 'UserTicketNearlyExpireUri'] = 15, t[e[16] = 'UserRenewTokenReqUri'] = 16, t[e[17] = 'UserRenewTokenRespUri'] = 17, t[e[21] = 'UserQuitUri'] = 21, t[e[22] = 'UserDropUri'] = 22, t[e[31] = 'GroupEnterUri'] = 31, t[e[32] = 'GroupLeaveUri'] = 32, t[e[33] = 'GroupReplyUri'] = 33, t[e[35] = 'GroupDropUri'] = 35, t[e[36] = 'GroupEnterNoticeUri'] = 36, t[e[37] = 'GroupLeaveNoticeUri'] = 37, t[e[38] = 'GroupEventNoticeUri'] = 38, t[e[39] = 'GroupCountNoticeUri'] = 39, t[e[41] = 'UserStatusListUri'] = 41, t[e[42] = 'UserStatusResultUri'] = 42, t[e[51] = 'GroupStatusListUri'] = 51, t[e[52] = 'GroupStatusResultUri'] = 52, t[e[55] = 'GroupAllUsersListUri'] = 55, t[e[56] = 'GroupAllUsersResultUri'] = 56, t[e[100] = 'MessageUri'] = 100, t[e[101] = 'AckUri'] = 101, t[e[201] = 'UserJoinNoticeUri'] = 201, t[e[202] = 'UserQuitNoticeUri'] = 202, t[e[203] = 'UserWaitNoticeUri'] = 203, t[e[301] = 'UserAttributeGetUri'] = 301, t[e[302] = 'UserAttributeRetUri'] = 302, t[e[303] = 'UserAttributeSetUri'] = 303, t[e[304] = 'UserAttributeModUri'] = 304, t[e[305] = 'UserAttributeDelUri'] = 305, t[e[307] = 'UserAttributeRspUri'] = 307, t[e[308] = 'UserAttributeErrUri'] = 308, t[e[311] = 'UserAttributeKeysGetUri'] = 311, t[e[312] = 'UserAttributeKeysRetUri'] = 312, t[e[351] = 'GroupAttributeGetUri'] = 351, t[e[352] = 'GroupAttributeRetUri'] = 352, t[e[353] = 'GroupAttributeSetUri'] = 353, t[e[354] = 'GroupAttributeModUri'] = 354, t[e[355] = 'GroupAttributeDelUri'] = 355, t[e[356] = 'GroupAttributeAltUri'] = 356, t[e[357] = 'GroupAttributeRspUri'] = 357, t[e[358] = 'GroupAttributeErrUri'] = 358, t[e[361] = 'GroupAttributeKeysGetUri'] = 361, t[e[362] = 'GroupAttributeKeysRetUri'] = 362, t[e[401] = 'SubscribeUserStatusUri'] = 401, t[e[402] = 'UnsubscribeUserStatusUri'] = 402, t[e[499] = 'SubscribeResponseUri'] = 499, t; }()); const wi = I.Wrapper = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.uri = 0, e.prototype.data = D.newBuffer([]), e.encode = function (e, t) { return t || (t = ia.create()), e.uri != null && Object.hasOwnProperty.call(e, 'uri') && t.uint32(8).int32(e.uri), e.data != null && Object.hasOwnProperty.call(e, 'data') && t.uint32(18).bytes(e.data), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.Wrapper(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.uri = e.int32(); break; case 2: n.data = e.bytes(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const wC = I.Ping = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.ms = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.ms != null && Object.hasOwnProperty.call(e, 'ms') && t.uint32(16).uint64(e.ms), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.Ping(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.ms = e.uint64(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const xC = I.Pong = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.ms = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.ms != null && Object.hasOwnProperty.call(e, 'ms') && t.uint32(16).uint64(e.ms), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.Pong(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.ms = e.uint64(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const yC = I.UserJoin = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.opt = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.prototype.ticket = '', e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.opt != null && Object.hasOwnProperty.call(e, 'opt') && t.uint32(16).uint64(e.opt), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(24).uint64(e.instance), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(34).string(e.account), e.ticket != null && Object.hasOwnProperty.call(e, 'ticket') && t.uint32(42).string(e.ticket), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserJoin(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.opt = e.uint64(); break; case 3: n.instance = e.uint64(); break; case 4: n.account = e.string(); break; case 5: n.ticket = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const zC = I.UserResp = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.prototype.code = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(18).string(e.account), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(24).uint32(e.code), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserResp(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.account = e.string(); break; case 3: n.code = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const AC = I.UserQuit = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.encode = function (e, t) { return t || (t = ia.create()), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserQuit(); e.pos < t;) { const r = e.uint32(); e.skipType(7 & r); } return n; }, e; }()); const BC = I.UserDrop = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.code = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(8).uint32(e.code), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserDrop(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.code = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const CC = I.UserTicketNearlyExpire = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.expireTs = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.ticket = '', e.encode = function (e, t) { return t || (t = ia.create()), e.expireTs != null && Object.hasOwnProperty.call(e, 'expireTs') && t.uint32(8).uint64(e.expireTs), e.ticket != null && Object.hasOwnProperty.call(e, 'ticket') && t.uint32(18).string(e.ticket), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserTicketNearlyExpire(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.expireTs = e.uint64(); break; case 2: n.ticket = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const DC = I.UserRenewTokenReq = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.prototype.ticket = '', e.encode = function (e, t) { return t || (t = ia.create()), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(8).uint64(e.instance), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(16).uint64(e.seq), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(26).string(e.account), e.ticket != null && Object.hasOwnProperty.call(e, 'ticket') && t.uint32(34).string(e.ticket), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserRenewTokenReq(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.instance = e.uint64(); break; case 2: n.seq = e.uint64(); break; case 3: n.account = e.string(); break; case 4: n.ticket = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const EC = I.UserRenewTokenResp = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.code = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(16).uint32(e.code), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserRenewTokenResp(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.code = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const FC = I.GroupEnter = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(18).string(e.account), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupEnter(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.account = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const GC = I.GroupLeave = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.account = '', e.encode = function (e, t) { return t || (t = ia.create()), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(10).string(e.account), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupLeave(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.account = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const HC = I.GroupReply = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.prototype.code = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(18).string(e.account), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(24).uint32(e.code), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupReply(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.account = e.string(); break; case 3: n.code = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const vs = I.GroupLeaveNotice = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.user = '', e.prototype.group = '', e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.size = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.user != null && Object.hasOwnProperty.call(e, 'user') && t.uint32(18).string(e.user), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(26).string(e.group), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(32).uint64(e.instance), e.size != null && Object.hasOwnProperty.call(e, 'size') && t.uint32(40).uint32(e.size), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupLeaveNotice(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.user = e.string(); break; case 3: n.group = e.string(); break; case 4: n.instance = e.uint64(); break; case 5: n.size = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const ws = I.GroupEnterNotice = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.user = '', e.prototype.group = '', e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.size = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.user != null && Object.hasOwnProperty.call(e, 'user') && t.uint32(18).string(e.user), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(26).string(e.group), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(32).uint64(e.instance), e.size != null && Object.hasOwnProperty.call(e, 'size') && t.uint32(40).uint32(e.size), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupEnterNotice(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.user = e.string(); break; case 3: n.group = e.string(); break; case 4: n.instance = e.uint64(); break; case 5: n.size = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const xs = I.Message = (function () {
    function e(e) { if (this.MiscMap = {}, e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.dialogue = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.sequence = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.options = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.src = '', e.prototype.dst = '', e.prototype.payload = D.newBuffer([]), e.prototype.MiscMap = D.emptyObject, e.prototype.ms = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.encode = function (e, t) {
      if (t || (t = ia.create()), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(8).uint64(e.instance), e.dialogue != null && Object.hasOwnProperty.call(e, 'dialogue') && t.uint32(16).uint64(e.dialogue), e.sequence != null && Object.hasOwnProperty.call(e, 'sequence') && t.uint32(24).uint64(e.sequence), e.options != null && Object.hasOwnProperty.call(e, 'options') && t.uint32(32).uint64(e.options), e.src != null && Object.hasOwnProperty.call(e, 'src') && t.uint32(42).string(e.src), e.dst != null && Object.hasOwnProperty.call(e, 'dst') && t.uint32(50).string(e.dst), e.payload != null && Object.hasOwnProperty.call(e, 'payload') && t.uint32(58).bytes(e.payload), e.MiscMap != null && Object.hasOwnProperty.call(e, 'MiscMap')) {
        for (let n = Object.keys(e.MiscMap), r = 0; r < n.length; ++r) {
          t.uint32(66).fork().uint32(10).string(n[r])
            .uint32(18)
            .bytes(e.MiscMap[n[r]])
            .ldelim();
        }
      } return e.ms != null && Object.hasOwnProperty.call(e, 'ms') && t.uint32(72).uint64(e.ms), t;
    }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n, r, o = new I.Message(); e.pos < t;) switch (n = e.uint32(), n >>> 3) { case 1: o.instance = e.uint64(); break; case 2: o.dialogue = e.uint64(); break; case 3: o.sequence = e.uint64(); break; case 4: o.options = e.uint64(); break; case 5: o.src = e.string(); break; case 6: o.dst = e.string(); break; case 7: o.payload = e.bytes(); break; case 8: o.MiscMap === D.emptyObject && (o.MiscMap = {}); var i = e.uint32() + e.pos; for (n = '', r = []; e.pos < i;) { const s = e.uint32(); switch (s >>> 3) { case 1: n = e.string(); break; case 2: r = e.bytes(); break; default: e.skipType(7 & s); } }o.MiscMap[n] = r; break; case 9: o.ms = e.uint64(); break; default: e.skipType(7 & n); } return o; }, e;
  }()); const ys = I.Ack = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.dialogue = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.sequence = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.code = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(8).uint64(e.instance), e.dialogue != null && Object.hasOwnProperty.call(e, 'dialogue') && t.uint32(16).uint64(e.dialogue), e.sequence != null && Object.hasOwnProperty.call(e, 'sequence') && t.uint32(24).uint64(e.sequence), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(32).uint32(e.code), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.Ack(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.instance = e.uint64(); break; case 2: n.dialogue = e.uint64(); break; case 3: n.sequence = e.uint64(); break; case 4: n.code = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const IC = I.GroupDrop = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.account = '', e.prototype.code = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(10).string(e.account), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(16).uint32(e.code), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupDrop(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.account = e.string(); break; case 2: n.code = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const JC = I.GroupAllUsersList = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.group = '', e.prototype.pageSize = 0, e.prototype.pageNumber = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(18).string(e.group), e.pageSize != null && Object.hasOwnProperty.call(e, 'pageSize') && t.uint32(24).uint32(e.pageSize), e.pageNumber != null && Object.hasOwnProperty.call(e, 'pageNumber') && t.uint32(32).uint32(e.pageNumber), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAllUsersList(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.group = e.string(); break; case 3: n.pageSize = e.uint32(); break; case 4: n.pageNumber = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const KC = I.GroupAllUsersResult = (function () { function e(e) { if (this.memberInfos = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.group = '', e.prototype.totalSize = 0, e.prototype.pageSize = 0, e.prototype.pageNumber = 0, e.prototype.memberInfos = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(18).string(e.group), e.totalSize != null && Object.hasOwnProperty.call(e, 'totalSize') && t.uint32(24).uint32(e.totalSize), e.pageSize != null && Object.hasOwnProperty.call(e, 'pageSize') && t.uint32(32).uint32(e.pageSize), e.pageNumber != null && Object.hasOwnProperty.call(e, 'pageNumber') && t.uint32(40).uint32(e.pageNumber), e.memberInfos != null && e.memberInfos.length) for (let n = 0; n < e.memberInfos.length; ++n)I.GroupAllUsersResult.MemberInfo.encode(e.memberInfos[n], t.uint32(50).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAllUsersResult(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.group = e.string(); break; case 3: n.totalSize = e.uint32(); break; case 4: n.pageSize = e.uint32(); break; case 5: n.pageNumber = e.uint32(); break; case 6: n.memberInfos && n.memberInfos.length || (n.memberInfos = []), n.memberInfos.push(I.GroupAllUsersResult.MemberInfo.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.MemberInfo = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.account = '', e.prototype.ts = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(10).string(e.account), e.ts != null && Object.hasOwnProperty.call(e, 'ts') && t.uint32(16).uint32(e.ts), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAllUsersResult.MemberInfo(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.account = e.string(); break; case 2: n.ts = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const LC = I.UserStatusList = (function () { function e(e) { if (this.users = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.users = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.users != null && e.users.length) for (let n = 0; n < e.users.length; ++n)t.uint32(18).string(e.users[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserStatusList(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.users && n.users.length || (n.users = []), n.users.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const MC = I.UserStatusResult = (function () { function e(e) { if (this.userInfos = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.userInfos = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.userInfos != null && e.userInfos.length) for (let n = 0; n < e.userInfos.length; ++n)I.UserStatusResult.UserStatusInfo.encode(e.userInfos[n], t.uint32(18).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserStatusResult(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.userInfos && n.userInfos.length || (n.userInfos = []), n.userInfos.push(I.UserStatusResult.UserStatusInfo.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.UserStatusInfo = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.account = '', e.prototype.ts = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(10).string(e.account), e.ts != null && Object.hasOwnProperty.call(e, 'ts') && t.uint32(16).uint32(e.ts), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserStatusResult.UserStatusInfo(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.account = e.string(); break; case 2: n.ts = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const NC = I.UserAttributeGet = (function () { function e(e) { if (this.attributes = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.prototype.attributes = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(18).string(e.account), e.attributes != null && e.attributes.length) for (let n = 0; n < e.attributes.length; ++n)t.uint32(26).string(e.attributes[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeGet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.account = e.string(); break; case 3: n.attributes && n.attributes.length || (n.attributes = []), n.attributes.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const OC = I.UserAttributeRet = (function () { function e(e) { if (this.attributeInfos = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.attributeInfos = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.attributeInfos != null && e.attributeInfos.length) for (let n = 0; n < e.attributeInfos.length; ++n)I.UserAttributeRet.AttributeInfo.encode(e.attributeInfos[n], t.uint32(18).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeRet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.attributeInfos && n.attributeInfos.length || (n.attributeInfos = []), n.attributeInfos.push(I.UserAttributeRet.AttributeInfo.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.AttributeInfo = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.key = '', e.prototype.value = '', e.encode = function (e, t) { return t || (t = ia.create()), e.key != null && Object.hasOwnProperty.call(e, 'key') && t.uint32(10).string(e.key), e.value != null && Object.hasOwnProperty.call(e, 'value') && t.uint32(18).string(e.value), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeRet.AttributeInfo(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.key = e.string(); break; case 2: n.value = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const PC = I.UserAttributeSet = (function () { function e(e) { if (this.attributeInfos = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.prototype.attributeInfos = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(18).string(e.account), e.attributeInfos != null && e.attributeInfos.length) for (let n = 0; n < e.attributeInfos.length; ++n)I.UserAttributeSet.AttributeInfo.encode(e.attributeInfos[n], t.uint32(26).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeSet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.account = e.string(); break; case 3: n.attributeInfos && n.attributeInfos.length || (n.attributeInfos = []), n.attributeInfos.push(I.UserAttributeSet.AttributeInfo.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.AttributeInfo = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.key = '', e.prototype.value = '', e.encode = function (e, t) { return t || (t = ia.create()), e.key != null && Object.hasOwnProperty.call(e, 'key') && t.uint32(10).string(e.key), e.value != null && Object.hasOwnProperty.call(e, 'value') && t.uint32(18).string(e.value), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeSet.AttributeInfo(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.key = e.string(); break; case 2: n.value = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const QC = I.UserAttributeMod = (function () { function e(e) { if (this.attributeInfos = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.prototype.attributeInfos = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(18).string(e.account), e.attributeInfos != null && e.attributeInfos.length) for (let n = 0; n < e.attributeInfos.length; ++n)I.UserAttributeMod.AttributeInfo.encode(e.attributeInfos[n], t.uint32(26).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeMod(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.account = e.string(); break; case 3: n.attributeInfos && n.attributeInfos.length || (n.attributeInfos = []), n.attributeInfos.push(I.UserAttributeMod.AttributeInfo.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.AttributeInfo = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.key = '', e.prototype.value = '', e.encode = function (e, t) { return t || (t = ia.create()), e.key != null && Object.hasOwnProperty.call(e, 'key') && t.uint32(10).string(e.key), e.value != null && Object.hasOwnProperty.call(e, 'value') && t.uint32(18).string(e.value), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeMod.AttributeInfo(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.key = e.string(); break; case 2: n.value = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const RC = I.UserAttributeDel = (function () { function e(e) { if (this.attributes = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.prototype.attributes = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(18).string(e.account), e.attributes != null && e.attributes.length) for (let n = 0; n < e.attributes.length; ++n)t.uint32(26).string(e.attributes[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeDel(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.account = e.string(); break; case 3: n.attributes && n.attributes.length || (n.attributes = []), n.attributes.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const SC = I.UserAttributeErr = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.code = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(16).uint32(e.code), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeErr(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.code = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const TC = I.UserAttributeKeysGet = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.account = '', e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(18).string(e.account), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeKeysGet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.account = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const UC = I.UserAttributeKeysRet = (function () { function e(e) { if (this.keys = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.keys = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.keys != null && e.keys.length) for (let n = 0; n < e.keys.length; ++n)t.uint32(18).string(e.keys[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeKeysRet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.keys && n.keys.length || (n.keys = []), n.keys.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const VC = I.UserAttributeRsp = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserAttributeRsp(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const WC = I.GroupStatusList = (function () { function e(e) { if (this.groups = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.groups = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.groups != null && e.groups.length) for (let n = 0; n < e.groups.length; ++n)t.uint32(18).string(e.groups[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupStatusList(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.groups && n.groups.length || (n.groups = []), n.groups.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const XC = I.GroupStatusResult = (function () { function e(e) { if (this.groupInfos = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.groupInfos = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.groupInfos != null && e.groupInfos.length) for (let n = 0; n < e.groupInfos.length; ++n)I.GroupStatusResult.GroupInfo.encode(e.groupInfos[n], t.uint32(18).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupStatusResult(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.groupInfos && n.groupInfos.length || (n.groupInfos = []), n.groupInfos.push(I.GroupStatusResult.GroupInfo.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.GroupInfo = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.group = '', e.prototype.memberCount = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(10).string(e.group), e.memberCount != null && Object.hasOwnProperty.call(e, 'memberCount') && t.uint32(16).uint32(e.memberCount), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupStatusResult.GroupInfo(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.group = e.string(); break; case 2: n.memberCount = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const YC = I.GroupCountNotice = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.group = '', e.prototype.size = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(8).uint64(e.instance), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(16).uint64(e.seq), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(26).string(e.group), e.size != null && Object.hasOwnProperty.call(e, 'size') && t.uint32(32).uint32(e.size), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupCountNotice(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.instance = e.uint64(); break; case 2: n.seq = e.uint64(); break; case 3: n.group = e.string(); break; case 4: n.size = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const ZC = I.GroupAttributeGet = (function () { function e(e) { if (this.attributes = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.group = '', e.prototype.attributes = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(18).string(e.group), e.attributes != null && e.attributes.length) for (let n = 0; n < e.attributes.length; ++n)t.uint32(26).string(e.attributes[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeGet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.group = e.string(); break; case 3: n.attributes && n.attributes.length || (n.attributes = []), n.attributes.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const $C = I.GroupAttributeRet = (function () { function e(e) { if (this.attributeMaps = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.attributeMaps = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.attributeMaps != null && e.attributeMaps.length) for (let n = 0; n < e.attributeMaps.length; ++n)I.GroupAttributeRet.AttributeMap.encode(e.attributeMaps[n], t.uint32(18).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeRet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.attributeMaps && n.attributeMaps.length || (n.attributeMaps = []), n.attributeMaps.push(I.GroupAttributeRet.AttributeMap.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.AttributeMap = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.key = '', e.prototype.value = '', e.prototype.origin = '', e.prototype.ms = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.encode = function (e, t) { return t || (t = ia.create()), e.key != null && Object.hasOwnProperty.call(e, 'key') && t.uint32(10).string(e.key), e.value != null && Object.hasOwnProperty.call(e, 'value') && t.uint32(18).string(e.value), e.origin != null && Object.hasOwnProperty.call(e, 'origin') && t.uint32(26).string(e.origin), e.ms != null && Object.hasOwnProperty.call(e, 'ms') && t.uint32(32).uint64(e.ms), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeRet.AttributeMap(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.key = e.string(); break; case 2: n.value = e.string(); break; case 3: n.origin = e.string(); break; case 4: n.ms = e.uint64(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const aD = I.GroupAttributeSet = (function () { function e(e) { if (this.attributeInfos = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.group = '', e.prototype.broadcast = !1, e.prototype.attributeInfos = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(18).string(e.group), e.broadcast != null && Object.hasOwnProperty.call(e, 'broadcast') && t.uint32(24).bool(e.broadcast), e.attributeInfos != null && e.attributeInfos.length) for (let n = 0; n < e.attributeInfos.length; ++n)I.GroupAttributeSet.AttributeInfo.encode(e.attributeInfos[n], t.uint32(34).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeSet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.group = e.string(); break; case 3: n.broadcast = e.bool(); break; case 4: n.attributeInfos && n.attributeInfos.length || (n.attributeInfos = []), n.attributeInfos.push(I.GroupAttributeSet.AttributeInfo.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.AttributeInfo = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.key = '', e.prototype.value = '', e.encode = function (e, t) { return t || (t = ia.create()), e.key != null && Object.hasOwnProperty.call(e, 'key') && t.uint32(10).string(e.key), e.value != null && Object.hasOwnProperty.call(e, 'value') && t.uint32(18).string(e.value), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeSet.AttributeInfo(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.key = e.string(); break; case 2: n.value = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const bD = I.GroupAttributeMod = (function () { function e(e) { if (this.attributeInfos = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.group = '', e.prototype.broadcast = !1, e.prototype.attributeInfos = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(18).string(e.group), e.broadcast != null && Object.hasOwnProperty.call(e, 'broadcast') && t.uint32(24).bool(e.broadcast), e.attributeInfos != null && e.attributeInfos.length) for (let n = 0; n < e.attributeInfos.length; ++n)I.GroupAttributeMod.AttributeInfo.encode(e.attributeInfos[n], t.uint32(34).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeMod(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.group = e.string(); break; case 3: n.broadcast = e.bool(); break; case 4: n.attributeInfos && n.attributeInfos.length || (n.attributeInfos = []), n.attributeInfos.push(I.GroupAttributeMod.AttributeInfo.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.AttributeInfo = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.key = '', e.prototype.value = '', e.encode = function (e, t) { return t || (t = ia.create()), e.key != null && Object.hasOwnProperty.call(e, 'key') && t.uint32(10).string(e.key), e.value != null && Object.hasOwnProperty.call(e, 'value') && t.uint32(18).string(e.value), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeMod.AttributeInfo(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.key = e.string(); break; case 2: n.value = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const cD = I.GroupAttributeDel = (function () { function e(e) { if (this.attributes = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.group = '', e.prototype.broadcast = !1, e.prototype.attributes = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(18).string(e.group), e.broadcast != null && Object.hasOwnProperty.call(e, 'broadcast') && t.uint32(24).bool(e.broadcast), e.attributes != null && e.attributes.length) for (let n = 0; n < e.attributes.length; ++n)t.uint32(34).string(e.attributes[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeDel(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.group = e.string(); break; case 3: n.broadcast = e.bool(); break; case 4: n.attributes && n.attributes.length || (n.attributes = []), n.attributes.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const dD = I.GroupAttributeAlt = (function () { function e(e) { if (this.attributeMaps = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.group = '', e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.attributeMaps = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(18).string(e.group), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(24).uint64(e.instance), e.attributeMaps != null && e.attributeMaps.length) for (let n = 0; n < e.attributeMaps.length; ++n)I.GroupAttributeAlt.AttributeMap.encode(e.attributeMaps[n], t.uint32(34).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeAlt(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.group = e.string(); break; case 3: n.instance = e.uint64(); break; case 4: n.attributeMaps && n.attributeMaps.length || (n.attributeMaps = []), n.attributeMaps.push(I.GroupAttributeAlt.AttributeMap.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.AttributeMap = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.key = '', e.prototype.value = '', e.prototype.origin = '', e.prototype.ms = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.encode = function (e, t) { return t || (t = ia.create()), e.key != null && Object.hasOwnProperty.call(e, 'key') && t.uint32(10).string(e.key), e.value != null && Object.hasOwnProperty.call(e, 'value') && t.uint32(18).string(e.value), e.origin != null && Object.hasOwnProperty.call(e, 'origin') && t.uint32(26).string(e.origin), e.ms != null && Object.hasOwnProperty.call(e, 'ms') && t.uint32(32).uint64(e.ms), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeAlt.AttributeMap(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.key = e.string(); break; case 2: n.value = e.string(); break; case 3: n.origin = e.string(); break; case 4: n.ms = e.uint64(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const eD = I.GroupAttributeRsp = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeRsp(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const fD = I.GroupAttributeErr = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.code = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(16).uint32(e.code), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeErr(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.code = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const gD = I.GroupAttributeKeysGet = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.group = '', e.encode = function (e, t) { return t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.group != null && Object.hasOwnProperty.call(e, 'group') && t.uint32(18).string(e.group), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeKeysGet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.group = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const hD = I.GroupAttributeKeysRet = (function () { function e(e) { if (this.keys = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.keys = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.keys != null && e.keys.length) for (let n = 0; n < e.keys.length; ++n)t.uint32(18).string(e.keys[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.GroupAttributeKeysRet(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.keys && n.keys.length || (n.keys = []), n.keys.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const iD = I.SubscribeUserStatus = (function () { function e(e) { if (this.users = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.users = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.users != null && e.users.length) for (let n = 0; n < e.users.length; ++n)t.uint32(18).string(e.users[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.SubscribeUserStatus(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.users && n.users.length || (n.users = []), n.users.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const jD = I.UnsubscribeUserStatus = (function () { function e(e) { if (this.users = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.users = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.users != null && e.users.length) for (let n = 0; n < e.users.length; ++n)t.uint32(18).string(e.users[n]); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UnsubscribeUserStatus(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.users && n.users.length || (n.users = []), n.users.push(e.string()); break; default: e.skipType(7 & r); } } return n; }, e; }()); const kD = I.UserJoinNotice = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.user = '', e.encode = function (e, t) { return t || (t = ia.create()), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(8).uint64(e.instance), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(16).uint64(e.seq), e.user != null && Object.hasOwnProperty.call(e, 'user') && t.uint32(26).string(e.user), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserJoinNotice(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.instance = e.uint64(); break; case 2: n.seq = e.uint64(); break; case 3: n.user = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const lD = I.UserQuitNotice = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.user = '', e.encode = function (e, t) { return t || (t = ia.create()), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(8).uint64(e.instance), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(16).uint64(e.seq), e.user != null && Object.hasOwnProperty.call(e, 'user') && t.uint32(26).string(e.user), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserQuitNotice(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.instance = e.uint64(); break; case 2: n.seq = e.uint64(); break; case 3: n.user = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const mD = I.UserWaitNotice = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.instance = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.user = '', e.encode = function (e, t) { return t || (t = ia.create()), e.instance != null && Object.hasOwnProperty.call(e, 'instance') && t.uint32(8).uint64(e.instance), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(16).uint64(e.seq), e.user != null && Object.hasOwnProperty.call(e, 'user') && t.uint32(26).string(e.user), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.UserWaitNotice(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.instance = e.uint64(); break; case 2: n.seq = e.uint64(); break; case 3: n.user = e.string(); break; default: e.skipType(7 & r); } } return n; }, e; }()); const nD = I.SubscribeResponse = (function () { function e(e) { if (this.errors = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.seq = D.Long ? D.Long.fromBits(0, 0, !0) : 0, e.prototype.errors = D.emptyArray, e.encode = function (e, t) { if (t || (t = ia.create()), e.seq != null && Object.hasOwnProperty.call(e, 'seq') && t.uint32(8).uint64(e.seq), e.errors != null && e.errors.length) for (let n = 0; n < e.errors.length; ++n)I.SubscribeResponse.SubscribeErrorsType.encode(e.errors[n], t.uint32(18).fork()).ldelim(); return t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.SubscribeResponse(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.seq = e.uint64(); break; case 2: n.errors && n.errors.length || (n.errors = []), n.errors.push(I.SubscribeResponse.SubscribeErrorsType.decode(e, e.uint32())); break; default: e.skipType(7 & r); } } return n; }, e.SubscribeErrorsType = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.account = '', e.prototype.code = 0, e.encode = function (e, t) { return t || (t = ia.create()), e.account != null && Object.hasOwnProperty.call(e, 'account') && t.uint32(10).string(e.account), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(16).uint32(e.code), t; }, e.decode = function (e, t) { e instanceof M || (e = M.create(e)), t = void 0 === t ? e.len : e.pos + t; for (var n = new I.SubscribeResponse.SubscribeErrorsType(); e.pos < t;) { const r = e.uint32(); switch (r >>> 3) { case 1: n.account = e.string(); break; case 2: n.code = e.uint32(); break; default: e.skipType(7 & r); } } return n; }, e; }()), e; }()); const oD = Object.freeze({
    __proto__: null, URI: vC, Wrapper: wi, Ping: wC, Pong: xC, UserJoin: yC, UserResp: zC, UserQuit: AC, UserDrop: BC, UserTicketNearlyExpire: CC, UserRenewTokenReq: DC, UserRenewTokenResp: EC, GroupEnter: FC, GroupLeave: GC, GroupReply: HC, GroupLeaveNotice: vs, GroupEnterNotice: ws, Message: xs, Ack: ys, GroupDrop: IC, GroupAllUsersList: JC, GroupAllUsersResult: KC, UserStatusList: LC, UserStatusResult: MC, UserAttributeGet: NC, UserAttributeRet: OC, UserAttributeSet: PC, UserAttributeMod: QC, UserAttributeDel: RC, UserAttributeErr: SC, UserAttributeKeysGet: TC, UserAttributeKeysRet: UC, UserAttributeRsp: VC, GroupStatusList: WC, GroupStatusResult: XC, GroupCountNotice: YC, GroupAttributeGet: ZC, GroupAttributeRet: $C, GroupAttributeSet: aD, GroupAttributeMod: bD, GroupAttributeDel: cD, GroupAttributeAlt: dD, GroupAttributeRsp: eD, GroupAttributeErr: fD, GroupAttributeKeysGet: gD, GroupAttributeKeysRet: hD, SubscribeUserStatus: iD, UnsubscribeUserStatus: jD, UserJoinNotice: kD, UserQuitNotice: lD, UserWaitNotice: mD, SubscribeResponse: nD, default: I,
  }); const pD = Math.ceil; const zs = function (e) { return function (t, n, r) { let o = (t = String(Eb(t))).length; return r = void 0 === r ? ' ' : String(r), (n = Ma(n)) <= o || r == '' ? t : (n -= o, (o = Yo.call(r, pD(n / r.length))).length > n && (o = o.slice(0, n)), e ? t + o : o + t); }; }; const qD = zs(!1); const rD = zs(!0); const As = /Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(df); ea({ target: 'String', proto: !0, forced: As }, { padEnd(e) { return rD(this, e, arguments.length > 1 ? arguments[1] : void 0); } }); const sD = eg; const Bs = function (e) { return function (t) { t = Mb(t); for (var n, r = ed(t), o = r.length, i = 0, s = []; o > i;)n = r[i++], wa && !sD.call(t, n) || s.push(e ? [n, t[n]] : t[n]); return s; }; }; const tD = Bs(!0); const uD = Bs(!1); ea({ target: 'Object', stat: !0 }, { entries(e) { return tD(e); } }); const vD = dc.f; const Cs = ''.endsWith; const wD = Math.min; const Ds = Qk('endsWith'); const xD = !Ds && !!(function () { const e = vD(String.prototype, 'endsWith'); return e && !e.writable; }()); ea({ target: 'String', proto: !0, forced: !xD && !Ds }, { endsWith(e) { const t = String(Eb(this)); Pk(e); let n = arguments.length > 1 ? arguments[1] : void 0; let r = Ma(t.length); return n = void 0 === n ? r : wD(Ma(n), r), r = String(e), Cs ? Cs.call(t, r, n) : t.slice(n - r.length, n) === r; } }), Bh('match', 1, ((e, t, n) => [function (t) { const n = Eb(this); const r = t == null ? void 0 : t[e]; return void 0 !== r ? r.call(t, n) : new RegExp(t)[e](String(n)); }, function (e) { let r = n(t, e, this); if (r.done) return r.value; if (e = Ia(e), r = String(this), !e.global) return ef(e, r); const o = e.unicode; e.lastIndex = 0; for (var i, s = [], a = 0; (i = ef(e, r)) !== null;)i = String(i[0]), s[a] = i, i === '' && (e.lastIndex = Mj(r, Ma(e.lastIndex), o)), a++; return a === 0 ? null : s; }])); const yD = dc.f; const Es = ''.startsWith; const zD = Math.min; const Fs = Qk('startsWith'); const AD = !Fs && !!(function () { const e = yD(String.prototype, 'startsWith'); return e && !e.writable; }()); ea({ target: 'String', proto: !0, forced: !AD && !Fs }, { startsWith(e) { const t = String(Eb(this)); Pk(e); const n = Ma(zD(arguments.length > 1 ? arguments[1] : void 0, t.length)); const r = String(e); return Es ? Es.call(t, r, n) : t.slice(n, n + r.length) === r; } }); var Wn = function (e) { const t = /(%?)(%([jds]))/g; const n = Array.prototype.slice.call(arguments, 1); return n.length && (e = e.replace(t, ((e, t, r, o) => { switch (r = n.shift(), o) { case 's': r = `${r}`; break; case 'd': r = Number(r); break; case 'j': r = JSON.stringify(r); } return t ? (n.unshift(r), e) : r; }))), n.length && (e += ` ${n.join(' ')}`), `${e = e.replace(/%{2,2}/g, '%')}`; }; const BD = /\s/; const CD = /^\s+/; const Gs = NaN; const DD = /^[-+]0x[0-9a-f]+$/i; const ED = /^0b[01]+$/i; const FD = /^0o[0-7]+$/i; const GD = parseInt; const xi = function (e) { if (typeof e === 'number') return e; if (Ke(e)) return Gs; if (Gb(e) && (e = typeof e.valueOf === 'function' ? e.valueOf() : e, e = Gb(e) ? `${e}` : e), typeof e !== 'string') return e === 0 ? e : +e; if (e) { for (var t = e.slice, n = e.length; n-- && BD.test(e.charAt(n)););e = t.call(e, 0, n + 1).replace(CD, ''); } return (t = ED.test(e)) || FD.test(e) ? GD(e.slice(2), t ? 2 : 8) : DD.test(e) ? Gs : +e; }; const HD = Math.max; const ID = Math.min; const JD = function (e, t, n) { function r(t) { const n = c; const r = u; return c = u = void 0, p = t, l = e.apply(r, n); } function o(e) { const n = e - h; return e -= p, void 0 === h || n >= t || n < 0 || b && e >= v; } function i() { let e = $b.Date.now(); if (o(e)) return s(e); const n = setTimeout; let r = e - p; e = t - (e - h), r = b ? ID(e, v - r) : e, f = n(i, r); } function s(e) { return f = void 0, g && c ? r(e) : (c = u = void 0, l); } function a() { let e = $b.Date.now(); const n = o(e); if (c = arguments, u = this, h = e, n) { if (void 0 === f) return p = e = h, f = setTimeout(i, t), d ? r(e) : l; if (b) return clearTimeout(f), f = setTimeout(i, t), r(h); } return void 0 === f && (f = setTimeout(i, t)), l; } let c; let u; let l; let f; let h; var p = 0; var d = !1; var b = !1; var g = !0; if (typeof e !== 'function') throw new TypeError('Expected a function'); if (t = xi(t) || 0, Gb(n)) { d = !!n.leading; var v = (b = 'maxWait' in n) ? HD(xi(n.maxWait) || 0, t) : v; g = 'trailing' in n ? !!n.trailing : g; } return a.cancel = function () { void 0 !== f && clearTimeout(f), p = 0, c = h = u = f = void 0; }, a.flush = function () { return void 0 === f ? l : s($b.Date.now()); }, a; }; const KD = Math.max; const LD = Math.min; const Hs = 1 / 0; const Rl = function (e) { return e ? (e = xi(e)) === Hs || e === -Hs ? 17976931348623157e292 * (e < 0 ? -1 : 1) : e == e ? e : 0 : e === 0 ? e : 0; }; const Is = function (e, t, n) { return t = Rl(t), void 0 === n ? (n = t, t = 0) : n = Rl(n), (e = xi(e)) >= LD(t, n) && e < KD(t, n); }; const ac = Gc.Writer; const H = Gc.util; const Pb = Gc.roots.default || (Gc.roots.default = {}); const MD = Pb.Session = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.appId = '', e.prototype.ver = '', e.prototype.buildno = 0, e.prototype.installId = '', e.prototype.os = 0, e.prototype.did = '', e.prototype.index = null, e.prototype.token = '', e.prototype.version = 0, e.prototype.subVersion = 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.appId != null && Object.hasOwnProperty.call(e, 'appId') && t.uint32(42).string(e.appId), e.ver != null && Object.hasOwnProperty.call(e, 'ver') && t.uint32(50).string(e.ver), e.buildno != null && Object.hasOwnProperty.call(e, 'buildno') && t.uint32(56).int32(e.buildno), e.installId != null && Object.hasOwnProperty.call(e, 'installId') && t.uint32(66).string(e.installId), e.os != null && Object.hasOwnProperty.call(e, 'os') && t.uint32(128).int32(e.os), e.did != null && Object.hasOwnProperty.call(e, 'did') && t.uint32(138).string(e.did), e.index != null && Object.hasOwnProperty.call(e, 'index') && Pb.Session.CommonIndex.encode(e.index, t.uint32(162).fork()).ldelim(), e.token != null && Object.hasOwnProperty.call(e, 'token') && t.uint32(170).string(e.token), e.version != null && Object.hasOwnProperty.call(e, 'version') && t.uint32(176).int32(e.version), e.subVersion != null && Object.hasOwnProperty.call(e, 'subVersion') && t.uint32(184).int32(e.subVersion), t; }, e.CommonIndex = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.index1 = '', e.prototype.index2 = '', e.prototype.index3 = '', e.encode = function (e, t) { return t || (t = ac.create()), e.index1 != null && Object.hasOwnProperty.call(e, 'index1') && t.uint32(10).string(e.index1), e.index2 != null && Object.hasOwnProperty.call(e, 'index2') && t.uint32(18).string(e.index2), e.index3 != null && Object.hasOwnProperty.call(e, 'index3') && t.uint32(26).string(e.index3), t; }, e; }()), e; }()); const ND = Pb.ApEvent = (function () { function e(e) { if (this.linkServerList = [], e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.apAddr = '', e.prototype.linkServerList = H.emptyArray, e.prototype.errCode = 0, e.prototype.serverErrCode = 0, e.prototype.isp = '', e.prototype.opId = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.envId = 0, e.prototype.flag = 0, e.prototype.area = '', e.encode = function (e, t) { if (t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.apAddr != null && Object.hasOwnProperty.call(e, 'apAddr') && t.uint32(50).string(e.apAddr), e.linkServerList != null && e.linkServerList.length) for (let n = 0; n < e.linkServerList.length; ++n)t.uint32(58).string(e.linkServerList[n]); return e.errCode != null && Object.hasOwnProperty.call(e, 'errCode') && t.uint32(72).int32(e.errCode), e.serverErrCode != null && Object.hasOwnProperty.call(e, 'serverErrCode') && t.uint32(80).int32(e.serverErrCode), e.isp != null && Object.hasOwnProperty.call(e, 'isp') && t.uint32(90).string(e.isp), e.opId != null && Object.hasOwnProperty.call(e, 'opId') && t.uint32(96).int64(e.opId), e.envId != null && Object.hasOwnProperty.call(e, 'envId') && t.uint32(104).int32(e.envId), e.flag != null && Object.hasOwnProperty.call(e, 'flag') && t.uint32(112).int32(e.flag), e.area != null && Object.hasOwnProperty.call(e, 'area') && t.uint32(122).string(e.area), t; }, e; }()); const OD = Pb.ApRequest = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.apAddr = '', e.prototype.opId = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.envId = 0, e.prototype.flag = 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.apAddr != null && Object.hasOwnProperty.call(e, 'apAddr') && t.uint32(42).string(e.apAddr), e.opId != null && Object.hasOwnProperty.call(e, 'opId') && t.uint32(48).int64(e.opId), e.envId != null && Object.hasOwnProperty.call(e, 'envId') && t.uint32(56).int32(e.envId), e.flag != null && Object.hasOwnProperty.call(e, 'flag') && t.uint32(64).int32(e.flag), t; }, e; }()); const PD = Pb.LinkLoginRequest = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.destServerIp = '', e.prototype.linkId = 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.destServerIp != null && Object.hasOwnProperty.call(e, 'destServerIp') && t.uint32(42).string(e.destServerIp), e.linkId != null && Object.hasOwnProperty.call(e, 'linkId') && t.uint32(48).int32(e.linkId), t; }, e; }()); const QD = Pb.Link = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.ec = 0, e.prototype.sc = 0, e.prototype.destServerIp = '', e.prototype.ackedServerIp = '', e.prototype.responseTime = 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.ec != null && Object.hasOwnProperty.call(e, 'ec') && t.uint32(40).int32(e.ec), e.sc != null && Object.hasOwnProperty.call(e, 'sc') && t.uint32(48).int32(e.sc), e.destServerIp != null && Object.hasOwnProperty.call(e, 'destServerIp') && t.uint32(58).string(e.destServerIp), e.ackedServerIp != null && Object.hasOwnProperty.call(e, 'ackedServerIp') && t.uint32(66).string(e.ackedServerIp), e.responseTime != null && Object.hasOwnProperty.call(e, 'responseTime') && t.uint32(72).int32(e.responseTime), t; }, e; }()); const RD = Pb.Logout = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), t; }, e; }()); const SD = Pb.KickedOff = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.linkId = 0, e.prototype.code = 0, e.prototype.server = '', e.prototype.serverCode = 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.linkId != null && Object.hasOwnProperty.call(e, 'linkId') && t.uint32(48).int32(e.linkId), e.code != null && Object.hasOwnProperty.call(e, 'code') && t.uint32(56).int32(e.code), e.server != null && Object.hasOwnProperty.call(e, 'server') && t.uint32(66).string(e.server), e.serverCode != null && Object.hasOwnProperty.call(e, 'serverCode') && t.uint32(72).int32(e.serverCode), t; }, e; }()); const TD = Pb.ChnJoin = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.cname = '', e.prototype.errCode = 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.cname != null && Object.hasOwnProperty.call(e, 'cname') && t.uint32(50).string(e.cname), e.errCode != null && Object.hasOwnProperty.call(e, 'errCode') && t.uint32(56).int32(e.errCode), t; }, e; }()); const UD = Pb.ChnJoinRes = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.cname = '', e.prototype.errCode = 0, e.prototype.serverErrCode = 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.cname != null && Object.hasOwnProperty.call(e, 'cname') && t.uint32(50).string(e.cname), e.errCode != null && Object.hasOwnProperty.call(e, 'errCode') && t.uint32(56).int32(e.errCode), e.serverErrCode != null && Object.hasOwnProperty.call(e, 'serverErrCode') && t.uint32(64).int32(e.serverErrCode), t; }, e; }()); const VD = Pb.ChnLeave = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.cname = '', e.prototype.errCode = 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.cname != null && Object.hasOwnProperty.call(e, 'cname') && t.uint32(50).string(e.cname), e.errCode != null && Object.hasOwnProperty.call(e, 'errCode') && t.uint32(56).int32(e.errCode), t; }, e; }()); const WD = Pb.ConnectionStateChange = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.sid = '', e.prototype.userId = '', e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.elapse = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.oldState = 0, e.prototype.newState = 0, e.prototype.reason = 0, e.prototype.reconnId = 0, e.encode = function (e, t) { return t || (t = ac.create()), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(10).string(e.sid), e.userId != null && Object.hasOwnProperty.call(e, 'userId') && t.uint32(18).string(e.userId), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(24).int64(e.lts), e.elapse != null && Object.hasOwnProperty.call(e, 'elapse') && t.uint32(32).int64(e.elapse), e.oldState != null && Object.hasOwnProperty.call(e, 'oldState') && t.uint32(40).int32(e.oldState), e.newState != null && Object.hasOwnProperty.call(e, 'newState') && t.uint32(48).int32(e.newState), e.reason != null && Object.hasOwnProperty.call(e, 'reason') && t.uint32(56).int32(e.reason), e.reconnId != null && Object.hasOwnProperty.call(e, 'reconnId') && t.uint32(64).int32(e.reconnId), t; }, e; }()); const Js = Pb.RtmSdkMessageCount = (function () { function e(e) { if (e) for (let t = Object.keys(e), n = 0; n < t.length; ++n)e[t[n]] != null && (this[t[n]] = e[t[n]]); } return e.prototype.lts = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.vid = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.sid = '', e.prototype.messagecategory = 0, e.prototype.reportsequence = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.sentcount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.receivedcount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack10mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack25mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack50mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack75mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack100mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack150mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack200mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack250mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack300mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack400mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack500mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack600mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack800mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack1000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack2000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack3000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack5000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerack7000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.peerackslowcount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack10mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack25mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack50mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack75mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack100mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack150mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack200mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack250mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack300mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack400mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack500mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack600mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack800mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack1000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack2000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack3000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack5000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientack7000mscount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.norecipientackslowcount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.acktimeoutcount = H.Long ? H.Long.fromBits(0, 0, !1) : 0, e.prototype.apimajorversion = 0, e.prototype.apiminorversion = 0, e.prototype.os = 0, e.prototype.toooftencount = 0, e.prototype.receiverofflinecount = 0, e.prototype.invalidmessagecount = 0, e.prototype.unknowerrorcount = 0, e.prototype.servercachedcount = 0, e.prototype.timeoutcount = 0, e.prototype.successcount = 0, e.prototype.userid = '', e.encode = function (e, t) { return t || (t = ac.create()), e.lts != null && Object.hasOwnProperty.call(e, 'lts') && t.uint32(8).int64(e.lts), e.vid != null && Object.hasOwnProperty.call(e, 'vid') && t.uint32(16).int64(e.vid), e.sid != null && Object.hasOwnProperty.call(e, 'sid') && t.uint32(26).string(e.sid), e.messagecategory != null && Object.hasOwnProperty.call(e, 'messagecategory') && t.uint32(32).int32(e.messagecategory), e.reportsequence != null && Object.hasOwnProperty.call(e, 'reportsequence') && t.uint32(40).int64(e.reportsequence), e.sentcount != null && Object.hasOwnProperty.call(e, 'sentcount') && t.uint32(48).int64(e.sentcount), e.receivedcount != null && Object.hasOwnProperty.call(e, 'receivedcount') && t.uint32(56).int64(e.receivedcount), e.peerack10mscount != null && Object.hasOwnProperty.call(e, 'peerack10mscount') && t.uint32(64).int64(e.peerack10mscount), e.peerack25mscount != null && Object.hasOwnProperty.call(e, 'peerack25mscount') && t.uint32(72).int64(e.peerack25mscount), e.peerack50mscount != null && Object.hasOwnProperty.call(e, 'peerack50mscount') && t.uint32(80).int64(e.peerack50mscount), e.peerack75mscount != null && Object.hasOwnProperty.call(e, 'peerack75mscount') && t.uint32(88).int64(e.peerack75mscount), e.peerack100mscount != null && Object.hasOwnProperty.call(e, 'peerack100mscount') && t.uint32(96).int64(e.peerack100mscount), e.peerack150mscount != null && Object.hasOwnProperty.call(e, 'peerack150mscount') && t.uint32(104).int64(e.peerack150mscount), e.peerack200mscount != null && Object.hasOwnProperty.call(e, 'peerack200mscount') && t.uint32(112).int64(e.peerack200mscount), e.peerack250mscount != null && Object.hasOwnProperty.call(e, 'peerack250mscount') && t.uint32(120).int64(e.peerack250mscount), e.peerack300mscount != null && Object.hasOwnProperty.call(e, 'peerack300mscount') && t.uint32(128).int64(e.peerack300mscount), e.peerack400mscount != null && Object.hasOwnProperty.call(e, 'peerack400mscount') && t.uint32(136).int64(e.peerack400mscount), e.peerack500mscount != null && Object.hasOwnProperty.call(e, 'peerack500mscount') && t.uint32(144).int64(e.peerack500mscount), e.peerack600mscount != null && Object.hasOwnProperty.call(e, 'peerack600mscount') && t.uint32(152).int64(e.peerack600mscount), e.peerack800mscount != null && Object.hasOwnProperty.call(e, 'peerack800mscount') && t.uint32(160).int64(e.peerack800mscount), e.peerack1000mscount != null && Object.hasOwnProperty.call(e, 'peerack1000mscount') && t.uint32(168).int64(e.peerack1000mscount), e.peerack2000mscount != null && Object.hasOwnProperty.call(e, 'peerack2000mscount') && t.uint32(176).int64(e.peerack2000mscount), e.peerack3000mscount != null && Object.hasOwnProperty.call(e, 'peerack3000mscount') && t.uint32(184).int64(e.peerack3000mscount), e.peerack5000mscount != null && Object.hasOwnProperty.call(e, 'peerack5000mscount') && t.uint32(192).int64(e.peerack5000mscount), e.peerack7000mscount != null && Object.hasOwnProperty.call(e, 'peerack7000mscount') && t.uint32(200).int64(e.peerack7000mscount), e.peerackslowcount != null && Object.hasOwnProperty.call(e, 'peerackslowcount') && t.uint32(208).int64(e.peerackslowcount), e.norecipientack10mscount != null && Object.hasOwnProperty.call(e, 'norecipientack10mscount') && t.uint32(216).int64(e.norecipientack10mscount), e.norecipientack25mscount != null && Object.hasOwnProperty.call(e, 'norecipientack25mscount') && t.uint32(224).int64(e.norecipientack25mscount), e.norecipientack50mscount != null && Object.hasOwnProperty.call(e, 'norecipientack50mscount') && t.uint32(232).int64(e.norecipientack50mscount), e.norecipientack75mscount != null && Object.hasOwnProperty.call(e, 'norecipientack75mscount') && t.uint32(240).int64(e.norecipientack75mscount), e.norecipientack100mscount != null && Object.hasOwnProperty.call(e, 'norecipientack100mscount') && t.uint32(248).int64(e.norecipientack100mscount), e.norecipientack150mscount != null && Object.hasOwnProperty.call(e, 'norecipientack150mscount') && t.uint32(256).int64(e.norecipientack150mscount), e.norecipientack200mscount != null && Object.hasOwnProperty.call(e, 'norecipientack200mscount') && t.uint32(264).int64(e.norecipientack200mscount), e.norecipientack250mscount != null && Object.hasOwnProperty.call(e, 'norecipientack250mscount') && t.uint32(272).int64(e.norecipientack250mscount), e.norecipientack300mscount != null && Object.hasOwnProperty.call(e, 'norecipientack300mscount') && t.uint32(280).int64(e.norecipientack300mscount), e.norecipientack400mscount != null && Object.hasOwnProperty.call(e, 'norecipientack400mscount') && t.uint32(288).int64(e.norecipientack400mscount), e.norecipientack500mscount != null && Object.hasOwnProperty.call(e, 'norecipientack500mscount') && t.uint32(296).int64(e.norecipientack500mscount), e.norecipientack600mscount != null && Object.hasOwnProperty.call(e, 'norecipientack600mscount') && t.uint32(304).int64(e.norecipientack600mscount), e.norecipientack800mscount != null && Object.hasOwnProperty.call(e, 'norecipientack800mscount') && t.uint32(312).int64(e.norecipientack800mscount), e.norecipientack1000mscount != null && Object.hasOwnProperty.call(e, 'norecipientack1000mscount') && t.uint32(320).int64(e.norecipientack1000mscount), e.norecipientack2000mscount != null && Object.hasOwnProperty.call(e, 'norecipientack2000mscount') && t.uint32(328).int64(e.norecipientack2000mscount), e.norecipientack3000mscount != null && Object.hasOwnProperty.call(e, 'norecipientack3000mscount') && t.uint32(336).int64(e.norecipientack3000mscount), e.norecipientack5000mscount != null && Object.hasOwnProperty.call(e, 'norecipientack5000mscount') && t.uint32(344).int64(e.norecipientack5000mscount), e.norecipientack7000mscount != null && Object.hasOwnProperty.call(e, 'norecipientack7000mscount') && t.uint32(352).int64(e.norecipientack7000mscount), e.norecipientackslowcount != null && Object.hasOwnProperty.call(e, 'norecipientackslowcount') && t.uint32(360).int64(e.norecipientackslowcount), e.acktimeoutcount != null && Object.hasOwnProperty.call(e, 'acktimeoutcount') && t.uint32(368).int64(e.acktimeoutcount), e.apimajorversion != null && Object.hasOwnProperty.call(e, 'apimajorversion') && t.uint32(376).int32(e.apimajorversion), e.apiminorversion != null && Object.hasOwnProperty.call(e, 'apiminorversion') && t.uint32(384).int32(e.apiminorversion), e.os != null && Object.hasOwnProperty.call(e, 'os') && t.uint32(392).int32(e.os), e.toooftencount != null && Object.hasOwnProperty.call(e, 'toooftencount') && t.uint32(400).int32(e.toooftencount), e.receiverofflinecount != null && Object.hasOwnProperty.call(e, 'receiverofflinecount') && t.uint32(408).int32(e.receiverofflinecount), e.invalidmessagecount != null && Object.hasOwnProperty.call(e, 'invalidmessagecount') && t.uint32(416).int32(e.invalidmessagecount), e.unknowerrorcount != null && Object.hasOwnProperty.call(e, 'unknowerrorcount') && t.uint32(424).int32(e.unknowerrorcount), e.servercachedcount != null && Object.hasOwnProperty.call(e, 'servercachedcount') && t.uint32(432).int32(e.servercachedcount), e.timeoutcount != null && Object.hasOwnProperty.call(e, 'timeoutcount') && t.uint32(440).int32(e.timeoutcount), e.successcount != null && Object.hasOwnProperty.call(e, 'successcount') && t.uint32(448).int32(e.successcount), e.userid != null && Object.hasOwnProperty.call(e, 'userid') && t.uint32(458).string(e.userid), t; }, e; }()); var Iv = Object.freeze({
    __proto__: null, Session: MD, ApEvent: ND, ApRequest: OD, LinkLoginRequest: PD, Link: QD, Logout: RD, KickedOff: SD, ChnJoin: TD, ChnJoinRes: UD, ChnLeave: VD, ConnectionStateChange: WD, RtmSdkMessageCount: Js, default: Pb,
  }); const XD = la((() => new Date(NaN).toJSON() !== null || Date.prototype.toJSON.call({ toISOString() { return 1; } }) !== 1)); ea({ target: 'Date', proto: !0, forced: XD }, { toJSON(e) { e = pb(this); const t = Oc(e); return typeof t !== 'number' || isFinite(t) ? e.toISOString() : null; } }), ea({ target: 'URL', proto: !0, enumerable: !0 }, { toJSON() { return URL.prototype.toString.call(this); } }); var Ev = Object.prototype.hasOwnProperty; const Ks = function (e, t, n) { return JSON.stringify(Mn(e), t, n); }; Ks.ensureProperties = Mn; const YD = function (e, t) { t = t || {}; const n = qa(e); if (n === 'string' && e.length > 0) return Fv(e); if (n === 'number' && isFinite(e)) return t.long ? e = (t = Math.abs(e)) >= 864e5 ? jh(e, t, 864e5, 'day') : t >= 36e5 ? jh(e, t, 36e5, 'hour') : t >= 6e4 ? jh(e, t, 6e4, 'minute') : t >= 1e3 ? jh(e, t, 1e3, 'second') : `${e} ms` : e = (t = Math.abs(e)) >= 864e5 ? `${Math.round(e / 864e5)}d` : t >= 36e5 ? `${Math.round(e / 36e5)}h` : t >= 6e4 ? `${Math.round(e / 6e4)}m` : t >= 1e3 ? `${Math.round(e / 1e3)}s` : `${e}ms`, e; throw Error(`val is not a non-empty string or a valid number. val=${JSON.stringify(e)}`); }; const ZD = function (e) {
    function t(e) {
      function r() { for (var e = arguments.length, n = Array(e), i = 0; i < e; i++)n[i] = arguments[i]; if (r.enabled) { e = Number(new Date()), r.diff = e - (o || e), r.prev = o, o = r.curr = e, n[0] = t.coerce(n[0]), typeof n[0] !== 'string' && n.unshift('%O'); let s = 0; n[0] = n[0].replace(/%([a-zA-Z%])/g, ((e, o) => (e === '%%' ? '%' : (s++, typeof (o = t.formatters[o]) === 'function' && (e = o.call(r, n[s]), n.splice(s, 1), s--), e)))), t.formatArgs.call(r, n), (r.log || t.log).apply(r, n); } } let o; let i = null; return r.namespace = e, r.useColors = t.useColors(), r.color = t.selectColor(e), r.extend = n, r.destroy = t.destroy, Object.defineProperty(r, 'enabled', {
        enumerable: !0, configurable: !1, get() { return i === null ? t.enabled(e) : i; }, set(e) { i = e; },
      }), typeof t.init === 'function' && t.init(r), r;
    } function n(e, n) { return (e = t(this.namespace + (void 0 === n ? ':' : n) + e)).log = this.log, e; } function r(e) { return e.toString().substring(2, e.toString().length - 2).replace(/\.\*\?$/, '*'); } return t.debug = t, t.default = t, t.coerce = function (e) { return e instanceof Error ? e.stack || e.message : e; }, t.disable = function () { const e = [].concat(Z(t.names.map(r)), Z(t.skips.map(r).map(((e) => `-${e}`)))).join(','); return t.enable(''), e; }, t.enable = function (e) { t.save(e), t.names = [], t.skips = []; let n; const r = (typeof e === 'string' ? e : '').split(/[\s,]+/); const o = r.length; for (n = 0; n < o; n++)r[n] && ((e = r[n].replace(/\*/g, '.*?'))[0] === '-' ? t.skips.push(new RegExp(`^${e.substr(1)}$`)) : t.names.push(new RegExp(`^${e}$`))); }, t.enabled = function (e) { if (e[e.length - 1] === '*') return !0; let n; let r = 0; for (n = t.skips.length; r < n; r++) if (t.skips[r].test(e)) return !1; for (r = 0, n = t.names.length; r < n; r++) if (t.names[r].test(e)) return !0; return !1; }, t.humanize = YD, t.destroy = function () { console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'); }, Object.keys(e).forEach(((n) => { t[n] = e[n]; })), t.names = [], t.skips = [], t.formatters = {}, t.selectColor = function (e) { for (var n = 0, r = 0; r < e.length; r++)n = (n << 5) - n + e.charCodeAt(r), n |= 0; return t.colors[Math.abs(n) % t.colors.length]; }, t.enable(t.load()), t;
  }; const Ls = xb(((e, t) => { t.formatArgs = function (t) { if (t[0] = `${(this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + t[0] + (this.useColors ? '%c ' : ' ')}+${e.exports.humanize(this.diff)}`, this.useColors) { const n = `color: ${this.color}`; t.splice(1, 0, n, 'color: inherit'); let r = 0; let o = 0; t[0].replace(/%[a-zA-Z%]/g, ((e) => { e !== '%%' && (r++, e === '%c' && (o = r)); })), t.splice(o, 0, n); } }, t.save = function (e) { try { e ? t.storage.setItem('debug', e) : t.storage.removeItem('debug'); } catch (e) {} }, t.load = function () { try { var e = t.storage.getItem('debug'); } catch (e) {} return !e && typeof process !== 'undefined' && 'env' in process && (e = process.env.DEBUG), e; }, t.useColors = function () { return !(typeof window === 'undefined' || !window.process || window.process.type !== 'renderer' && !window.process.__nwjs) || (typeof navigator === 'undefined' || !navigator.userAgent || !navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) && (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)); }; e: { try { var n = localStorage; break e; } catch (r) {}n = void 0; } let r; t.storage = n, t.destroy = (r = !1, function () { r || (r = !0, console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.')); }), t.colors = '#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33'.split(' '), t.log = console.debug || console.log || function () {}, e.exports = ZD(t), e.exports.formatters.j = function (e) { try { return JSON.stringify(e); } catch (e) { return `[UnexpectedJSONParseError]: ${e.message}`; } }; })); const Ms = Ls('RTM:DEBUG'); let Af; Ms.enabled = !1, (function (e) { e[e.Uploading = 0] = 'Uploading', e[e.Free = 1] = 'Free'; }(Af || (Af = {}))); const $D = (function () { function e(t) { va(this, e), x(this, 'uploadRequest', void 0), x(this, 'uploadState', void 0), x(this, 'uploadResendCount', void 0), x(this, 'LogCache', void 0), x(this, 'LogsToPost', void 0), x(this, 'processId', void 0), x(this, 'sdkVersion', void 0), x(this, 'logId', void 0), x(this, 'rtmConfig', void 0), this.processId = t.processId, this.sdkVersion = t.sdkVersion, this.rtmConfig = t.rtmConfig, this.uploadRequest = t.uploadRequest, this.uploadState = Af.Free, this.uploadResendCount = 0, this.LogCache = [], this.LogsToPost = [], this.logId = 0; } return eb(e, [{ key: 'upload', value(e) { this.LogCache.push(e), this.uploadState === Af.Free && (this.LogsToPost = this.LogCache.length < 40 ? this.LogCache.splice(0, this.LogCache.length) : this.LogCache.splice(0, 40), this.postLog(this.LogsToPost)); } }, { key: 'postLog', value(e) { const t = this; this.uploadState = Af.Uploading, setTimeout(ma(N.mark((function n() { let r; let o; let i; return N.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return r = { sdk_version: t.sdkVersion, process_id: t.processId, payload: JSON.stringify(e) }, n.prev = 1, n.next = 4, t.uploadRequest(r, (o = t.rtmConfig.enableCloudProxy) !== null && void 0 !== o && o); case 4: if (!gj) { n.next = 6; break; } throw Error('RTM is busy'); case 6: n.next = 13; break; case 8: return n.prev = 8, n.t0 = n.catch(1), i = t.uploadResendCount++ < 2 ? 2e3 : 1e4, setTimeout((() => t.postLog(t.LogsToPost)), i), n.abrupt('return'); case 13: if (Ms('The logs uploaded for "process-'.concat(Og, '"')), t.LogCache.length !== 0) { n.next = 17; break; } return t.uploadState = Af.Free, n.abrupt('return'); case 17: t.uploadResendCount = 0, t.LogsToPost = t.LogCache.length < 40 ? t.LogCache.splice(0, t.LogCache.length) : t.LogCache.splice(0, 40), t.postLog(t.LogsToPost); case 20: case 'end': return n.stop(); } }), n, null, [[1, 8]]); }))), ue.getParameter('LOG_UPLOAD_INTERVAL')); } }]), e; }()); var Ns = function (e, t, n, r, o, i, s, a) { let c = 0; for (s = !!s && Dd(s, a, 3); c < r;) { if (c in n) { if (a = s ? s(n[c], c, t) : n[c], i > 0 && Ed(a))o = Ns(e, t, a, Ma(a.length), o, i - 1) - 1; else { if (o >= 9007199254740991) throw TypeError('Exceed the acceptable array length'); e[o] = a; }o++; }c++; } return o; }; const aE = Ns; ea({ target: 'Array', proto: !0 }, { flat() { const e = arguments.length ? arguments[0] : void 0; const t = pb(this); const n = Ma(t.length); const r = Dh(t, 0); return r.length = aE(r, t, t, n, 0, void 0 === e ? 1 : yc(e)), r; } }), ea({ target: 'Object', stat: !0 }, { values(e) { return uD(e); } }); const ud = (function (e) { function t(e, r) { return va(this, t), x(z(e = n.call(this, Vn(e, r))), 'originalError', void 0), x(z(e), 'code', void 0), x(z(e), 'serverCode', void 0), typeof r === 'number' ? e.code = r : typeof r === 'string' ? e.name = r : void 0 !== r && (r.originalError && (e.originalError = r.originalError), void 0 !== r.code && (e.code = r.code), void 0 !== r.serverCode && (e.serverCode = r.serverCode)), e; }Ga(t, e); var n = Ha(t); return t; }(Kf(Error))); const rc = (function (e) { function t(e, r) { return va(this, t), x(z(e = n.call(this, Vn(e, r))), 'name', 'RtmInternalError'), x(z(e), 'code', void 0), e.code = r, e; }Ga(t, e); var n = Ha(t); return t; }(Kf(Error))); const yi = function () { return (function (e) { function t(e) { va(this, t); const r = Object.keys(e); return n.call(this, e[r[0]], r[0]); }Ga(t, e); var n = Ha(t); return t; }(rc)); }; const mb = yi(); var Ub = (function (e) { function t() { va(this, t); for (var e = arguments.length, r = Array(e), o = 0; o < e; o++)r[o] = arguments[o]; return x(z(e = n.call.apply(n, [this].concat(r))), 'name', 'RtmTimeoutError'), e; }Ga(t, e); var n = Ha(t); return t; }(ud)); var ca = (function (e) { function t() { va(this, t); for (var e = arguments.length, r = Array(e), o = 0; o < e; o++)r[o] = arguments[o]; return x(z(e = n.call.apply(n, [this].concat(r))), 'name', 'RtmInvalidArgumentError'), e; }Ga(t, e); var n = Ha(t); return t; }(ud)); var da = (function (e) { function t() { va(this, t); for (var e = arguments.length, r = Array(e), o = 0; o < e; o++)r[o] = arguments[o]; return x(z(e = n.call.apply(n, [this].concat(r))), 'name', 'RtmInvalidStatusError'), e; }Ga(t, e); var n = Ha(t); return t; }(ud)); var ic = (function (e) { function t() { va(this, t); for (var e = arguments.length, r = Array(e), o = 0; o < e; o++)r[o] = arguments[o]; return x(z(e = n.call.apply(n, [this].concat(r))), 'name', 'RtmLimitExceededError'), e; }Ga(t, e); var n = Ha(t); return t; }(ud)); const bE = (function (e) { function t() { va(this, t); for (var e = arguments.length, r = Array(e), o = 0; o < e; o++)r[o] = arguments[o]; return x(z(e = n.call.apply(n, [this].concat(r))), 'name', 'RtmInvokeTooOftenError'), e; }Ga(t, e); var n = Ha(t); return t; }(ud)); var Ja = (function (e) { function t() { va(this, t); for (var e = arguments.length, r = Array(e), o = 0; o < e; o++)r[o] = arguments[o]; return x(z(e = n.call.apply(n, [this].concat(r))), 'name', 'RtmUnavailableError'), x(z(e), 'serverCode', void 0), x(z(e), 'statusCode', void 0), e; }Ga(t, e); var n = Ha(t); return t; }(ud)); const Bf = (function (e) { function t() { va(this, t); for (var e = arguments.length, r = Array(e), o = 0; o < e; o++)r[o] = arguments[o]; return x(z(e = n.call.apply(n, [this].concat(r))), 'name', 'RtmUnauthenticatedError'), x(z(e), 'serverCode', void 0), e; }Ga(t, e); var n = Ha(t); return t; }(ud)); const ve = (function (e) { function t() { va(this, t); for (var e = arguments.length, r = Array(e), o = 0; o < e; o++)r[o] = arguments[o]; return x(z(e = n.call.apply(n, [this].concat(r))), 'name', 'RtmUnknownError'), e; }Ga(t, e); var n = Ha(t); return t; }(ud)); const Ab = function (e) { return e instanceof Ub || e instanceof Tb; }; const Na = function (e) { return e instanceof ud; }; const we = function (e, t, n) { return ['Executing "%s.%s" timed out after %ds', e, t, n / 1e3]; }; const cE = ['CODE']; let bc; let Pd; let S; !(function (e) { e.CHINA = 'CN', e.ASIA = 'AS', e.NORTH_AMERICA = 'NA', e.EUROPE = 'EU', e.JAPAN = 'JP', e.INDIA = 'IN', e.OCEANIA = 'OC', e.SOUTH_AMERICA = 'SA', e.AFRICA = 'AF', e.OVERSEA = 'OVERSEA', e.GLOBAL = 'GLOBAL'; }(S || (S = {}))); const dE = {
    CN: S.CHINA, NA: S.NORTH_AMERICA, EU: S.EUROPE, AS: S.ASIA, JP: S.JAPAN, IN: S.INDIA, GLOB: S.GLOBAL, AF: S.AFRICA, OC: S.OVERSEA, OVS: S.OVERSEA, SA: S.SOUTH_AMERICA,
  }; var kh = $n((bc = {}, x(bc, S.ASIA, {
    CODE: S.ASIA, AP_DOMAINS: ['ap-web-1-asia.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-2-asia.agora.io'], EVENT_REPORT_DOMAIN: ['statscollector-1-asia.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['statscollector-2-asia.agora.io'], LOG_UPLOAD_SERVER: ['logservice-asia.agora.io'], PROXY_AP: ['proxy-ap-web-asia.agora.io'], PROXY_NGINX: ['southeast-asia.webrtc-cloud-proxy.sd-rtn.com'],
  }), x(bc, S.NORTH_AMERICA, {
    CODE: S.NORTH_AMERICA, AP_DOMAINS: ['ap-web-1-north-america.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-2-north-america.agora.io'], EVENT_REPORT_DOMAIN: ['statscollector-1-north-america.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['statscollector-2-north-america.agora.io'], LOG_UPLOAD_SERVER: ['logservice-north-america.agora.io'], PROXY_AP: ['proxy-ap-web-america.agora.io'], PROXY_NGINX: ['east-usa.webrtc-cloud-proxy.sd-rtn.com'],
  }), x(bc, S.EUROPE, {
    CODE: S.EUROPE, AP_DOMAINS: ['ap-web-1-europe.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-2-europe.agora.io'], EVENT_REPORT_DOMAIN: ['statscollector-1-europe.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['statscollector-2-europe.agora.io'], LOG_UPLOAD_SERVER: ['logservice-europe.agora.io'], PROXY_AP: ['proxy-ap-web-europe.agora.io'], PROXY_NGINX: ['europe.webrtc-cloud-proxy.sd-rtn.com'],
  }), x(bc, S.JAPAN, {
    CODE: S.JAPAN, AP_DOMAINS: ['ap-web-1-japan.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-2-japan.agora.io'], EVENT_REPORT_DOMAIN: ['statscollector-1-japan.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['statscollector-2-japan.agora.io'], LOG_UPLOAD_SERVER: ['logservice-japan.agora.io'], PROXY_AP: ['proxy-ap-web-japan.agora.io'], PROXY_NGINX: ['japan.webrtc-cloud-proxy.sd-rtn.com'],
  }), x(bc, S.INDIA, {
    CODE: S.INDIA, AP_DOMAINS: ['ap-web-1-india.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-2-india.agora.io'], EVENT_REPORT_DOMAIN: ['statscollector-1-india.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['statscollector-2-india.agora.io'], LOG_UPLOAD_SERVER: ['logservice-india.agora.io'], PROXY_AP: ['proxy-ap-web-india.agora.io'], PROXY_NGINX: ['india.webrtc-cloud-proxy.sd-rtn.com'],
  }), x(bc, S.OVERSEA, {
    CODE: S.OVERSEA, AP_DOMAINS: ['ap-web-1-oversea.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-2-oversea.agora.io'], EVENT_REPORT_DOMAIN: ['statscollector-1-oversea.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['statscollector-2-oversea.agora.io'], LOG_UPLOAD_SERVER: ['logservice-oversea.agora.io'], PROXY_AP: ['proxy-ap-web-oversea.agora.io'], PROXY_NGINX: ['webrtc-cloud-proxy.agora.io'],
  }), x(bc, S.GLOBAL, {
    CODE: S.GLOBAL, AP_DOMAINS: ['ap-web-1.agora.io', 'ap-web-2.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-3.agora.io', 'ap-web-4.agora.io'], EVENT_REPORT_DOMAIN: ['webcollector-rtm.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['webcollector-1.agora.io'], LOG_UPLOAD_SERVER: ['logservice-rtm.agora.io'], PROXY_AP: ['ap-proxy-1.agora.io', 'ap-proxy-2.agora.io'], PROXY_NGINX: ['webrtc-cloud-proxy.sd-rtn.com'],
  }), x(bc, S.OCEANIA, {
    CODE: S.OCEANIA, AP_DOMAINS: ['ap-web-1-oceania.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-2-oceania.agora.io'], EVENT_REPORT_DOMAIN: ['statscollector-1-oceania.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['statscollector-2-oceania.agora.io'], LOG_UPLOAD_SERVER: ['logservice-oceania.agora.io'], PROXY_AP: ['proxy-ap-web-oceania.agora.io'], PROXY_NGINX: ['oceania.webrtc-cloud-proxy.sd-rtn.com'],
  }), x(bc, S.SOUTH_AMERICA, {
    CODE: S.SOUTH_AMERICA, AP_DOMAINS: ['ap-web-1-south-america.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-2-south-america.agora.io'], EVENT_REPORT_DOMAIN: ['statscollector-1-south-america.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['statscollector-2-south-america.agora.io'], LOG_UPLOAD_SERVER: ['logservice-south-america.agora.io'], PROXY_AP: ['proxy-ap-web-south-america.agora.io'], PROXY_NGINX: ['south-america.webrtc-cloud-proxy.sd-rtn.com'],
  }), x(bc, S.AFRICA, {
    CODE: S.AFRICA, AP_DOMAINS: ['ap-web-1-africa.agora.io'], AP_BACKUP_DOMAINS: ['ap-web-2-africa.agora.io'], EVENT_REPORT_DOMAIN: ['statscollector-1-africa.agora.io'], EVENT_REPORT_BACKUP_DOMAIN: ['statscollector-2-africa.agora.io'], LOG_UPLOAD_SERVER: ['logservice-south-africa.agora.io'], PROXY_AP: ['proxy-ap-web-africa.agora.io'], PROXY_NGINX: ['africa.webrtc-cloud-proxy.sd-rtn.com'],
  }), x(bc, S.CHINA, {
    CODE: S.CHINA, AP_DOMAINS: ['webrtc2-2.ap.sd-rtn.com'], AP_BACKUP_DOMAINS: ['webrtc2-4.ap.sd-rtn.com'], EVENT_REPORT_DOMAIN: ['web-3.statscollector.sd-rtn.com'], EVENT_REPORT_BACKUP_DOMAIN: ['web-4.statscollector.sd-rtn.com'], LOG_UPLOAD_SERVER: ['logservice-china.agora.io'], PROXY_AP: ['proxy-ap-web.agoraio.cn'], PROXY_NGINX: ['east-cn.webrtc-cloud-proxy.sd-rtn.com'],
  }), bc)); var Zf = (Pd = {}, x(Pd, S.ASIA, [S.CHINA, S.JAPAN, S.INDIA]), x(Pd, S.EUROPE, []), x(Pd, S.NORTH_AMERICA, []), x(Pd, S.SOUTH_AMERICA, []), x(Pd, S.OCEANIA, []), x(Pd, S.AFRICA, []), Pd); const Os = [S.OVERSEA, S.GLOBAL, S.CHINA, S.NORTH_AMERICA, S.EUROPE, S.ASIA, S.JAPAN, S.INDIA, S.OCEANIA, S.SOUTH_AMERICA, S.AFRICA]; var Nn = function (e) { return Object.values(Zf).flat().includes(e); }; var Hv = function (e) { let t; return (t = qh(Zf).find(((t) => ((t = $a(t, 2))[0], t[1].includes(e))))) === null || void 0 === t ? void 0 : t[0]; }; const eE = function (e) { return e.sort(((e, t) => Os.indexOf(e) - Os.indexOf(t))); }; var Ve = function (e) { const t = new Set(); if ((e = eE(e).slice(0, 3).map(((e) => { let n = kh[e]; if (void 0 === n) throw new rc('invalid area key'); return e = n.CODE, n = Ki(n, cE), t.add(e), n; }))).length === 0) throw new rc('areas cannot be empty'); return Wa({ CODES: t }, e.reduce(((e, t) => { for (let n = 0, r = qh(e); n < r.length; n++) { let o = $a(r[n], 2); const i = o[0]; o = o[1], e[i] = Array.from(new Set([].concat(Z(t[i]), Z(o)))); } return e; }))); }; let fa; var Ps = (function () { const e = ma(N.mark((function e(t, n) { let r; let o; let i; let s; let a; const c = arguments; return N.wrap(((e) => { for (;;) switch (e.prev = e.next) { case 0: if (!((o = c.length > 2 && void 0 !== c[2] ? c[2] : 0) > 2)) { e.next = 3; break; } return e.abrupt('return'); case 3: return i = { withCredentials: !0, body: t, timeout: 2e4 }, s = o > 0 ? (fa == null ? void 0 : fa.LOG_UPLOAD_SERVER[0]) || 'rtm.logservice.sd-rtn.com' : (fa == null ? void 0 : fa.LOG_UPLOAD_SERVER[0]) || 'logservice-rtm.agora.io', a = n ? 'https://'.concat((r = fa == null ? void 0 : fa.PROXY_NGINX[0]) !== null && void 0 !== r ? r : 'webrtc-cloud-proxy.sd-rtn.com', '/ls/?h=').concat(s, '&p=443&d=upload/v1') : 'https://'.concat(s, '/upload/v1'), e.next = 8, lh(a, i).catch(((e) => Ps(t, n, o + 1))); case 8: case 'end': return e.stop(); } }), e); }))); return function (t, n) { return e.apply(this, arguments); }; }()); const Qs = new $D({
    processId: 'process-'.concat(Og), sdkVersion: 'Agora_RTM_SDK_for_Web_'.concat('v1.5.1-0-g5bbbcd72'), uploadRequest: Ps, rtmConfig: {},
  }); const Sl = 'text payload rawMessage thumbnail attributeInfos keys value extra'.split(' '); const Rs = 'account ticket uid detail token account fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip'.split(' '); const Ss = ['serverReceivedTs', 'hasPeerReceived', 'messageType', 'enableNotificationToChannelMembers', 'lastUpdateTs']; const fE = 'ChannelMessage MemberLeft MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined'.split(' '); var We = function (e) { if (typeof e === 'string') return La(e); if (Array.isArray(e) && e.every(((e) => typeof e === 'string'))) return e.map(((e) => La(e))); if (!Mm(e)) { for (var t = {}, n = 0; n < Ss.length; n++) { var r = Ss[n]; r in e && (t[r] = e[r]); } if (Object.keys(t).length > 0) return t; if (Object.keys(e).length < 5) { for (n = 0, e = Object.entries(e); n < e.length; n++) { let o = $a(e[n], 2); r = o[0], o = o[1], Sl.includes(r) ? t[r] = '[Hidden Info]' : t[La(r)] = typeof o === 'string' ? La(o) : '[Sensitive Info]'; } return t; } return '[Sensitive Info]'; } return e; }; const Ts = function (e) { return qa(e) === 'object' ? De(e) ? Zn(He(e, 5), Sl, Rs) : e.constructor && e.constructor.name : e; }; const Us = function (e, t) { return e instanceof Error ? e.message : typeof e !== 'string' ? JSON.stringify(Zn(He(e, 5), Sl, Rs)) : (t = t.map(((e) => (e instanceof Error ? e.message : qa(e) === 'object' ? Ks(Array.isArray(e) ? e.map(Ts) : Ts(e)) : e))), Wn.apply(void 0, [e.replace(/%[%Oo]/g, ((e) => (e === '%%' ? '%' : e === '%o' || e === '%O' ? '%s' : e)))].concat(Z(t)))); }; let gE = 1; const Vs = function (e, t, n) { const r = Ls(e); return r.enabled = !0, r.log = n, r.useColors = !1, function (n) { for (var o = arguments.length, i = Array(o > 1 ? o - 1 : 0), s = 1; s < o; s++)i[s - 1] = arguments[s]; if (t.enableLogUpload) { o = oh(n); var a = Us(o, i); Qs.upload({ log_item_id: ''.concat(gE++), log_level: e, payload_str: '['.concat(hE(), '] ').concat(e, ' - ').concat(a.length > 256 ? a.slice(0, 256) : a) }); } switch (o = function (e) { const t = a || Us(oh(n), i); const o = Ec.LOG_HANDLER; typeof o === 'function' && o({ level: e, message: t }), r(t); }, e) { case 'RTM:INFO': t.logFilter.info && o('log'); break; case 'RTM:WARN': t.logFilter.warn && o('warning'); break; case 'RTM:ERROR': t.logFilter.error && o('error'); break; case 'RTM:TRACK': t.logFilter.track && o('log'); break; case 'RTM:MSG:RECV': case 'RTM:MSG:SEND': t.logFilter.debug && o('debug'); break; case 'RTM:DEBUG': t.logFilter.debug && o('debug'); } }; }; let Tl; const Ws = function (e) { return function (t) { const n = Tl === 1 || void 0 === e ? '' : 'Ins#'.concat(e, ' '); return ''.concat(n).concat(t); }; }; const Ul = function (e, t, n) { const r = Ws(Tl); return Vs('RTM:'.concat(t), n, ((t) => e(r(t)))); }; const sc = function () { return (function (e) { function t(e, r) { const o = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]; va(this, t); const i = n.call(this); if (x(z(i), 'logError', void 0), x(z(i), 'invokeTracker', void 0), x(z(i), 'resultTracker', void 0), x(z(i), 'errorTracker', void 0), x(z(i), 'eventTracker', void 0), x(z(i), 'info', void 0), x(z(i), 'warn', void 0), x(z(i), 'log', void 0), x(z(i), 'genLogger', void 0), x(z(i), 'loggerId', void 0), x(z(i), 'logger', void 0), x(z(i), 'name', void 0), i.logger = e, i.name = r, i.loggerId = e.loggerId, i.info = e.info, i.warn = e.warn, i.logError = e.logError, i.genLogger = e.genLogger, i.log = e.genLogger('RTM:DEBUG', '<'.concat(r, '> ')), i.invokeTracker = e.genTracker('Invoke'), i.eventTracker = e.genTracker('Event'), i.resultTracker = e.genTracker('Result'), i.errorTracker = e.genTracker('Error'), o) { const s = i.emit.bind(z(i)); i.emit = function () { for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)t[n] = arguments[n]; e = t[0], n = t.slice(1); const o = fE.includes(e); i.eventTracker.apply(i, ['%s: '.concat(n.length > 0 ? '%s emitted with args: '.concat(n.map((() => '%o'))) : '%s emitted'), r, e].concat(Z(o ? n.map(We) : n))); try { s.apply(void 0, t); } catch (t) { i.logError('Caught in the callback function of the event %s', e, t); } }; } return i; }Ga(t, e); var n = Ha(t); return t; }(Ba)); }; const iE = function (e) { return Ul(console.log.bind(console), 'INFO', e); }; const jE = function (e) { return Ul(console.warn.bind(console), 'WARN', e); }; const kE = function (e) { return Ul(console.error.bind(console), 'ERROR', e); }; const Xs = function (e, t) { return function (n) { const r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ''; const o = Ws(e); const i = console.debug.bind(console); const s = Vs(n, t, ((e) => i(o(e)))); return function (e) { for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++)n[o - 1] = arguments[o]; return s.apply(void 0, [r + e].concat(n)); }; }; }; const lE = function (e, t) { return function (n) { return Xs(e, t)('RTM:TRACK', '['.concat(n, '] ')); }; }; var Jv = Object.freeze({
    __proto__: null,
    Counter: 1,
    ApiExec: 154,
    Session: 164,
    ApEvent: 165,
    Link: 166,
    Logout: 167,
    TxMessage: 168,
    RxMessage: 169,
    KickedOff: 170,
    TxMessageRes: 171,
    ChnJoin: 172,
    ChnJoinRes: 173,
    ChnLeave: 174,
    ChnGetMembers: 175,
    ChnGetMembersRes: 176,
    ChnMemberJoined: 177,
    ChnMemberLeft: 178,
    QueryPeersOnlineStatus: 179,
    QueryPeersOnlineStatusRes: 180,
    RenewToken: 181,
    OperateAttribute: 186,
    OperateAttributeRes: 187,
    ApRequest: 188,
    LinkTcpEvent: 189,
    LinkLoginRequest: 190,
    ConnectionStateChange: 191,
    RtmSdkMessageCount: 510,
    default: {
      Counter: 1, ApiExec: 154, Session: 164, ApEvent: 165, Link: 166, Logout: 167, TxMessage: 168, RxMessage: 169, KickedOff: 170, TxMessageRes: 171, ChnJoin: 172, ChnJoinRes: 173, ChnLeave: 174, ChnGetMembers: 175, ChnGetMembersRes: 176, ChnMemberJoined: 177, ChnMemberLeft: 178, QueryPeersOnlineStatus: 179, QueryPeersOnlineStatusRes: 180, RenewToken: 181, OperateAttribute: 186, OperateAttributeRes: 187, ApRequest: 188, LinkTcpEvent: 189, LinkLoginRequest: 190, ConnectionStateChange: 191, RtmSdkMessageCount: 510,
    },
  }); let Ka; !(function (e) { e[e.ChannelSMsg = 1] = 'ChannelSMsg', e[e.ChannelRMsg = 2] = 'ChannelRMsg', e[e.P2pSMsgOfflineFlag = 3] = 'P2pSMsgOfflineFlag', e[e.P2pRMsgOfflineFlag = 4] = 'P2pRMsgOfflineFlag', e[e.P2pSMsgNoOfflineFlag = 5] = 'P2pSMsgNoOfflineFlag', e[e.P2pRMsgNoOfflineFlag = 6] = 'P2pRMsgNoOfflineFlag', e[e.P2pCallInvitation = 7] = 'P2pCallInvitation', e[e.P2pCallCancellation = 8] = 'P2pCallCancellation', e[e.P2pCallAcceptance = 9] = 'P2pCallAcceptance', e[e.P2pCallRefusal = 10] = 'P2pCallRefusal'; }(Ka || (Ka = {}))); const zi = (function (e) {
    function t(e, r, o) { return va(this, t), x(z(r = n.call(this, r, 'MessageReport')), 'messagecount', r.getInitMessageCount()), x(z(r), 'context', void 0), x(z(r), 'rtmMessageCategory', void 0), x(z(r), 'seq', P.fromNumber(1, !0)), r.context = e, r.rtmMessageCategory = o, r; }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'incGetSeq', value() { return this.seq = this.seq.add(1); } }, {
      key: 'getInitMessageCount',
      value() {
        return {
          peerack10mscount: P.fromNumber(0), peerack25mscount: P.fromNumber(0), peerack50mscount: P.fromNumber(0), peerack75mscount: P.fromNumber(0), peerack100mscount: P.fromNumber(0), peerack150mscount: P.fromNumber(0), peerack200mscount: P.fromNumber(0), peerack250mscount: P.fromNumber(0), peerack300mscount: P.fromNumber(0), peerack400mscount: P.fromNumber(0), peerack500mscount: P.fromNumber(0), peerack600mscount: P.fromNumber(0), peerack800mscount: P.fromNumber(0), peerack1000mscount: P.fromNumber(0), peerack2000mscount: P.fromNumber(0), peerack3000mscount: P.fromNumber(0), peerack5000mscount: P.fromNumber(0), peerack7000mscount: P.fromNumber(0), peerackslowcount: P.fromNumber(0), norecipientack10mscount: P.fromNumber(0), norecipientack25mscount: P.fromNumber(0), norecipientack50mscount: P.fromNumber(0), norecipientack75mscount: P.fromNumber(0), norecipientack100mscount: P.fromNumber(0), norecipientack150mscount: P.fromNumber(0), norecipientack200mscount: P.fromNumber(0), norecipientack250mscount: P.fromNumber(0), norecipientack300mscount: P.fromNumber(0), norecipientack400mscount: P.fromNumber(0), norecipientack500mscount: P.fromNumber(0), norecipientack600mscount: P.fromNumber(0), norecipientack800mscount: P.fromNumber(0), norecipientack1000mscount: P.fromNumber(0), norecipientack2000mscount: P.fromNumber(0), norecipientack3000mscount: P.fromNumber(0), norecipientack5000mscount: P.fromNumber(0), norecipientack7000mscount: P.fromNumber(0), norecipientackslowcount: P.fromNumber(0), sentcount: P.fromNumber(0), receivedcount: P.fromNumber(0), acktimeoutcount: P.fromNumber(0), toooftencount: 0, receiverofflinecount: 0, invalidmessagecount: 0, unknowerrorcount: 0, servercachedcount: 0, timeoutcount: 0, successcount: 0,
        };
      },
    }, { key: 'updatePeerAckCount', value(e) { e /= 2; for (let t = [[0, 10], [10, 25], [25, 50], [50, 75], [75, 100], [100, 150], [150, 200], [200, 250], [250, 300], [300, 400], [400, 500], [500, 600], [600, 800], [800, 1e3], [1e3, 2e3], [2e3, 3e3], [3e3, 5e3], [5e3, 7e3]], n = 0; n < t.length; n++) { var r; let o = t[n]; if (Is(e, o[0], o[1]))o = 'peerack'.concat(o[1], 'mscount'), this.messagecount[o] = (r = this.messagecount[o]) === null || void 0 === r ? void 0 : r.add(1); else if (e > 7e3) { var i; this.messagecount.peerackslowcount = (i = this.messagecount.peerackslowcount) === null || void 0 === i ? void 0 : i.add(1); } } } }, { key: 'updateNorecipientackCount', value(e) { e /= 2; for (let t = [[0, 10], [10, 25], [25, 50], [50, 75], [75, 100], [100, 150], [150, 200], [200, 250], [250, 300], [300, 400], [400, 500], [500, 600], [600, 800], [800, 1e3], [1e3, 2e3], [2e3, 3e3], [3e3, 5e3], [5e3, 7e3]], n = 0; n < t.length; n++) { var r; let o = t[n]; if (Is(e, o[0], o[1]))o = 'norecipientack'.concat(o[1], 'mscount'), this.messagecount[o] = (r = this.messagecount[o]) === null || void 0 === r ? void 0 : r.add(1); else if (e > 7e3) { var i; this.messagecount.norecipientackslowcount = (i = this.messagecount.norecipientackslowcount) === null || void 0 === i ? void 0 : i.add(1); } } } }, { key: 'updateCommonCount', value(e) { const t = this.messagecount[e]; P.isLong(t) ? this.messagecount[e] = t.add(1) : this.messagecount[e] = t + 1; } }, {
      key: 'report',
      value() {
        let e; let t; bb('RtmSdkMessageCount', new Js(Wa(Wa({}, this.messagecount), {}, {
          vid: P.fromString((e = this.context.vid) !== null && void 0 !== e ? e : '0'), os: 7, lts: P.fromNumber(Date.now()), sid: this.context.sid, reportsequence: this.incGetSeq(), apimajorversion: 4, apiminorversion: 18, userid: this.context.uid, messagecategory: this.rtmMessageCategory,
        })), (t = this.context.config.enableCloudProxy) !== null && void 0 !== t && t), this.messagecount = Wa(Wa({}, this.messagecount), {}, {
          toooftencount: 0, receiverofflinecount: 0, invalidmessagecount: 0, unknowerrorcount: 0, servercachedcount: 0, timeoutcount: 0, successcount: 0,
        });
      },
    }]), t;
  }(sc())); var Un = new Map(); var hE = function () { const e = new Date(); return ''.concat(e.toISOString().split('T')[1].replace(/\..+/, ''), '.').concat(e.getMilliseconds()); }; var Yf = Object.keys; var qh = Object.entries.bind(Object); var oh = function (e) { return typeof e === 'string' ? e.endsWith('.') ? e : ''.concat(e, '.') : e; }; var yj = I.URI; var Nv = wi; const mE = Ki(oD, ['Wrapper']); var bo = ql(mE, 'URI'); const Ys = function (e, t) { let n = -1; let r = e.length; const o = r - 1; for (t = void 0 === t ? r : t; ++n < t;) { const i = e[r = os(n, o)]; e[r] = e[n], e[n] = i; } return e.length = t, e; }; const nE = function (e) { return Ys(Pi(e)); }; const oE = function (e) { return Ys(zj(e)); }; const Cf = function (e) { return (ub(e) ? nE : oE)(e); }; const Df = { 0: 9591, 1: 9593 }; const xe = function (e) { const t = $f(null); return 'https://'.concat(t ? null : e, '/api/v1'); }; const pE = ob.apply(void 0, Z(Cf(['web-1.ap.sd-rtn.com', 'web-2.ap.sd-rtn.com'].map(xe)))); const qE = ob.apply(void 0, Z(Cf(['ap-web-1.agora.io', 'ap-web-2.agora.io'].map(xe)))); const rE = ob.apply(void 0, Z(Cf(['web-3.ap.sd-rtn.com', 'web-4.ap.sd-rtn.com'].map(xe)))); const sE = ob.apply(void 0, Z(Cf(['ap-web-3.agora.io', 'ap-web-4.agora.io'].map(xe)))); const Zs = yi(); const Vl = (function (e) {
    function t(e, r, o, i, s, a) {
      let c; let u; va(this, t); const l = n.call(this, s, uj('Socket-', s.loggerId)); if (x(z(l), 'isActiveClose', !1), x(z(l), 'loggedIn', !1), x(z(l), 'useNewDomain', void 0), x(z(l), 'receivedPacket', new rb()), x(z(l), 'open$', void 0), x(z(l), 'input$', new rb()), x(z(l), 'userJoin$', new rb()), x(z(l), 'attemptsSinceLastError', 0), x(z(l), 'message$', new rb()), x(z(l), 'socket$', void 0), x(z(l), 'toClose', new rb()), x(z(l), 'toReconnect', new rb()), x(z(l), 'sendLogger', void 0), x(z(l), 'receiveLogger', void 0), x(z(l), 'ip', void 0), x(z(l), 'env', void 0), x(z(l), 'ticket', void 0), x(z(l), 'context', void 0), x(z(l), 'getDomain', (() => co(l.ip, l.useNewDomain))), x(z(l), 'socketReconnector', ((e) => { const t = function (e) { return l.attemptsSinceLastError += 1, l.warn('The %s of Env %d reconnecting %s', l.name, l.env, e.message), dd(3e3); }; return e.pipe(ab(((e) => (l.log('socket connection closed'), l.loggedIn = !1, l.attemptsSinceLastError >= 2 ? (l.warn('socket connection failure'), l.emit('connectionFailure'), l.close(), ra(e)) : l.isActiveClose ? Sb : (l.emit('reconnect'), l.useNewDomain = !l.useNewDomain, ra(e))))), Re(((e) => e.pipe(Kb(t))))); })), l.ip = e, l.env = r, l.ticket = o, l.context = i, l.useNewDomain = a != null ? a : Math.random() >= 0.5, l.sendLogger = l.genLogger('RTM:MSG:SEND'), l.receiveLogger = l.genLogger('RTM:MSG:RECV'), r !== 0 && r !== 1) throw new Zs({ ILLEGAL_RTM_ENV: 'The env number is out of rtm env count' }); const f = Df[r]; l.log('Opening websocket address %s for the Env %d', l.ip, l.env), bb('LinkLoginRequest', {
        sid: l.context.sid, userId: l.context.uid, lts: P.fromNumber(Date.now()), elapse: Xa(l.context.startTime), destServerIp: l.ip, linkId: l.env,
      }, (c = l.context.config.enableCloudProxy || l.context.socketUseProxy) !== null && void 0 !== c && c), bb('LinkLoginRequest', {
        sid: l.context.sid, userId: l.context.uid, lts: P.fromNumber(Date.now()), elapse: Xa(l.context.startTime), destServerIp: l.ip, linkId: l.env,
      }, (u = l.context.config.enableCloudProxy || l.context.socketUseProxy) !== null && void 0 !== u && u); const h = Jb(l.input$, l.userJoin$.pipe(Av(2)), l.message$).pipe(Ea(((e) => wi.encode(e).finish()))); return e = Jb(Bv('', { protocols: [], makeWebSocket() { if (l.context.config.enableCloudProxy || l.context.socketUseProxy) { if (l.context.cloudProxyServers.length === 0) throw l.logError('No cloud proxy server to connect'), new Ja(); var e = $f(null) ? JSON.parse(null.replace(/-/g, '.')) : l.context.cloudProxyServers; e = Xe(e = 'wss://'.concat(co(On(e), !1), '/'), 'sid', l.context.sid), e = Xe(e, 'remote_port', f.toString()), e = Xe(e, 'remote_ip', l.ip), e = Xe(e, 'token', l.context.key), e = new WebSocket(e); } else e = new WebSocket('wss://'.concat(l.getDomain(), ':').concat(f)); return e.binaryType = 'arraybuffer', e; } }), l.toReconnect), l.socket$ = fb(e, Dl.pipe(Lb(7e3), ab(((e) => (Ab(e) && l.warn('socket open timed out'), ra(e)))))).pipe(Ea(((e) => { if (e instanceof Error) throw l.warn('Env_%d: Force reconnect the socket', l.env), e; return e(h).pipe(Ea(((e) => wi.decode(new Uint8Array(e))))); })), l.socketReconnector), l.open$ = l.socket$.pipe(sa(((e) => { l.log('Websocket opened', l.name), e.subscribe(((e) => { let t = e.data; e = yj[e.uri].slice(0, -3), t = bo[e].decode(t); const n = eC({}, ql(t, 'toJSON'), ((e, t) => (t instanceof P ? Tn(t) : t))); let r = !1; if ((t instanceof ws || t instanceof vs) && t.instance.lessThanOrEqual(4294967295) && (r = !0), t instanceof xs || t instanceof ys) { const o = t.instance; const i = t.sequence; (t.dialogue.lessThanOrEqual(4294967295) || o.lessThanOrEqual(4294967295) || i.lessThan(1)) && (r = !0); }r ? l.warn('Env_%d: Illegal %s, abandoned %o', l.env, e, n) : (e !== 'Pong' && l.receiveLogger('Env_%d: %s %o', l.env, e, n), l.receivedPacket.next([e, t])); }), (() => {})); })), Uf(void 0), Kc(l.toClose), Se()), l;
    }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'address', get() { return ''.concat(this.ip, ':').concat(Df[this.env]); } }, { key: 'sendPacket', value(e, t) { if (e !== 'Ping') { const n = md(t, ((e) => (e instanceof P ? Tn(e) : e))); this.sendLogger('Env_%d: %s %o', this.env, e, n); }t = Mv(e, t), e === 'UserJoin' ? this.userJoin$.next(t) : e === 'Message' ? this.message$.next(t) : this.input$.next(t); } }, { key: 'close', value() { this.isActiveClose = !0, this.loggedIn = !1, this.toClose.next(); } }, { key: 'fromReceived', value(e) { return this.receivedPacket.pipe(yb(((t) => $a(t, 1)[0] === e)), Ea(((e) => $a(e, 2)[1]))); } }, { key: 'forceReconnect', value() { this.toReconnect.next(new Zs({ FORCE_RECONNECTING: 'Connection seems broken, try force reconnecting' })); } }]), t;
  }(sc())); ea({ target: 'String', proto: !0, forced: As }, { padStart(e) { return qD(this, e, arguments.length > 1 ? arguments[1] : void 0); } }); const tE = function (e) { const t = Yf(kh); e = Lv(e); for (let n = 0; n < t.length; n++) { const r = kh[t[n]]; if (r != null && r.AP_DOMAINS.includes(e) || r != null && r.AP_BACKUP_DOMAINS.includes(e) || r != null && r.PROXY_AP.includes(e)) return [r.CODE]; } return [S.CHINA, S.GLOBAL]; }; const uE = {
    INVALID_APP_ID: 'Illegal App ID', NO_AUTHORIZED: 'Signature verification failed', TOKEN_TIMEOUT: 'Dynamic key expired', INVALID_TOKEN_UID: 'UID in the security key(token) is not valid', APP_ID_NO_ACTIVATED: 'The vendor is not activated', DYNAMIC_KEY_NOT_ENABLED: 'The vendor did not enable the dynamic key, but uses the dynamic key', DYNAMIC_ENABLED_BUT_STATIC_KEY: 'The vendor enabled the dynamic key, but uses the static key', TOKEN_EXPIRED: 'The token has expired', INVALID_USER_ID: 'The user ID to login does not match the token', FORBIDDEN_REGION: 'Forbidden to access the request in this area', CANNOT_MEET_AREA_DEMAND: 'Cannot allocate to meet the requirements of the given area limit',
  }; const $s = {
    5: 'INVALID_APP_ID', 7: 'INVALID_USER_ID', 9: 'NO_AUTHORIZED', 10: 'TOKEN_TIMEOUT', 11: 'APP_ID_NO_ACTIVATED', 12: 'INVALID_TOKEN_UID', 13: 'TOKEN_EXPIRED', 14: 'DYNAMIC_KEY_NOT_ENABLED', 15: 'DYNAMIC_ENABLED_BUT_STATIC_KEY', 18: 'FORBIDDEN_REGION', 19: 'CANNOT_MEET_AREA_DEMAND',
  }; const vE = [100, 101, 102]; const Ai = /web-(\d)/; const at = (function (e) {
    function t(e, r) {
      const o = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]; va(this, t); const i = n.call(this, r, 'AccessPoint'); return x(z(i), 'handleUniLbsError', ((e, t) => { let n = e; if (e.toString().length > 4) { let r = e.toString().padStart(8, '0'); var o = parseInt(r.slice(0, 4), 10); if (r = parseInt(r.slice(4, 8), 10), o === 201)n = r; else if (o === 101 && !vE.includes(r)) return ra(Error('service is currently unavailable')); } if (o = n.toString(), !Object.keys($s).includes(o)) return (e = new Ja(['Login is rejected by the server. The response code is %d', e], Pg)).serverCode = n, ra(e); switch (o = $s[o], n = uE[o], o) { case 'INVALID_APP_ID': case 'APP_ID_NO_ACTIVATED': return (t = new Bf(n, as)).serverCode = e, ra(t); case 'INVALID_USER_ID': return (t = new Bf(n, si)).serverCode = e, ra(t); case 'TOKEN_EXPIRED': case 'TOKEN_TIMEOUT': return (t = new Bf(n, ti)).serverCode = e, ra(t); case 'NO_AUTHORIZED': case 'INVALID_TOKEN_UID': case 'DYNAMIC_KEY_NOT_ENABLED': case 'DYNAMIC_ENABLED_BUT_STATIC_KEY': return (t = new Bf(n, bs)).serverCode = e, ra(t); case 'CANNOT_MEET_AREA_DEMAND': return (t = tE(t)).forEach(((e) => i.failedAreas.add(e))), i.failedAreas.size === (void 0 === fa ? 2 : fa.CODES.size) ? ((t = new ca(n, Pg)).serverCode = e, ra(t)) : ra(Error('ap '.concat(t.join(', '), ' cannot meet requirement'))); case 'FORBIDDEN_REGION': return (t = new Ja(n, Pg)).serverCode = e, ra(t); default: return ra(Rn('ApResErrType', o)); } })), x(z(i), 'getApEdgeInfo$', void 0), x(z(i), 'getApEdgeInfoEndFirst$', void 0), x(z(i), 'apFinish$', new rb()), x(z(i), 'retryCount', 0), x(z(i), 'failedAreas', new Set()), x(z(i), 'usedUrl', []), x(z(i), 'newDomainUsed', !1), x(z(i), 'backupNewDomainUsed', !1), x(z(i), 'genUrl', (() => (void 0 === fa ? ej.apply(void 0, Z(Cf([pE, qE]))).pipe(fj(((e) => ob.apply(void 0, Z(e))))) : ob.apply(void 0, Z(fa.AP_DOMAINS.slice(0, 3).map(xe)))))), x(z(i), 'genBackupUrl', (() => (void 0 === fa ? ej.apply(void 0, Z(Cf([rE, sE]))).pipe(fj(((e) => ob.apply(void 0, Z(e))))) : ob.apply(void 0, Z(fa.AP_BACKUP_DOMAINS.slice(0, 3).map(xe)))))), x(z(i), 'getApUrl$', ((e) => { let n; let r; return i.genUrl().pipe(yb(((e) => (!i.newDomainUsed || !e.includes('sd-rtn.com')) && (e.includes('sd-rtn.com') && (i.newDomainUsed = !0), !Ol(i.usedUrl, ((t) => { let n; return t === ((n = e.match(Ai)) === null || void 0 === n ? void 0 : n[1]); }))))), sa(((e) => { let t; void 0 === fa && (typeof (e = (t = e.match(Ai)) === null || void 0 === t ? void 0 : t[1]) === 'string' && i.usedUrl.push(e)); })), hb(e ? Math.max(Ec.RECONNECTING_AP_NUM, (n = fa == null ? void 0 : fa.CODES.size) !== null && void 0 !== n ? n : 0) : (r = fa == null ? void 0 : fa.CODES.size) !== null && void 0 !== r ? r : 2), $d((() => t.runOutOfUrlSymbol)), ab(((e, n) => (i.newDomainUsed = !1, e === t.runOutOfUrlSymbol ? (i.usedUrl = [], n) : ra(e))))); })), x(z(i), 'getBackupApUrl$', ((e) => { let n; let r; return i.genBackupUrl().pipe(yb(((e) => (!i.backupNewDomainUsed || !e.includes('sd-rtn.com')) && (e.includes('sd-rtn.com') && (i.backupNewDomainUsed = !0), !Ol(i.usedUrl, ((t) => { let n; return t === ((n = e.match(Ai)) === null || void 0 === n ? void 0 : n[1]); }))))), sa(((e) => { let t; void 0 === fa && (typeof (e = (t = e.match(Ai)) === null || void 0 === t ? void 0 : t[1]) === 'string' && i.usedUrl.push(e)); })), hb(e ? Math.max(Ec.RECONNECTING_AP_NUM, (n = fa == null ? void 0 : fa.CODES.size) !== null && void 0 !== n ? n : 0) : (r = fa == null ? void 0 : fa.CODES.size) !== null && void 0 !== r ? r : 2), $d((() => t.runOutOfUrlSymbol)), ab(((e, n) => (i.backupNewDomainUsed = !1, e === t.runOutOfUrlSymbol ? (i.usedUrl = [], n) : ra(e))))); })), x(z(i), 'getProxyApUrl$', ((e) => { let t; let n; return ob.apply(void 0, Z(((fa == null ? void 0 : fa.PROXY_AP.slice(0, 3)) || ['ap-proxy-1.agora.io', 'ap-proxy-2.agora.io']).map(xe))).pipe(hb(e ? Math.max(Ec.RECONNECTING_AP_NUM, (t = fa == null ? void 0 : fa.CODES.size) !== null && void 0 !== t ? t : 0) : (n = fa == null ? void 0 : fa.CODES.size) !== null && void 0 !== n ? n : 2)); })), x(z(i), 'context', void 0), x(z(i), 'fetchCloudProxy', ((e, t) => {
        const n = uj('AP-', i.loggerId); i.log('The AccessPoint requests %s(%s)', e, n); let r; const o = new AbortController(); return i.apFinish$.pipe(hb(1)).subscribe((() => o.abort())), yd(ma(N.mark((function r() {
          let s; let a; return N.wrap(((r) => {
            for (;;) {
              switch (r.prev = r.next) {
                case 0: return a = mh(0, Number.MAX_SAFE_INTEGER), i.log('%s request opid: %d', n, a), bb('ApRequest', {
                  sid: i.context.sid, userId: i.context.uid, lts: P.fromNumber(Date.now()), elapse: Xa(i.context.startTime), apAddr: e, opId: P.fromNumber(a), envId: 0, flag: 128,
                }, (s = i.context.config.enableCloudProxy) !== null && void 0 !== s && s), r.abrupt('return', lh(e, {
                  headers: { 'X-Packet-Service-Type': '0', 'X-Packet-URI': '90', 'Content-Type': 'application/json' },
                  body: {
                    sid: i.context.sid,
                    opid: a,
                    appid: i.context.appId,
                    client_ts: Math.ceil(Date.now() / 1e3),
                    request_bodies: [{
                      uri: 22,
                      buffer: {
                        service_ids: [7, 16],
                        key: t != null ? t : i.context.key,
                        cname: i.context.uid,
                        uid: 0,
                        detail: Wa({}, void 0 === fa ? { 11: [S.CHINA, S.GLOBAL].join(), 12: '1' } : {
                          11: Array.from(fa.CODES).map(((e) => (e === S.OVERSEA ? ''.concat(S.ASIA, ',').concat(S.EUROPE, ',').concat(S.AFRICA, ',').concat(S.NORTH_AMERICA, ',')
                            .concat(S.SOUTH_AMERICA, ',')
                            .concat(S.OCEANIA) : e))).join(','),
                          12: '1',
                        }),
                      },
                    }],
                  },
                  signal: o.signal,
                })); case 4: case 'end': return r.stop();
              }
            }
          }), r);
        })))).pipe(ab(((t) => (t.name !== 'AbortError' && (i.logError(t), i.warn('The AP server %s request failure', e, t)), Sb))), Cb((r = ma(N.mark((function t(r) { let o; let s; let a; let c; let u; let l; let f; let h; let p; let d; let b; let g; let v; let y; let m; let E; let w; let O; let _; return N.wrap(((t) => { for (;;) switch (t.prev = t.next) { case 0: if (o = r.responseText, s = JSON.parse(o), i.log('The %s response is %o', n, s), (void 0 === (a = s.response_body) || a.length === 0 || a.some(((e) => { let t; return void 0 === ((t = e.buffer) === null || void 0 === t ? void 0 : t.code) || e.uri !== 23; }))) && ra(new Ja('cloud proxy response_body not valid', Pg)), (c = a.filter(((e) => e.buffer.code !== 0))).length === 0) { t.next = 14; break; } if (void 0 === (u = c.find(((e) => e.buffer.flag === 128)))) { t.next = 12; break; } return t.abrupt('return', i.handleUniLbsError(u.buffer.code, e)); case 12: return i.logError('cloud proxy error response'), t.abrupt('return', i.handleUniLbsError(c[0].buffer.code, e)); case 14: for (l = [], f = 0; f < a.length; f++) if (((d = a[f]) == null || (h = d.buffer) === null || void 0 === h ? void 0 : h.flag) === 262144)(b = d.buffer) === null || void 0 === b || (g = b.edges_services) === null || void 0 === g || (v = g.forEach) === null || void 0 === v || v.call(g, ((e) => { Pn(e = e.ip) && i.context.cloudProxyServers.indexOf(e) === -1 && (i.log('got cloud proxy server: %s', e), i.context.cloudProxyServers.push(e)); })); else if ((d == null || (p = d.buffer) === null || void 0 === p ? void 0 : p.flag) === 128) { for (w = function (e, t) { const n = t[e]; l.some(((e) => e.ip === n.ip)) || l.push({ ip: n.ip, ticket: d.buffer.cert }); }, O = 0, _ = d.buffer.edges_services; O < _.length; O++)w(O, _); i.context.rtmArea = (y = (m = d.buffer) === null || void 0 === m || (E = m.detail) === null || void 0 === E ? void 0 : E[9]) !== null && void 0 !== y ? y : ''; } return t.abrupt('return', ob.apply(void 0, Z(l).concat([Mg]))); case 19: case 'end': return t.stop(); } }), t); }))), function (e) { return r.apply(this, arguments); })), ab(((e) => (Na(e) ? ra(e) : Sb))), bh(), yb(((e) => void 0 !== e && typeof e.ip === 'string' && typeof e.ticket === 'string' && Pn(e.ip))));
      })), x(z(i), 'fetchAp', ((e, t) => {
        const n = uj('AP-', i.loggerId); i.log('The AccessPoint requests %s(%s)', e, n); const r = new AbortController(); i.apFinish$.pipe(hb(1)).subscribe((() => r.abort())); let o; const s = mh(0, Number.MAX_SAFE_INTEGER); return yd(ma(N.mark((function o() {
          let a; return N.wrap(((o) => {
            for (;;) {
              switch (o.prev = o.next) {
                case 0: return i.log('%s request opid: %d', n, s), bb('ApRequest', {
                  sid: i.context.sid, userId: i.context.uid, lts: P.fromNumber(Date.now()), elapse: Xa(i.context.startTime), apAddr: e, opId: P.fromNumber(s), envId: 0, flag: 128,
                }, (a = i.context.config.enableCloudProxy) !== null && void 0 !== a && a), o.abrupt('return', lh(e, {
                  headers: { 'X-Packet-Service-Type': '0', 'X-Packet-URI': '69', 'Content-Type': 'application/json' },
                  body: {
                    flag: 128,
                    opid: s,
                    key: t || i.context.key,
                    cname: i.context.uid,
                    detail: Wa({}, void 0 === fa ? { 11: [S.CHINA, S.GLOBAL].join(), 12: '1' } : {
                      11: Array.from(fa.CODES).map(((e) => (e === S.OVERSEA ? ''.concat(S.ASIA, ',').concat(S.EUROPE, ',').concat(S.AFRICA, ',').concat(S.NORTH_AMERICA, ',')
                        .concat(S.SOUTH_AMERICA, ',')
                        .concat(S.OCEANIA) : e))).join(','),
                      12: '1',
                    }),
                    uid: 0,
                    sid: i.context.sid,
                  },
                  signal: r.signal,
                })); case 3: case 'end': return o.stop();
              }
            }
          }), o);
        })))).pipe(ab(((t) => (t.name !== 'AbortError' && (i.logError(t), i.warn('The AP server %s request failure', e, t)), Sb))), Cb((o = ma(N.mark((function t(r) {
          let o; let a; let c; let u; let l; let f; let h; let p; let d; return N.wrap(((t) => {
            for (;;) {
              switch (t.prev = t.next) {
                case 0: if (a = r.responseText, c = JSON.parse(a), i.log('The %s response is %o', n, c), l = (u = c).code, f = u.addresses, h = u.detail, i.context.vid = h[8], bb('ApEvent', {
                  sid: i.context.sid, userId: i.context.uid, lts: P.fromNumber(Date.now()), elapse: Xa(i.context.startTime), apAddr: e, linkServerList: f.map(((e) => e.ip)), serverErrCode: l, flag: 128, envId: 0, opId: P.fromNumber(s), errCode: 0, area: h[9], isp: h[2],
                }, (o = i.context.config.enableCloudProxy) !== null && void 0 !== o && o), i.info(c), l === 0) { t.next = 9; break; } return t.abrupt('return', i.handleUniLbsError(l, e)); case 9: if (p = f, $f(null) && (d = JSON.parse(null.replace(/-/g, '.')), p = d.map(((e) => ({ ip: e, ticket: p[0].ticket })))), p.length !== 0) { t.next = 14; break; } return t.abrupt('return', ra(Error('No available edge address to connect'))); case 14: return i.context.rtmArea = h == null ? void 0 : h[9], t.abrupt('return', ob.apply(void 0, Z(p).concat([Mg]))); case 16: case 'end': return t.stop();
              }
            }
          }), t);
        }))), function (e) { return o.apply(this, arguments); })), bh(), ab(((e) => (Na(e) ? ra(e) : Sb))), yb(((e) => void 0 !== e && typeof e.ip === 'string' && typeof e.ticket === 'string')));
      })), i.context = e, i.getApEdgeInfoEndFirst$ = function () { const e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; return dd(0, e || o ? Ec.RECONNECTING_AP_INTERVAL : 2e3).pipe(hb(1), sa((() => { i.retryCount += 1; })), Cb((() => (i.context.config.enableCloudProxy || i.context.socketUseProxy ? i.getProxyApUrl$(e || o) : (i.retryCount >= 4 && (i.retryCount = 0), i.retryCount <= 3 ? i.getApUrl$(e || o) : i.getBackupApUrl$(e || o))))), Cb(((e) => (i.context.config.enableCloudProxy || i.context.socketUseProxy ? i.fetchCloudProxy(e) : i.fetchAp(e)))), ab(((e) => (e instanceof Tb && i.warn('AP request timeout'), ra(e)))), tn(((e) => e.ip)), Kc(i.apFinish$)); }, i.getApEdgeInfo$ = function (e) { return dd(0, e || o ? Ec.RECONNECTING_AP_INTERVAL : 2e3).pipe(hb(8), sa((() => { i.retryCount += 1; })), Cb((() => (i.context.config.enableCloudProxy || i.context.socketUseProxy ? i.getProxyApUrl$(e || o) : i.retryCount <= 3 ? i.getApUrl$(e || o) : i.getBackupApUrl$(e || o)))), Cb(((e) => (i.context.config.enableCloudProxy || i.context.socketUseProxy ? i.fetchCloudProxy(e) : i.fetchAp(e)).pipe())), ab(((e) => (e instanceof Tb && i.warn('AP request timeout'), ra(e)))), tn(((e) => e.ip)), Kc(i.apFinish$)); }, i;
    }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'clearUp', value() { this.failedAreas.clear(), this.retryCount = 0; } }]), t;
  }(sc())); x(at, 'runOutOfUrlSymbol', Symbol('AP urls are used up')); const bt = yi(); const ct = (function (e) { function t(e, r, o) { va(this, t); const i = n.call(this, r, 'Connection'); x(z(i), 'apClient', void 0), x(z(i), 'lastOpenSockets', [new Te(1), new Te(1)]), x(z(i), 'curOpenSockets', [void 0, void 0]), x(z(i), 'ipIterator', 0), x(z(i), 'loginSocketOpenFailureCount', 0), x(z(i), 'firstEnv', Math.random() >= 0.5 ? 1 : 0), x(z(i), 'firstSocketOpener', void 0), x(z(i), 'secondSocketOpener', void 0), x(z(i), 'firstOpenKeeperSubject', new rb()), x(z(i), 'secondOpenKeeperSubject', new rb()), x(z(i), 'blacklistedIP', {}), x(z(i), 'edgeInfoReplayed', void 0), x(z(i), 'firstEnvOpenSocket', void 0), x(z(i), 'firstOpenKeeperSub', void 0), x(z(i), 'secondOpenKeeperSub', void 0), x(z(i), 'context', void 0), x(z(i), 'logger', void 0), i.context = e, i.logger = r, i.apClient = new at(i.context, r), i.apClient.apFinish$.subscribe((() => { i.log('Ap client fetch finished'); })); let s; const a = []; return i.edgeInfoReplayed = i.apClient.getApEdgeInfo$(o).pipe(Re(((e) => e.pipe(sa(((e) => { if (Na(e)) throw e; })), Zd(o ? ue.getParameter('RECONNECTING_AP_INTERVAL') : 900), Kc(dd(2e4))))), yb(((e) => { let t; return !Ol(a, e) && ((t = i.blacklistedIP[e.ip]) !== null && void 0 !== t ? t : 0) <= 1; })), $d((() => new bt({ AP_NO_AVAILABLE_EDGE: 'No available edge address to connect' }))), sa(((e) => { a.push(e), i.log('An edge info got %o', e); })), sa({ error(e) { i.emit('connectionInitFailure', e); } }), fh((() => { i.apClient.clearUp(); })), wn()), i.firstEnvOpenSocket = i.edgeInfoReplayed.pipe(Cb(((e) => { if (void 0 === e) return ra(Error('Invalid edge info')); const t = new Vl(e.ip, i.firstEnv, e.ticket, i.context, r, s); if (i.firstEnv = i.firstEnv === 1 ? 0 : 1, t.once('connectionFailure', (() => i.onSocketConnectionFailure(t))), !o && Ec.ENABLE_EDGE_AUTO_FALLBACK && !i.context.config.enableCloudProxy) { let n; const a = Date.now(); t.on('reconnect', (() => { let e; i.loginSocketOpenFailureCount += 1, (e = n) !== null && void 0 !== e || (n = Date.now() - a), n < 500 && i.loginSocketOpenFailureCount > 1 && (i.context.socketUseProxy = !0); })); } return s = !t.useNewDomain, t.open$.pipe(Uf(t)); })), sa(((e) => { i.log('The websocket of ENV_%d opened to %s:%d', e.env, e.ip, Df[e.env]), i.curOpenSockets[e.env] = e, i.lastOpenSockets[e.env].next(e), i.firstEnv = e.env, i.openSecondSocket(e.env, e.ip, e.useNewDomain); })), hb(1), Se()), i.firstSocketOpener = i.firstEnvOpenSocket.pipe(Cb(((e) => e.open$.pipe(sa((() => { i.log('The websocket of first ENV_%d re-opened to %s:%d', e.env, e.ip, Df[e.env]), i.curOpenSockets[e.env] = e, i.lastOpenSockets[e.env].next(e); })))))), e = i.firstOpenKeeperSubject.pipe(Kb(wd)), i.firstOpenKeeperSub = e.subscribe({ error: i.logError }), i; }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'initConnection', value() { this.firstOpenKeeperSubject.next(this.firstSocketOpener); } }, { key: 'closeSocket', value(e, t) { if (![0, 1].includes(e)) throw new mb({ INVALID_ENV: 'The env argument is not 0 or 1' }); const n = e === this.firstEnv ? this.firstOpenKeeperSub : this.secondOpenKeeperSub; this.firstOpenKeeperSub = void 0; const r = this.curOpenSockets[e]; this.curOpenSockets[e] = void 0, r && (r.isActiveClose = !0, setTimeout((() => { r.close(); }), t)), void 0 !== n && setTimeout((() => { n == null || n.unsubscribe(); }), t); } }, { key: 'waitClosing', value(e) { const t = this; return e.isActiveClose = !0, e.open$.pipe(ev(), ab(((e) => (e.message === ns.normalClosureMessage ? Sb : ra(e)))), Lb(5e3), ab(((n) => (n instanceof Tb ? (t.warn('Force closing the ENV_%d connection', e.env), Sb) : ra(n))))); } }, { key: 'onSocketConnectionFailure', value(e) { let t = [0, 1].filter(((t) => t !== e.env))[0]; (t = this.curOpenSockets[t]) && t.loggedIn ? this.reopenSocketWithApRequest(e.env) : this.emit('socketsFailure'); } }, { key: 'openSecondSocket', value(e, t, n) { const r = this; const o = e === 1 ? 0 : 1; this.secondSocketOpener = this.edgeInfoReplayed.pipe(vn(((e, t) => [].concat(Z(e), [t])), []), Ea(((e) => ls(e, ((e) => Sn(t, e.ip))).slice(-1)[0])), hb(1), Cb(((e) => { if (void 0 === e) return ra(Error('Invalid edge info')); const t = new Vl(e.ip, o, e.ticket, r.context, r.logger, n); return t.on('connectionFailure', (() => r.onSocketConnectionFailure(t))), t.open$.pipe(sa((() => { r.lastOpenSockets[o].next(t), r.curOpenSockets[o] = t; }))); })), Se()), this.secondOpenKeeperSub = this.secondOpenKeeperSubject.pipe(Kb(wd)).subscribe({ error: this.logError }), this.secondOpenKeeperSubject.next(this.secondSocketOpener); } }, { key: 'reopenSocketWithApRequest', value(e) { const t = this; let n = [0, 1].filter(((t) => t !== e))[0]; if (void 0 !== (n = this.curOpenSockets[n])) { let r; const o = n.ip; n = this.apClient.getApEdgeInfoEndFirst$(!0).pipe($d((() => new bt({ AP_NO_AVAILABLE_EDGE: 'No available edge address to connect' }))), Re(((e) => e.pipe(sa(((e) => { if (e.code === ti)t.emit('tokenExpired'), t.apClient.apFinish$.next(void 0); else if (Na(e)) throw e; })), Zd(ue.getParameter('RECONNECTING_AP_INTERVAL')), Kc(dd(15e3))))), sa(((e) => { t.log('An edge info got %o', e); })), fh((() => { t.apClient.clearUp(); }))).pipe(vn(((e, t) => [].concat(Z(e), [t])), []), Ea(((e) => ((e = ls(e, ((e) => Sn(o, e.ip)))).length - 1 >= t.ipIterator ? e.slice(-t.ipIterator++ - 1)[0] : (t.ipIterator = 0, e.slice(-1)[0])))), $d(), Cb(((n) => { if (void 0 === n) return ra(Error('Invalid edge info')); const o = new Vl(n.ip, e, n.ticket, t.context, t.logger, r); return o.on('connectionFailure', (() => t.onSocketConnectionFailure(o))), r = !o.useNewDomain, o.open$.pipe(Uf(o)); })), sa(((n) => { t.log('The websocket of ENV_%d re-opened to %s:%d using ap', n.env, n.ip, Df[n.env]), t.curOpenSockets[e] = n, t.lastOpenSockets[e].next(n); })), Cb(((n) => n.open$.pipe(sa((() => { t.log('The websocket of ENV_%d re-opened to %s:%d', n.env, n.ip, Df[n.env]), t.curOpenSockets[e] = n, t.lastOpenSockets[e].next(n); }))))), Se()), e === this.firstEnv ? this.firstOpenKeeperSubject.next(n) : this.secondOpenKeeperSubject.next(n); } } }]), t; }(sc())); const xE = (function (e) { function t(e, r, o) { return va(this, t), x(z(o = n.call(this, o, 'Context')), '_token', void 0), x(z(o), 'config', void 0), x(z(o), '_uid', void 0), x(z(o), '_sid', void 0), x(z(o), '_vid', void 0), x(z(o), '_startTime', void 0), x(z(o), '_area', 'CN'), x(z(o), '_socketUseProxy', !1), x(z(o), 'appId', void 0), x(z(o), 'enableCloudProxy', !1), x(z(o), 'cloudProxyServers', []), o.appId = e, o.config = r, o; }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'socketUseProxy', get() { return this._socketUseProxy && Ec.ENABLE_EDGE_AUTO_FALLBACK; }, set(e) { this.log('socketUseProxy is set to %s', e), this._socketUseProxy = e; } }, { key: 'token', set(e) { this._token = typeof e === 'string' && e ? e : void 0; } }, { key: 'uid', get() { if (typeof this._uid === 'string' && this._uid) return this._uid; throw new rc('Cannot get illegal uid'); }, set(e) { if (this.log('The user ID is set to %s', La(e)), !Ta(e)) throw new rc(); this._uid = e; } }, { key: 'vid', get() { if (typeof this._vid === 'string' && this._vid) return this._vid; throw new rc('Cannot get illegal vid'); }, set(e) { this._vid = e; } }, { key: 'key', get() { if (typeof this._token === 'string' && this._token) return this._token; if (typeof this.appId === 'string' && this.appId) return this.appId; throw new rc('Cannot get illegal key'); } }, { key: 'sid', get() { if (typeof this._sid === 'string' && this._sid) return this._sid; throw new rc('Cannot get illegal sid'); }, set(e) { if (this.log('sid is set to %s', e), typeof e !== 'string' || !e) throw new rc(); this._sid = e; } }, { key: 'startTime', get() { if (typeof this._startTime === 'number' && this._startTime) return this._startTime; throw new rc('Cannot get illegal startTime'); }, set(e) { if (this.log('startTime is set to %s', e), typeof e !== 'number' || !e) throw new rc(); this._startTime = e; } }, { key: 'rtmArea', get() { if (typeof this._area === 'string' && this._area) return this._area; throw new rc('Cannot get illegal area'); }, set(e) { this.log('area is set to %s', e), typeof e === 'string' && e ? this._area = e : this.warn('set area failed'); } }]), t; }(sc())); Sp('of', (function () { for (var e = 0, t = arguments.length, n = new (qf(this))(t); t > e;)n[e] = arguments[e++]; return n; }), rk); const yE = Math.max; var Pv = function (e, t, n) { const r = Object(e); if (!ae(e)) { var o = wf(t); e = Wd(e), t = function (e) { return o(r[e], e, r); }; } return (t = (function (e, t, n) { const r = e == null ? 0 : e.length; if (!r) return -1; if (n == null)n = 0; else { const o = (n = Rl(n)) % 1; n = n == n ? o ? n - o : n : 0; } return n < 0 && (n = yE(r + n, 0)), Yq(e, wf(t), n); }(e, t, n))) > -1 ? r[o ? e[t] : t] : void 0; }; var Ov = function (e, t) { return e && e.length ? fl(e, void 0, typeof t === 'function' ? t : void 0) : []; }; const dt = (function () {
    function e() { va(this, e), x(this, 'size', 0), x(this, 'fields', new Map()); } return eb(e, [{
      key: 'define',
      value(e, t, n) {
        if (this.size += n, this.size > 64) throw new RangeError('the struct over 64 bits is not supported'); th(t = {
          val: 0, isNumber: t === 'number', isBoolean: t === 'boolean', oneof: t === 'number' || t === 'boolean' ? void 0 : t, len: n,
        }), this.fields.set(e, t);
      },
    }, { key: 'set', value(e, t) { if (!(e = this.fields.get(e))) throw Error('field not found'); const n = e.oneof; if (!P.isLong(t) && typeof t !== 'number') if (typeof t === 'boolean')t = t ? 1 : 0; else { if (void 0 === n) throw Error('invalid field type'); if (void 0 === (t = n[t])) throw Error('field type not found'); }th(e, t), e.val = t; } }, { key: 'toNumber', value() { for (var e = 0, t = 0, n = 0, r = Array.from(this.fields); n < r.length; n++) { let o = $a(r[n], 2)[1]; const i = o.len; void 0 !== (o = o.val) && (e += P.fromValue(o).shiftLeft(t).toNumber(), t += i); } return e; } }, { key: 'toLong', value() { for (var e = P.fromNumber(0, !0), t = 0, n = 0, r = Array.from(this.fields); n < r.length; n++) { let o = $a(r[n], 2)[1]; const i = o.len; void 0 !== (o = o.val) && (e = P.fromValue(o).shiftLeft(t).add(e), t += i); } return e; } }, { key: 'assert', value(e, t) { function n(e) { if (!P.isLong(e) && typeof e !== 'number') if (typeof e === 'boolean')e = e ? 1 : 0; else { if (void 0 === o) throw Error('invalid field type'); if (void 0 === (e = o[e])) throw Error('field type not found'); } return th(r, e), sh(e, r.val); } var r = this.fields.get(e); if (!r) throw Error('field not found'); var o = r.oneof; if (!Array.isArray(t)) return n(t); if (t.length === 1) return n(t[0]); if (t.every(((e) => typeof e === 'string')) && void 0 !== o) return t.some(((e) => n(e))); throw Error('invalid valueTypes'); } }, { key: 'from', value(e) { e = P.fromValue(e); for (let t = 0, n = 0, r = Array.from(this.fields); n < r.length; n++) { const o = $a(r[n], 2)[1]; const i = o.len; let s = P.fromNumber(Math.pow(2, i) - 1, !0).shiftLeft(t); th(o, s = e.and(s).shiftRightUnsigned(t)), o.val = s, t += i; } } }, { key: 'typeOf', value(e) { if (void 0 !== (e = this.fields.get(e))) { let t = e.oneof; if (e = e.val, void 0 !== t) { let n = 0; for (t = Object.entries(t); n < t.length; n++) { const r = $a(t[n], 2); const o = r[0]; if (sh(e, r[1])) return o; } } } throw new TypeError('can only get type of oneof type'); } }]), e;
  }()); const et = (function (e) { function t(e) { va(this, t); const r = n.call(this); return r.define('Rejoin', 'boolean', 1), r.define('Unused', 'number', 31), r.define('Platform', 'number', 8), r.define('Version', 'number', 12), r.define('Subversion', 'number', 12), r.set('Platform', 7), r.set('Version', 4), r.set('Subversion', 18), r.set('Rejoin', e), r; }Ga(t, e); var n = Ha(t); return t; }(dt)); const zE = Wa(Wa({}, { PeerTextMessage: 0, ChannelTextMessage: 1, VendorTextMessage: 2 }), { PeerRawMessage: 3, ChannelRawMessage: 4, VendorRawMessage: 5 }); const ft = {
    CallInvite: 101, CallAccept: 102, CallReject: 103, CallCancel: 104,
  }; const AE = Wa(Wa({}, zE), ft); const BE = { Uncompressed: 0, Zlib: 1 }; const Ef = (function (e) { function t(e) { va(this, t); const r = n.call(this); if (r.define('MessageType', AE, 8), r.define('BroadcastJumps', 'number', 2), r.define('ToCache', 'boolean', 1), r.define('FromCache', 'boolean', 1), r.define('CompressionMethod', BE, 2), r.define('IterationNumber', 'number', 4), r.define('BufferedMessage', 'boolean', 1), r.define('ToArchive', 'boolean', 1), r.define('FromArchive', 'boolean', 1), typeof e === 'number' || P.isLong(e))r.from(e); else if (void 0 !== e) { let o = 0; for (e = qh(e); o < e.length; o++) { const i = $a(e[o], 2); r.set(i[0], i[1]); } } return r; }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'isTextMessage', value() { return this.assert('MessageType', ['PeerTextMessage', 'ChannelTextMessage', 'VendorTextMessage']); } }, { key: 'isRawMessage', value() { return this.assert('MessageType', ['ChannelRawMessage', 'PeerRawMessage', 'VendorRawMessage']); } }, { key: 'isRawPeerMessage', value() { return this.assert('MessageType', 'PeerRawMessage'); } }, { key: 'isRawChannelMessage', value() { return this.assert('MessageType', 'ChannelRawMessage'); } }, { key: 'isPeerTextMessage', value() { return this.assert('MessageType', 'PeerTextMessage'); } }, { key: 'isChannelTextMessage', value() { return this.assert('MessageType', 'ChannelTextMessage'); } }, { key: 'isInvitation', value(e) { const t = this; return void 0 !== e ? this.assert('MessageType', e) : Yf(ft).some(((e) => t.assert('MessageType', e))); } }, { key: 'isPeerMessage', value() { return this.assert('MessageType', ['PeerTextMessage', 'PeerRawMessage']); } }, { key: 'isZlibCompressed', value() { return this.assert('CompressionMethod', 'Zlib'); } }, { key: 'isFromCache', value() { return this.assert('FromCache', !0); } }, { key: 'isBufferedMessage', value() { return this.assert('BufferedMessage', !0); } }, { key: 'getInvitationType', value() { if (!this.isInvitation()) throw new TypeError('cannot get InvitationType of a normal message type'); return this.typeOf('MessageType'); } }]), t; }(dt)); const CE = (function (e) { function t(e) { return va(this, t), x(z(e = n.call(this, e, 'ChatManager')), 'dialogueLru', new xz(void 0, { maxlen: 1e4, ttl: 1e4 })), e; }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'getChatInfo', value(e) { let t = this.dialogueLru.get(e); if (this.dialogueLru.prune(), t) { var n = t.dialogue; const r = { dialogue: n, sequence: t = t.sequence.add(1) }; return this.dialogueLru.set(e, { dialogue: n, sequence: t }), r; } return n = { dialogue: nh(), sequence: P.fromNumber(1, !0) }, this.dialogueLru.set(e, n), n; } }]), t; }(sc())); const G = {}; (typeof module === 'undefined' ? 'undefined' : qa(module)) == 'object' && (module.exports = G), G.parse = function (e, t) { let n; const r = G.bin.readUshort; const o = G.bin.readUint; const i = {}; for (n = (e = new Uint8Array(e)).length - 4; o(e, n) != 101010256;)n--; const s = r(e, n = n + 4 + 4); r(e, n += 2), o(e, n += 2), n = o(e, n += 4); for (let a = 0; a < s; a++) { o(e, n), n += 4, n += 4, n += 4, o(e, n += 4); const c = o(e, n += 4); const u = o(e, n += 4); const l = r(e, n += 4); const f = r(e, n + 2); const h = r(e, n + 4); n += 6; const p = o(e, n += 8); n += 4, n += l + f + h, G._readLocal(e, p, i, c, u, t); } return i; }, G._readLocal = function (e, t, n, r, o, i) { let s = G.bin.readUshort; let a = G.bin.readUint; a(e, t), s(e, t += 4), s(e, t += 2); const c = s(e, t += 2); a(e, t += 2), a(e, t += 4), a = s(e, t = t + 4 + 8); const u = s(e, t += 2); if (t += 2, s = G.bin.readUTF8(e, t, a), t = t + a + u, i)n[s] = { size: o, csize: r }; else if (e = new Uint8Array(e.buffer, t), c == 0)n[s] = new Uint8Array(e.buffer.slice(t, t + r)); else { if (c != 8) throw `unknown compression method: ${c}`; t = new Uint8Array(o), G.inflateRaw(e, t), n[s] = t; } }, G.inflateRaw = function (e, t) { return G.F.inflate(e, t); }, G.inflate = function (e, t) { return e[0], e[1], G.inflateRaw(new Uint8Array(e.buffer, e.byteOffset + 2, e.length - 2), t); }, G.deflate = function (e, t) { t == null && (t = { level: 6 }); let n = 0; const r = new Uint8Array(50 + Math.floor(1.1 * e.length)); return r[n] = 120, r[n + 1] = 156, n = G.F.deflateRaw(e, r, n + 2, t.level), e = G.adler(e, 0, e.length), r[n + 0] = e >>> 24 & 255, r[n + 1] = e >>> 16 & 255, r[n + 2] = e >>> 8 & 255, r[n + 3] = e >>> 0 & 255, new Uint8Array(r.buffer, 0, n + 4); }, G.deflateRaw = function (e, t) { t == null && (t = { level: 6 }); const n = new Uint8Array(50 + Math.floor(1.1 * e.length)); var r = G.F.deflateRaw(e, n, r, t.level); return new Uint8Array(n.buffer, 0, r); }, G.encode = function (e, t) {
    t == null && (t = !1); let n; let r = 0; const o = G.bin.writeUint; const i = G.bin.writeUshort; let s = {}; for (n in e) {
      var a = !G._noNeed(n) && !t; var c = e[n]; var u = G.crc.crc(c, 0, c.length); s[n] = {
        cpr: a, usize: c.length, crc: u, file: a ? G.deflateRaw(c) : c,
      };
    } for (n in s)r += s[n].file.length + 30 + 46 + 2 * G.bin.sizeUTF8(n); for (n in e = new Uint8Array(r + 22), t = 0, c = [], s)u = s[n], c.push(t), t = G._writeHeader(e, t, n, u, 0); for (n in r = 0, a = t, s)u = s[n], c.push(t), t = G._writeHeader(e, t, n, u, 1, c[r++]); return s = t - a, o(e, t, 101010256), i(e, t = t + 4 + 4, r), i(e, t += 2, r), o(e, t += 2, s), o(e, t + 4, a), e.buffer;
  }, G._noNeed = function (e) { return e = e.split('.').pop().toLowerCase(), 'png,jpg,jpeg,zip'.indexOf(e) != -1; }, G._writeHeader = function (e, t, n, r, o, i) { const s = G.bin.writeUint; const a = G.bin.writeUshort; const c = r.file; return s(e, t, o == 0 ? 67324752 : 33639248), t += 4, o == 1 && (t += 2), a(e, t, 20), a(e, t += 2, 0), a(e, t += 2, r.cpr ? 8 : 0), s(e, t += 2, 0), s(e, t += 4, r.crc), s(e, t += 4, c.length), s(e, t += 4, r.usize), a(e, t += 4, G.bin.sizeUTF8(n)), a(e, t += 2, 0), t += 2, o == 1 && (s(e, t = t + 2 + 2 + 6, i), t += 4), t += n = G.bin.writeUTF8(e, t, n), o == 0 && (e.set(c, t), t += c.length), t; }, G.crc = { table: (function () { for (var e = new Uint32Array(256), t = 0; t < 256; t++) { for (var n = t, r = 0; r < 8; r++)n = 1 & n ? 3988292384 ^ n >>> 1 : n >>> 1; e[t] = n; } return e; }()), update(e, t, n, r) { for (let o = 0; o < r; o++)e = G.crc.table[255 & (e ^ t[n + o])] ^ e >>> 8; return e; }, crc(e, t, n) { return 4294967295 ^ G.crc.update(4294967295, e, t, n); } }, G.adler = function (e, t, n) { let r = 1; let o = 0; let i = t; for (t += n; i < t;) { for (n = Math.min(i + 5552, t); i < n;)o += r += e[i++]; r %= 65521, o %= 65521; } return o << 16 | r; }, G.bin = {
    readUshort(e, t) { return e[t] | e[t + 1] << 8; }, writeUshort(e, t, n) { e[t] = 255 & n, e[t + 1] = n >> 8 & 255; }, readUint(e, t) { return 16777216 * e[t + 3] + (e[t + 2] << 16 | e[t + 1] << 8 | e[t]); }, writeUint(e, t, n) { e[t] = 255 & n, e[t + 1] = n >> 8 & 255, e[t + 2] = n >> 16 & 255, e[t + 3] = n >> 24 & 255; }, readASCII(e, t, n) { for (var r = '', o = 0; o < n; o++)r += String.fromCharCode(e[t + o]); return r; }, writeASCII(e, t, n) { for (let r = 0; r < n.length; r++)e[t + r] = n.charCodeAt(r); }, pad(e) { return e.length < 2 ? `0${e}` : e; }, readUTF8(e, t, n) { for (var r, o = '', i = 0; i < n; i++)o += `%${G.bin.pad(e[t + i].toString(16))}`; try { r = decodeURIComponent(o); } catch (r) { return G.bin.readASCII(e, t, n); } return r; }, writeUTF8(e, t, n) { for (var r = n.length, o = 0, i = 0; i < r; i++) { const s = n.charCodeAt(i); if ((4294967168 & s) == 0)e[t + o] = s, o++; else if ((4294965248 & s) == 0)e[t + o] = 192 | s >> 6, e[t + o + 1] = 128 | s >> 0 & 63, o += 2; else if ((4294901760 & s) == 0)e[t + o] = 224 | s >> 12, e[t + o + 1] = 128 | s >> 6 & 63, e[t + o + 2] = 128 | s >> 0 & 63, o += 3; else { if ((4292870144 & s) != 0) throw 'e'; e[t + o] = 240 | s >> 18, e[t + o + 1] = 128 | s >> 12 & 63, e[t + o + 2] = 128 | s >> 6 & 63, e[t + o + 3] = 128 | s >> 0 & 63, o += 4; } } return o; }, sizeUTF8(e) { for (var t = e.length, n = 0, r = 0; r < t; r++) { const o = e.charCodeAt(r); if ((4294967168 & o) == 0)n++; else if ((4294965248 & o) == 0)n += 2; else if ((4294901760 & o) == 0)n += 3; else { if ((4292870144 & o) != 0) throw 'e'; n += 4; } } return n; },
  }, G.F = {}, G.F.deflateRaw = function (e, t, n, r) { const o = [[0, 0, 0, 0, 0], [4, 4, 8, 4, 0], [4, 5, 16, 8, 0], [4, 6, 16, 16, 0], [4, 10, 16, 32, 0], [8, 16, 32, 32, 0], [8, 16, 128, 128, 0], [8, 32, 128, 256, 0], [32, 128, 258, 1024, 1], [32, 258, 258, 4096, 1]][r]; const i = G.F.U; const s = G.F._goodIndex; G.F._hash; let a = G.F._putsE; let c = 0; n <<= 3; let u = 0; const l = e.length; if (r == 0) { for (;c < l;) { var f = Math.min(65535, l - c); a(t, n, c + f == l ? 1 : 0), n = G.F._copyExact(e, c, f, t, n + 8), c += f; } return n >>> 3; }a = i.lits, r = i.strt; const h = i.prev; let p = 0; let d = 0; let b = 0; let g = 0; let v = 0; for (l > 2 && (r[v = G.F._hash(e, 0)] = 0), c = 0; c < l; c++) { if (f = v, c + 1 < l - 2) { v = G.F._hash(e, c + 1); var y = c + 1 & 32767; h[y] = r[v], r[v] = y; } if (u <= c) { if ((p > 14e3 || d > 26697) && l - c > 100 && (u < c && (a[p] = c - u, p += 2, u = c), n = G.F._writeBlock(c == l - 1 || u == l ? 1 : 0, a, p, g, e, b, c - b, t, n), p = d = g = 0, b = c), y = 0, c < l - 2 && (y = G.F._bestMatch(e, c, h, f, Math.min(o[2], l - c), o[3])), y != 0) { f = y >>> 16, y &= 65535; const m = s(f, i.of0); i.lhst[257 + m]++; const E = s(y, i.df0); i.dhst[E]++, g += i.exb[m] + i.dxb[E], a[p] = f << 23 | c - u, a[p + 1] = y << 16 | m << 8 | E, p += 2, u = c + f; } else i.lhst[e[c]]++; d++; } } for (b == c && e.length != 0 || (u < c && (a[p] = c - u, p += 2), n = G.F._writeBlock(1, a, p, g, e, b, c - b, t, n)); (7 & n) != 0;)n++; return n >>> 3; }, G.F._bestMatch = function (e, t, n, r, o, i) { let s = 32767 & t; let a = n[s]; let c = s - a + 32768 & 32767; if (a == s || r != G.F._hash(e, t - c)) return 0; for (var u = r = 0, l = Math.min(32767, t); c <= l && --i != 0 && a != s;) { if ((r == 0 || e[t + r] == e[t + r - c]) && (s = G.F._howLong(e, t, c)) > r) { if (u = c, (r = s) >= o) break; c + 2 < s && (s = c + 2); for (let f = 0, h = 0; h < s - 2; h++) { const p = t - c + h + 32768 & 32767; const d = p - n[p] + 32768 & 32767; d > f && (f = d, a = p); } }c += (s = a) - (a = n[s]) + 32768 & 32767; } return r << 16 | u; }, G.F._howLong = function (e, t, n) { if (e[t] != e[t - n] || e[t + 1] != e[t + 1 - n] || e[t + 2] != e[t + 2 - n]) return 0; const r = t; const o = Math.min(e.length, t + 258); for (t += 3; t < o && e[t] == e[t - n];)t++; return t - r; }, G.F._hash = function (e, t) { return (e[t] << 8 | e[t + 1]) + (e[t + 2] << 4) & 65535; }, G.saved = 0, G.F._writeBlock = function (e, t, n, r, o, i, s, a, c) {
    const u = G.F.U; const l = G.F._putsF; const f = G.F._putsE; u.lhst[256]++; let h = G.F.getTrees(); let p = h[0]; const d = h[1]; const b = h[2]; const g = h[3]; const v = h[4]; let y = h[5]; let m = h[6]; h = h[7]; let E = 32 + ((c + 3 & 7) == 0 ? 0 : 8 - (c + 3 & 7)) + (s << 3); const w = r + G.F.contSize(u.fltree, u.lhst) + G.F.contSize(u.fdtree, u.dhst); r = r + G.F.contSize(u.ltree, u.lhst) + G.F.contSize(u.dtree, u.dhst), r += 14 + 3 * y + G.F.contSize(u.itree, u.ihst) + (2 * u.ihst[16] + 3 * u.ihst[17] + 7 * u.ihst[18]); for (var O = 0; O < 286; O++)u.lhst[O] = 0; for (O = 0; O < 30; O++)u.dhst[O] = 0; for (O = 0; O < 19; O++)u.ihst[O] = 0; if (E = E < w && E < r ? 0 : w < r ? 1 : 2, l(a, c, e), l(a, c + 1, E), c += 3, E == 0) { for (;(7 & c) != 0;)c++; c = G.F._copyExact(o, i, s, a, c); } else {
      if (E == 1) {
        var _ = u.fltree;
        var k = u.fdtree;
      } if (E == 2) { for (G.F.makeCodes(u.ltree, p), G.F.revCodes(u.ltree, p), G.F.makeCodes(u.dtree, d), G.F.revCodes(u.dtree, d), G.F.makeCodes(u.itree, b), G.F.revCodes(u.itree, b), _ = u.ltree, k = u.dtree, f(a, c, g - 257), f(a, c += 5, v - 1), f(a, c += 5, y - 4), c += 4, e = 0; e < y; e++)f(a, c + 3 * e, u.itree[1 + (u.ordr[e] << 1)]); c = G.F._codeTiny(m, u.itree, a, c + 3 * y), c = G.F._codeTiny(h, u.itree, a, c); } for (y = 0; y < n; y += 2) { for (m = (e = t[y]) >>> 23, e = i + (8388607 & e); i < e;)c = G.F._writeLit(o[i++], _, a, c); m != 0 && (e = (p = t[y + 1]) >> 16, s = p >> 8 & 255, p &= 255, f(a, c = G.F._writeLit(257 + s, _, a, c), m - u.of0[s]), c += u.exb[s], l(a, c = G.F._writeLit(p, k, a, c), e - u.df0[p]), c += u.dxb[p], i += m); }c = G.F._writeLit(256, _, a, c);
    } return c;
  }, G.F._copyExact = function (e, t, n, r, o) { let i = o >>> 3; return r[i] = n, r[i + 1] = n >>> 8, r[i + 2] = 255 - r[i], r[i + 3] = 255 - r[i + 1], i += 4, r.set(new Uint8Array(e.buffer, t, n), i), o + (n + 4 << 3); }, G.F.getTrees = function () { for (var e = G.F.U, t = G.F._hufTree(e.lhst, e.ltree, 15), n = G.F._hufTree(e.dhst, e.dtree, 15), r = [], o = G.F._lenCodes(e.ltree, r), i = [], s = G.F._lenCodes(e.dtree, i), a = 0; a < r.length; a += 2)e.ihst[r[a]]++; for (a = 0; a < i.length; a += 2)e.ihst[i[a]]++; a = G.F._hufTree(e.ihst, e.itree, 7); for (var c = 19; c > 4 && e.itree[1 + (e.ordr[c - 1] << 1)] == 0;)c--; return [t, n, a, o, s, c, r, i]; }, G.F.getSecond = function (e) { for (var t = [], n = 0; n < e.length; n += 2)t.push(e[n + 1]); return t; }, G.F.nonZero = function (e) { for (var t = '', n = 0; n < e.length; n += 2)e[n + 1] != 0 && (t += `${n >> 1},`); return t; }, G.F.contSize = function (e, t) { for (var n = 0, r = 0; r < t.length; r++)n += t[r] * e[1 + (r << 1)]; return n; }, G.F._codeTiny = function (e, t, n, r) { for (let o = 0; o < e.length; o += 2) { const i = e[o]; const s = e[o + 1]; r = G.F._writeLit(i, t, n, r); const a = i == 16 ? 2 : i == 17 ? 3 : 7; i > 15 && (G.F._putsE(n, r, s, a), r += a); } return r; }, G.F._lenCodes = function (e, t) { for (var n = e.length; n != 2 && e[n - 1] == 0;)n -= 2; for (let r = 0; r < n; r += 2) { let o = e[r + 1]; let i = r + 3 < n ? e[r + 3] : -1; const s = r + 5 < n ? e[r + 5] : -1; const a = r == 0 ? -1 : e[r - 1]; if (o == 0 && i == o && s == o) { for (i = r + 5; i + 2 < n && e[i + 2] == o;)i += 2; (o = Math.min(i + 1 - r >>> 1, 138)) < 11 ? t.push(17, o - 3) : t.push(18, o - 11), r += 2 * o - 2; } else if (o == a && i == o && s == o) { for (i = r + 5; i + 2 < n && e[i + 2] == o;)i += 2; o = Math.min(i + 1 - r >>> 1, 6), t.push(16, o - 3), r += 2 * o - 2; } else t.push(o, 0); } return n >>> 1; }, G.F._hufTree = function (e, t, n) {
    let r = []; let o = e.length; let i = t.length; let s = 0; for (s = 0; s < i; s += 2)t[s] = 0, t[s + 1] = 0; for (s = 0; s < o; s++)e[s] != 0 && r.push({ lit: s, f: e[s] }); if (e = r.length, o = r.slice(0), e == 0) return 0; if (e == 1) return t[1 + ((n = r[0].lit) << 1)] = 1, t[1 + ((n == 0 ? 1 : 0) << 1)] = 1; r.sort(((e, t) => e.f - t.f)), s = r[0], i = r[1]; let a = 0; let c = 1; let u = 2; for (r[0] = {
      lit: -1, f: s.f + i.f, l: s, r: i, d: 0,
    }; c != e - 1;) {
      s = a != c && (u == e || r[a].f < r[u].f) ? r[a++] : r[u++], i = a != c && (u == e || r[a].f < r[u].f) ? r[a++] : r[u++], r[c++] = {
        lit: -1, f: s.f + i.f, l: s, r: i,
      };
    } for ((r = G.F.setDepth(r[c - 1], 0)) > n && (G.F.restrictDepth(o, n, r), r = n), s = 0; s < e; s++)t[1 + (o[s].lit << 1)] = o[s].d; return r;
  }, G.F.setDepth = function (e, t) { return e.lit != -1 ? e.d = t : Math.max(G.F.setDepth(e.l, t + 1), G.F.setDepth(e.r, t + 1)); }, G.F.restrictDepth = function (e, t, n) { let r = 0; const o = 1 << n - t; let i = 0; for (e.sort(((e, t) => (t.d == e.d ? e.f - t.f : t.d - e.d))), r = 0; r < e.length && e[r].d > t; r++) { var s = e[r].d; e[r].d = t, i += o - (1 << n - s); } for (i >>>= n - t; i > 0;)(s = e[r].d) < t ? (e[r].d++, i -= 1 << t - s - 1) : r++; for (;r >= 0; r--)e[r].d == t && i < 0 && (e[r].d--, i++); i != 0 && console.log('debt left'); }, G.F._goodIndex = function (e, t) { let n = 0; return t[16 | n] <= e && (n |= 16), t[8 | n] <= e && (n |= 8), t[4 | n] <= e && (n |= 4), t[2 | n] <= e && (n |= 2), t[1 | n] <= e && (n |= 1), n; }, G.F._writeLit = function (e, t, n, r) { return G.F._putsF(n, r, t[e << 1]), r + t[1 + (e << 1)]; }, G.F.inflate = function (e, t) { const n = Uint8Array; if (e[0] == 3 && e[1] == 0) return t || new n(0); const r = G.F; const o = r._bitsF; const i = r._bitsE; const s = r._decodeTiny; const a = r.makeCodes; const c = r.codes2map; const u = r._get17; const l = r.U; const f = t == null; f && (t = new n(e.length >>> 2 << 3)); for (var h, p, d, b, g = 0, v = 0, y = p = 0, m = 0; g == 0;) if (g = o(e, m, 1), h = o(e, m + 1, 2), m += 3, h == 0)(7 & m) != 0 && (m += 8 - (7 & m)), h = e[(m = 4 + (m >>> 3)) - 4] | e[m - 3] << 8, f && (t = G.F._check(t, y + h)), t.set(new n(e.buffer, e.byteOffset + m, h), y), m = m + h << 3, y += h; else { if (f && (t = G.F._check(t, y + 131072)), h == 1 && (d = l.flmap, b = l.fdmap, v = 511, p = 31), h == 2) { for (p = i(e, m, 5) + 257, h = i(e, m + 5, 5) + 1, d = i(e, m + 10, 4) + 4, m += 14, b = 0; b < 38; b += 2)l.itree[b] = 0, l.itree[b + 1] = 0; for (v = 1, b = 0; b < d; b++) { var E = i(e, m + 3 * b, 3); l.itree[1 + (l.ordr[b] << 1)] = E, E > v && (v = E); }m += 3 * d, a(l.itree, v), c(l.itree, v, l.imap), d = l.lmap, b = l.dmap, m = s(l.imap, (1 << v) - 1, p + h, e, m, l.ttree), v = (1 << (E = r._copyOut(l.ttree, 0, p, l.ltree))) - 1, p = (1 << (h = r._copyOut(l.ttree, p, h, l.dtree))) - 1, a(l.ltree, E), c(l.ltree, E, d), a(l.dtree, h), c(l.dtree, h, b); } for (;;) if (m += 15 & (h = d[u(e, m) & v]), (E = h >>> 4) >>> 8 == 0)t[y++] = E; else { if (E == 256) break; h = y + E - 254, E > 264 && (h = y + ((E = l.ldef[E - 257]) >>> 3) + i(e, m, 7 & E), m += 7 & E), m += 15 & (E = b[u(e, m) & p]); const w = ((E = l.ddef[E >>> 4]) >>> 4) + o(e, m, 15 & E); for (m += 15 & E, f && (t = G.F._check(t, y + 131072)); y < h;)t[y] = t[y++ - w], t[y] = t[y++ - w], t[y] = t[y++ - w], t[y] = t[y++ - w]; y = h; } } return t.length == y ? t : t.slice(0, y); }, G.F._check = function (e, t) { const n = e.length; return t <= n ? e : ((t = new Uint8Array(Math.max(n << 1, t))).set(e, 0), t); }, G.F._decodeTiny = function (e, t, n, r, o, i) { for (let s = G.F._bitsE, a = G.F._get17, c = 0; c < n;) { let u = e[a(r, o) & t]; o += 15 & u; let l = u >>> 4; if (l <= 15)i[c] = l, c++; else { let f = u = 0; for (l == 16 ? (f = 3 + s(r, o, 2), o += 2, u = i[c - 1]) : l == 17 ? (f = 3 + s(r, o, 3), o += 3) : l == 18 && (f = 11 + s(r, o, 7), o += 7), l = c + f; c < l;)i[c] = u, c++; } } return o; }, G.F._copyOut = function (e, t, n, r) { for (var o = 0, i = 0, s = r.length >>> 1; i < n;) { const a = e[i + t]; r[i << 1] = 0, r[1 + (i << 1)] = a, a > o && (o = a), i++; } for (;i < s;)r[i << 1] = 0, r[1 + (i << 1)] = 0, i++; return o; }, G.F.makeCodes = function (e, t) { let n; let r; let o = G.F.U; const i = e.length; let s = o.bl_count; for (n = 0; n <= t; n++)s[n] = 0; for (n = 1; n < i; n += 2)s[e[n]]++; for (o = o.next_code, n = 0, s[0] = 0, r = 1; r <= t; r++)n = n + s[r - 1] << 1, o[r] = n; for (t = 0; t < i; t += 2)(s = e[t + 1]) != 0 && (e[t] = o[s], o[s]++); }, G.F.codes2map = function (e, t, n) { for (let r = e.length, o = G.F.U.rev15, i = 0; i < r; i += 2) if (e[i + 1] != 0) { let s = e[i + 1]; const a = i >> 1 << 4 | s; let c = t - s; for (c = (s = e[i] << c) + (1 << c); s != c;)n[o[s] >>> 15 - t] = a, s++; } }, G.F.revCodes = function (e, t) { for (let n = G.F.U.rev15, r = 15 - t, o = 0; o < e.length; o += 2)e[o] = n[e[o] << t - e[o + 1]] >>> r; }, G.F._putsE = function (e, t, n) { n <<= 7 & t, e[t >>>= 3] |= n, e[t + 1] |= n >>> 8; }, G.F._putsF = function (e, t, n) { n <<= 7 & t, e[t >>>= 3] |= n, e[t + 1] |= n >>> 8, e[t + 2] |= n >>> 16; }, G.F._bitsE = function (e, t, n) { return (e[t >>> 3] | e[1 + (t >>> 3)] << 8) >>> (7 & t) & (1 << n) - 1; }, G.F._bitsF = function (e, t, n) { return (e[t >>> 3] | e[1 + (t >>> 3)] << 8 | e[2 + (t >>> 3)] << 16) >>> (7 & t) & (1 << n) - 1; }, G.F._get17 = function (e, t) { return (e[t >>> 3] | e[1 + (t >>> 3)] << 8 | e[2 + (t >>> 3)] << 16) >>> (7 & t); }, G.F._get25 = function (e, t) { return (e[t >>> 3] | e[1 + (t >>> 3)] << 8 | e[2 + (t >>> 3)] << 16 | e[3 + (t >>> 3)] << 24) >>> (7 & t); }, G.F.U = (function () {
    const e = Uint16Array; const t = Uint32Array; return {
      next_code: new e(16), bl_count: new e(16), ordr: [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], of0: [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 999, 999, 999], exb: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0], ldef: new e(32), df0: [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 65535, 65535], dxb: [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0], ddef: new t(32), flmap: new e(512), fltree: [], fdmap: new e(32), fdtree: [], lmap: new e(32768), ltree: [], ttree: [], dmap: new e(32768), dtree: [], imap: new e(512), itree: [], rev15: new e(32768), lhst: new t(286), dhst: new t(30), ihst: new t(19), lits: new t(15e3), strt: new e(65536), prev: new e(32768),
    };
  }()), (function () { function e(e, t, n) { for (;t-- != 0;)e.push(0, n); } for (var t = G.F.U, n = 0; n < 32768; n++) { let r = n; r = (4278255360 & (r = (4042322160 & (r = (3435973836 & (r = (2863311530 & r) >>> 1 | (1431655765 & r) << 1)) >>> 2 | (858993459 & r) << 2)) >>> 4 | (252645135 & r) << 4)) >>> 8 | (16711935 & r) << 8, t.rev15[n] = (r >>> 16 | r << 16) >>> 17; } for (n = 0; n < 32; n++)t.ldef[n] = t.of0[n] << 3 | t.exb[n], t.ddef[n] = t.df0[n] << 4 | t.dxb[n]; e(t.fltree, 144, 8), e(t.fltree, 112, 9), e(t.fltree, 24, 7), e(t.fltree, 8, 8), G.F.makeCodes(t.fltree, 9), G.F.codes2map(t.fltree, 9, t.flmap), G.F.revCodes(t.fltree, 9), e(t.fdtree, 32, 5), G.F.makeCodes(t.fdtree, 5), G.F.codes2map(t.fdtree, 5, t.fdmap), G.F.revCodes(t.fdtree, 5), e(t.itree, 19, 0), e(t.ltree, 286, 0), e(t.dtree, 30, 0), e(t.ttree, 320, 0); }()); const DE = Array.isArray || function (e) { return e && typeof e.length === 'number'; }; const EE = Object.defineProperty({ isArray: DE }, '__esModule', { value: !0 }); const FE = Object.defineProperty({ isObject(e) { return e !== null && qa(e) === 'object'; } }, '__esModule', { value: !0 }); const GE = Object.defineProperty({ isFunction(e) { return typeof e === 'function'; } }, '__esModule', { value: !0 }); const HE = (function () { function e(e) { return Error.call(this), this.message = e ? `${e.length} errors occurred during unsubscription:\n${e.map(((e, t) => `${t + 1}) ${e.toString()}`)).join('\n  ')}` : '', this.name = 'UnsubscriptionError', this.errors = e, this; } return e.prototype = Object.create(Error.prototype), e; }()); var uh = Object.defineProperty({ UnsubscriptionError: HE }, '__esModule', { value: !0 }); const IE = (function () { function e(e) { this.closed = !1, this._subscriptions = this._parentOrParents = null, e && (this._ctorUnsubscribe = !0, this._unsubscribe = e); } let t; return e.prototype.unsubscribe = function () { if (!this.closed) { let t = this._parentOrParents; let n = this._ctorUnsubscribe; const r = this._unsubscribe; const o = this._subscriptions; if (this.closed = !0, this._subscriptions = this._parentOrParents = null, t instanceof e)t.remove(this); else if (t !== null) for (var i = 0; i < t.length; ++i)t[i].remove(this); if (GE.isFunction(r)) { n && (this._unsubscribe = void 0); try { r.call(this); } catch (e) { var s = e instanceof uh.UnsubscriptionError ? eo(e.errors) : [e]; } } if (EE.isArray(o)) for (i = -1, t = o.length; ++i < t;) if (n = o[i], FE.isObject(n)) try { n.unsubscribe(); } catch (e) { s = s || [], e instanceof uh.UnsubscriptionError ? s = s.concat(eo(e.errors)) : s.push(e); } if (s) throw new uh.UnsubscriptionError(s); } }, e.prototype.add = function (t) { let n = t; if (!t) return e.EMPTY; switch (qa(t)) { case 'function': n = new e(t); case 'object': if (n === this || n.closed || typeof n.unsubscribe !== 'function') return n; if (this.closed) return n.unsubscribe(), n; n instanceof e || (t = n, (n = new e())._subscriptions = [t]); break; default: throw Error(`unrecognized teardown ${t} added to Subscription.`); } if ((t = n._parentOrParents) === null)n._parentOrParents = this; else if (t instanceof e) { if (t === this) return n; n._parentOrParents = [t, this]; } else { if (t.indexOf(this) !== -1) return n; t.push(this); } return (t = this._subscriptions) === null ? this._subscriptions = [n] : t.push(n), n; }, e.prototype.remove = function (e) { const t = this._subscriptions; t && ((e = t.indexOf(e)) !== -1 && t.splice(e, 1)); }, e.EMPTY = ((t = new e()).closed = !0, t), e; }()); const JE = Object.defineProperty({ Subscription: IE }, '__esModule', { value: !0 }); const KE = Ya && Ya.__extends || (function () { var e = function (t, n) { return (e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t; } || function (e, t) { for (const n in t)t.hasOwnProperty(n) && (e[n] = t[n]); })(t, n); }; return function (t, n) { function r() { this.constructor = t; }e(t, n), t.prototype = n === null ? Object.create(n) : (r.prototype = n.prototype, new r()); }; }()); const LE = (function (e) { function t(t, n) { return e.call(this) || this; } return KE(t, e), t.prototype.schedule = function (e, t) { return this; }, t; }(JE.Subscription)); const ME = Object.defineProperty({ Action: LE }, '__esModule', { value: !0 }); const NE = Ya && Ya.__extends || (function () { var e = function (t, n) { return (e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t; } || function (e, t) { for (const n in t)t.hasOwnProperty(n) && (e[n] = t[n]); })(t, n); }; return function (t, n) { function r() { this.constructor = t; }e(t, n), t.prototype = n === null ? Object.create(n) : (r.prototype = n.prototype, new r()); }; }()); const gt = (function (e) { function t(t, n) { const r = e.call(this, t, n) || this; return r.scheduler = t, r.work = n, r.pending = !1, r; } return NE(t, e), t.prototype.schedule = function (e, t) { if (void 0 === t && (t = 0), this.closed) return this; this.state = e, e = this.id; const n = this.scheduler; return e != null && (this.id = this.recycleAsyncId(n, e, t)), this.pending = !0, this.delay = t, this.id = this.id || this.requestAsyncId(n, this.id, t), this; }, t.prototype.requestAsyncId = function (e, t, n) { return void 0 === n && (n = 0), setInterval(e.flush.bind(e, this), n); }, t.prototype.recycleAsyncId = function (e, t, n) { if (void 0 === n && (n = 0), n !== null && this.delay === n && !1 === this.pending) return t; clearInterval(t); }, t.prototype.execute = function (e, t) { return this.closed ? Error('executing a cancelled action') : (this.pending = !1, (e = this._execute(e, t)) ? e : void (!1 === this.pending && this.id != null && (this.id = this.recycleAsyncId(this.scheduler, this.id, null)))); }, t.prototype._execute = function (e, t) { t = !1; let n = void 0; try { this.work(e); } catch (e) { t = !0, n = !!e && e || Error(e); } if (t) return this.unsubscribe(), n; }, t.prototype._unsubscribe = function () { const e = this.id; const t = this.scheduler; const n = t.actions; const r = n.indexOf(this); this.state = this.work = null, this.pending = !1, this.scheduler = null, r !== -1 && n.splice(r, 1), e != null && (this.id = this.recycleAsyncId(t, e, null)), this.delay = null; }, t; }(ME.Action)); Object.defineProperty({ AsyncAction: gt }, '__esModule', { value: !0 }); const OE = (function () { function e(t, n) { void 0 === n && (n = e.now), this.SchedulerAction = t, this.now = n; } return e.prototype.schedule = function (e, t, n) { return void 0 === t && (t = 0), new this.SchedulerAction(this, e).schedule(n, t); }, e.now = function () { return Date.now(); }, e; }()); const ht = Object.defineProperty({ Scheduler: OE }, '__esModule', { value: !0 }); const PE = Ya && Ya.__extends || (function () { var e = function (t, n) { return (e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t; } || function (e, t) { for (const n in t)t.hasOwnProperty(n) && (e[n] = t[n]); })(t, n); }; return function (t, n) { function r() { this.constructor = t; }e(t, n), t.prototype = n === null ? Object.create(n) : (r.prototype = n.prototype, new r()); }; }()); const it = (function (e) { function t(n, r) { void 0 === r && (r = ht.Scheduler.now); var o = e.call(this, n, (() => (t.delegate && t.delegate !== o ? t.delegate.now() : r()))) || this; return o.actions = [], o.active = !1, o.scheduled = void 0, o; } return PE(t, e), t.prototype.schedule = function (n, r, o) { return void 0 === r && (r = 0), t.delegate && t.delegate !== this ? t.delegate.schedule(n, r, o) : e.prototype.schedule.call(this, n, r, o); }, t.prototype.flush = function (e) { const t = this.actions; if (this.active)t.push(e); else { let n; this.active = !0; do { if (n = e.execute(e.state, e.delay)) break; } while (e = t.shift()); if (this.active = !1, n) { for (;e = t.shift();)e.unsubscribe(); throw n; } } }, t; }(ht.Scheduler)); Object.defineProperty({ AsyncScheduler: it }, '__esModule', { value: !0 }); const QE = Fa('iterator'); const Wl = !la((() => { const e = new URL('b?a=1&b=2&c=3', 'http://a'); const t = e.searchParams; let n = ''; return e.pathname = 'c%20d', t.forEach(((e, r) => { t.delete('b'), n += r + e; })), !t.sort || e.href !== 'http://a/c%20d?a=1&c=3' || t.get('c') !== '3' || String(new URLSearchParams('?a=1')) !== 'a=1' || !t[QE] || new URL('https://a@b').username !== 'a' || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b' || new URL('http://ÑÐµÑÑ').host !== 'xn--e1aybc' || new URL('http://a#Ð±').hash !== '#%D0%B1' || n !== 'a1c3' || new URL('http://x', void 0).host !== 'x'; })); const RE = /[^\0-\u007E]/; const SE = /[.\u3002\uFF0E\uFF61]/g; const Ff = Math.floor; const Xl = String.fromCharCode; const jt = function (e) { const t = lg(e); if (typeof t !== 'function') throw TypeError(`${String(e)} is not iterable`); return Ia(t.call(e)); }; const kt = Pc('fetch'); const Yl = Pc('Headers'); const TE = Fa('iterator'); const lt = cb.set; const cc = cb.getterFor('URLSearchParams'); const UE = cb.getterFor('URLSearchParamsIterator'); const VE = /\+/g; const mt = Array(4); const WE = function (e) { try { return decodeURIComponent(e); } catch (t) { return e; } }; const nt = function (e) { let t = e.replace(VE, ' '); e = 4; try { return decodeURIComponent(t); } catch (o) { for (;e;) { const n = t.replace; let r = e--; r = mt[r - 1] || (mt[r - 1] = RegExp(`((?:%[\\da-f]{2}){${r}})`, 'gi')), t = n.call(t, r, WE); } return t; } }; const ot = /[!'()~]|%20/g; const XE = {
    '!': '%21', "'": '%27', '(': '%28', ')': '%29', '~': '%7E', '%20': '+',
  }; const pt = function (e) { return XE[e]; }; const qt = function (e, t) { if (t) { t = t.split('&'); for (var n, r = 0; r < t.length;)(n = t[r++]).length && (n = n.split('='), e.push({ key: nt(n.shift()), value: nt(n.join('=')) })); } }; const YE = function (e) { this.entries.length = 0, qt(this.entries, e); }; const Gf = function (e, t) { if (e < t) throw TypeError('Not enough arguments'); }; const Zl = Wo((function (e, t) { lt(this, { type: 'URLSearchParamsIterator', iterator: jt(cc(e).entries), kind: t }); }), 'Iterator', (function () { let e = UE(this); const t = e.kind; const n = (e = e.iterator.next()).value; return e.done || (e.value = t === 'keys' ? n.key : t === 'values' ? n.value : [n.key, n.value]), e; })); var Rg = function () {
    Ac(this, Rg, 'URLSearchParams'); let e; let t; let n; let r = arguments.length > 0 ? arguments[0] : void 0; const o = []; if (lt(this, {
      type: 'URLSearchParams', entries: o, updateURL() {}, updateSearchParams: YE,
    }), void 0 !== r) if (xa(r)) { let i = lg(r); if (typeof i === 'function') for (r = i.call(r), i = r.next; !(e = i.call(r)).done;) { const s = (e = jt(Ia(e.value))).next; if ((t = s.call(e)).done || (n = s.call(e)).done || !s.call(e).done) throw TypeError('Expected sequence with length 2'); o.push({ key: `${t.value}`, value: `${n.value}` }); } else for (e in r)ka(r, e) && o.push({ key: e, value: `${r[e]}` }); } else qt(o, typeof r === 'string' ? r.charAt(0) === '?' ? r.slice(1) : r : `${r}`);
  }; const Bi = Rg.prototype; kf(Bi, {
    append(e, t) { Gf(arguments.length, 2); const n = cc(this); n.entries.push({ key: `${e}`, value: `${t}` }), n.updateURL(); }, delete(e) { Gf(arguments.length, 1); for (var t = cc(this), n = t.entries, r = `${e}`, o = 0; o < n.length;)n[o].key === r ? n.splice(o, 1) : o++; t.updateURL(); }, get(e) { Gf(arguments.length, 1); for (let t = cc(this).entries, n = `${e}`, r = 0; r < t.length; r++) if (t[r].key === n) return t[r].value; return null; }, getAll(e) { Gf(arguments.length, 1); for (var t = cc(this).entries, n = `${e}`, r = [], o = 0; o < t.length; o++)t[o].key === n && r.push(t[o].value); return r; }, has(e) { Gf(arguments.length, 1); for (let t = cc(this).entries, n = `${e}`, r = 0; r < t.length;) if (t[r++].key === n) return !0; return !1; }, set(e, t) { Gf(arguments.length, 1); for (var n, r = cc(this), o = r.entries, i = !1, s = `${e}`, a = `${t}`, c = 0; c < o.length; c++)(n = o[c]).key === s && (i ? o.splice(c--, 1) : (i = !0, n.value = a)); i || o.push({ key: s, value: a }), r.updateURL(); }, sort() { let e; let t; const n = cc(this); const r = n.entries; const o = r.slice(); for (t = r.length = 0; t < o.length; t++) { const i = o[t]; for (e = 0; e < t; e++) if (r[e].key > i.key) { r.splice(e, 0, i); break; }e === t && r.push(i); }n.updateURL(); }, forEach(e) { for (var t, n = cc(this).entries, r = Dd(e, arguments.length > 1 ? arguments[1] : void 0, 3), o = 0; o < n.length;)r((t = n[o++]).value, t.key, this); }, keys() { return new Zl(this, 'keys'); }, values() { return new Zl(this, 'values'); }, entries() { return new Zl(this, 'entries'); },
  }, { enumerable: !0 }), Za(Bi, TE, Bi.entries), Za(Bi, 'toString', (function () { for (var e, t = cc(this).entries, n = [], r = 0; r < t.length;)e = t[r++], n.push(`${encodeURIComponent(e.key).replace(ot, pt)}=${encodeURIComponent(e.value).replace(ot, pt)}`); return n.join('&'); }), { enumerable: !0 }), zc(Rg, 'URLSearchParams'), ea({ global: !0, forced: !Wl }, { URLSearchParams: Rg }), Wl || typeof kt !== 'function' || typeof Yl !== 'function' || ea({ global: !0, enumerable: !0, forced: !0 }, { fetch(e) { const t = [e]; if (arguments.length > 1) { let n = arguments[1]; if (xa(n)) { const r = n.body; if (jf(r) === 'URLSearchParams') { const o = n.headers ? new Yl(n.headers) : new Yl(); o.has('content-type') || o.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8'), n = jc(n, { body: Nc(0, String(r)), headers: Nc(0, o) }); } }t.push(n); } return kt.apply(this, t); } }); const Sg = R.URL; const ZE = Rg; const $E = cb.set; const db = cb.getterFor('URL'); const aF = Math.floor; const rt = Math.pow; const st = /[A-Za-z]/; const bF = /[\d+-.A-Za-z]/; const $l = /\d/; const cF = /^(0x|0X)/; const dF = /^[0-7]+$/; const eF = /^\d+$/; const tt = /^[\dA-Fa-f]+$/; const fF = /[\0\t\n\r #%/:?@[\\]]/; const gF = /[\0\t\n\r #/:?@[\\]]/; const hF = /^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g; const iF = /[\t\n\r]/g; const am = function (e, t) { let n; if (t.charAt(0) == '[') { if (t.charAt(t.length - 1) != ']') return 'Invalid host'; var r = jF(t.slice(1, -1)); if (!r) return 'Invalid host'; } else if (wb(e)) { for (r = [], t = t.toLowerCase().replace(SE, '.').split('.'), n = 0; n < t.length; n++) { let o = t[n]; const i = r; const s = i.push; if (RE.test(o)) { let a = o; o = []; let c = a; a = []; for (var u = 0, l = c.length; u < l;) { var f = c.charCodeAt(u++); if (f >= 55296 && f <= 56319 && u < l) { var h = c.charCodeAt(u++); (64512 & h) == 56320 ? a.push(((1023 & f) << 10) + (1023 & h) + 65536) : (a.push(f), u--); } else a.push(f); }u = a.length, l = 128; let p = 0; let d = 72; for (c = 0; c < a.length; c++) { var b = a[c]; b < 128 && o.push(Xl(b)); } for ((h = f = o.length) && o.push('-'); h < u;) { let g = 2147483647; for (c = 0; c < a.length; c++)(b = a[c]) >= l && b < g && (g = b); const v = h + 1; if (g - l > Ff((2147483647 - p) / v)) throw RangeError('Overflow: input needs wider integers to process'); for (p += (g - l) * v, l = g, c = 0; c < a.length; c++) { if ((b = a[c]) < l && ++p > 2147483647) throw RangeError('Overflow: input needs wider integers to process'); if (b == l) { let y = p; for (b = 36; !(y < (g = b <= d ? 1 : b >= d + 26 ? 26 : b - d)); b += 36) { const m = 36 - g; const E = o; g += (y -= g) % m, E.push.call(E, Xl(g + 22 + 75 * (g < 26))), y = Ff(y / m); } for (o.push(Xl(y + 22 + 75 * (y < 26))), d = v, b = 0, p = h == f ? Ff(p / 700) : p >> 1, p += Ff(p / d); p > 455; b += 36)p = Ff(p / 35); d = Ff(b + 36 * p / (p + 38)), p = 0, ++h; } }++p, ++l; }o = `xn--${o.join('')}`; }s.call(i, o); } if (t = r.join('.'), fF.test(t)) return 'Invalid host'; if ((r = kF(t)) === null) return 'Invalid host'; } else { if (gF.test(t)) return 'Invalid host'; for (r = '', t = ge(t), n = 0; n < t.length; n++)r += Qd(t[n], Ci); }e.host = r; }; var kF = function (e) { let t; const n = e.split('.'); n.length && n[n.length - 1] == '' && n.pop(); const r = n.length; if (r > 4) return e; const o = []; for (t = 0; t < r; t++) { var i = n[t]; if (i == '') return e; let s = 10; if (i.length > 1 && i.charAt(0) == '0' && (s = cF.test(i) ? 16 : 8, i = i.slice(s == 8 ? 1 : 2)), i === '')i = 0; else { if (!(s == 10 ? eF : s == 8 ? dF : tt).test(i)) return e; i = parseInt(i, s); }o.push(i); } for (t = 0; t < r; t++) if (i = o[t], t == r - 1) { if (i >= rt(256, 5 - r)) return null; } else if (i > 255) return null; for (e = o.pop(), t = 0; t < o.length; t++)e += o[t] * rt(256, 3 - t); return e; }; var jF = function (e) { let t; let n; const r = [0, 0, 0, 0, 0, 0, 0, 0]; let o = 0; let i = null; let s = 0; let a = function () { return e.charAt(s); }; if (a() == ':') { if (e.charAt(1) != ':') return; s += 2, i = ++o; } for (;a();) { if (o == 8) return; if (a() == ':') { if (i !== null) return; s++, i = ++o; } else { for (t = n = 0; n < 4 && tt.test(a());)t = 16 * t + parseInt(a(), 16), s++, n++; if (a() == '.') { if (n == 0) return; if (s -= n, o > 6) return; for (t = 0; a();) { if (n = null, t > 0) { if (!(a() == '.' && t < 4)) return; s++; } if (!$l.test(a())) return; for (;$l.test(a());) { const c = parseInt(a(), 10); if (n === null)n = c; else { if (n == 0) return; n = 10 * n + c; } if (n > 255) return; s++; }r[o] = 256 * r[o] + n, ++t != 2 && t != 4 || o++; } if (t != 4) return; break; } if (a() == ':') { if (s++, !a()) return; } else if (a()) return; r[o++] = t; } } if (i !== null) for (a = o - i, o = 7; o != 0 && a > 0;)t = r[o], r[o--] = r[i + a - 1], r[i + --a] = t; else if (o != 8) return; return r; }; const Tg = function (e) { let t; let n; if (typeof e === 'number') { var r = []; for (t = 0; t < 4; t++)r.unshift(e % 256), e = aF(e / 256); return r.join('.'); } if (typeof e === 'object') { r = '', t = null; for (var o = 1, i = null, s = 0, a = 0; a < 8; a++)e[a] !== 0 ? (s > o && (t = i, o = s), i = null, s = 0) : (i === null && (i = a), ++s); for (s > o && (t = i), o = t, t = 0; t < 8; t++)n && e[t] === 0 || (n && (n = !1), o === t ? (r += t ? ':' : '::', n = !0) : (r += e[t].toString(16), t < 7 && (r += ':'))); return `[${r}]`; } return e; }; var Ci = {}; const ut = {
    ...Ci, ' ': 1, '"': 1, '<': 1, '>': 1, '`': 1,
  }; const vt = {
    ...ut, '#': 1, '?': 1, '{': 1, '}': 1,
  }; const bm = {
    ...vt, '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\': 1, ']': 1, '^': 1, '|': 1,
  }; var Qd = function (e, t) { const n = uw(e, 0); return n > 32 && n < 127 && !ka(t, e) ? e : encodeURIComponent(e); }; const Di = {
    ftp: 21, file: null, http: 80, https: 443, ws: 80, wss: 443,
  }; var wb = function (e) { return ka(Di, e.scheme); }; const cm = function (e) { return !e.host || e.cannotBeABaseURL || e.scheme == 'file'; }; const Ug = function (e, t) { let n; return e.length == 2 && st.test(e.charAt(0)) && ((n = e.charAt(1)) == ':' || !t && n == '|'); }; const wt = function (e) { let t; return e.length > 1 && Ug(e.slice(0, 2)) && (e.length == 2 || (t = e.charAt(2)) === '/' || t === '\\' || t === '?' || t === '#'); }; const xt = function (e) { const t = e.path; const n = t.length; !n || e.scheme == 'file' && n == 1 && Ug(t[0], !0) || t.pop(); }; const dm = {}; const yt = {}; const em = {}; const zt = {}; const At = {}; const fm = {}; const Bt = {}; const Ct = {}; const Ei = {}; const Fi = {}; const gm = {}; const hm = {}; const im = {}; const jm = {}; const Dt = {}; const km = {}; const Vg = {}; const Yc = {}; const Et = {}; const ye = {}; const vd = {}; const Zc = function (e, t, n, r) { let o = n || dm; let i = 0; let s = ''; let a = !1; let c = !1; let u = !1; for (n || (e.scheme = '', e.username = '', e.password = '', e.host = null, e.port = null, e.path = [], e.query = null, e.fragment = null, e.cannotBeABaseURL = !1, t = t.replace(hF, '')), t = t.replace(iF, ''), t = ge(t); i <= t.length;) { let l = t[i]; switch (o) { case dm: if (!l || !st.test(l)) { if (n) return 'Invalid scheme'; o = em; continue; }s += l.toLowerCase(), o = yt; break; case yt: if (l && (bF.test(l) || l == '+' || l == '-' || l == '.'))s += l.toLowerCase(); else { if (l != ':') { if (n) return 'Invalid scheme'; s = '', o = em, i = 0; continue; } if (n && (wb(e) != ka(Di, s) || s == 'file' && (e.username != '' || e.password != '' || e.port !== null) || e.scheme == 'file' && !e.host)) return; if (e.scheme = s, n) return void (wb(e) && Di[e.scheme] == e.port && (e.port = null)); s = '', e.scheme == 'file' ? o = jm : wb(e) && r && r.scheme == e.scheme ? o = zt : wb(e) ? o = Ct : t[i + 1] == '/' ? (o = At, i++) : (e.cannotBeABaseURL = !0, e.path.push(''), o = Et); } break; case em: if (!r || r.cannotBeABaseURL && l != '#') return 'Invalid scheme'; if (r.cannotBeABaseURL && l == '#') { e.scheme = r.scheme, e.path = r.path.slice(), e.query = r.query, e.fragment = '', e.cannotBeABaseURL = !0, o = vd; break; }o = r.scheme == 'file' ? jm : fm; continue; case zt: if (l != '/' || t[i + 1] != '/') { o = fm; continue; }o = Ei, i++; break; case At: if (l == '/') { o = Fi; break; }o = Yc; continue; case fm: if (e.scheme = r.scheme, l == null)e.username = r.username, e.password = r.password, e.host = r.host, e.port = r.port, e.path = r.path.slice(), e.query = r.query; else if (l == '/' || l == '\\' && wb(e))o = Bt; else if (l == '?')e.username = r.username, e.password = r.password, e.host = r.host, e.port = r.port, e.path = r.path.slice(), e.query = '', o = ye; else { if (l != '#') { e.username = r.username, e.password = r.password, e.host = r.host, e.port = r.port, e.path = r.path.slice(), e.path.pop(), o = Yc; continue; }e.username = r.username, e.password = r.password, e.host = r.host, e.port = r.port, e.path = r.path.slice(), e.query = r.query, e.fragment = '', o = vd; } break; case Bt: if (!wb(e) || l != '/' && l != '\\') { if (l != '/') { e.username = r.username, e.password = r.password, e.host = r.host, e.port = r.port, o = Yc; continue; }o = Fi; } else o = Ei; break; case Ct: if (o = Ei, l != '/' || s.charAt(i + 1) != '/') continue; i++; break; case Ei: if (l != '/' && l != '\\') { o = Fi; continue; } break; case Fi: if (l == '@') { for (a && (s = `%40${s}`), a = !0, s = ge(s), l = 0; l < s.length; l++) { var f = s[l]; f != ':' || u ? (f = Qd(f, bm), u ? e.password += f : e.username += f) : u = !0; }s = ''; } else if (l == null || l == '/' || l == '?' || l == '#' || l == '\\' && wb(e)) { if (a && s == '') return 'Invalid authority'; i -= ge(s).length + 1, s = '', o = gm; } else s += l; break; case gm: case hm: if (n && e.scheme == 'file') { o = km; continue; } if (l != ':' || c) { if (l == null || l == '/' || l == '?' || l == '#' || l == '\\' && wb(e)) { if (wb(e) && s == '') return 'Invalid host'; if (n && s == '' && (e.username != '' || e.password != '' || e.port !== null)) return; if (o = am(e, s)) return o; if (s = '', o = Vg, n) return; continue; }l == '[' ? c = !0 : l == ']' && (c = !1), s += l; } else { if (s == '') return 'Invalid host'; if (o = am(e, s)) return o; if (s = '', o = im, n == hm) return; } break; case im: if (!$l.test(l)) { if (l == null || l == '/' || l == '?' || l == '#' || l == '\\' && wb(e) || n) { if (s != '') { if ((o = parseInt(s, 10)) > 65535) return 'Invalid port'; e.port = wb(e) && o === Di[e.scheme] ? null : o, s = ''; } if (n) return; o = Vg; continue; } return 'Invalid port'; }s += l; break; case jm: if (e.scheme = 'file', l == '/' || l == '\\')o = Dt; else { if (!r || r.scheme != 'file') { o = Yc; continue; } if (l == null)e.host = r.host, e.path = r.path.slice(), e.query = r.query; else if (l == '?')e.host = r.host, e.path = r.path.slice(), e.query = '', o = ye; else { if (l != '#') { wt(t.slice(i).join('')) || (e.host = r.host, e.path = r.path.slice(), xt(e)), o = Yc; continue; }e.host = r.host, e.path = r.path.slice(), e.query = r.query, e.fragment = '', o = vd; } } break; case Dt: if (l == '/' || l == '\\') { o = km; break; }r && r.scheme == 'file' && !wt(t.slice(i).join('')) && (Ug(r.path[0], !0) ? e.path.push(r.path[0]) : e.host = r.host), o = Yc; continue; case km: if (l == null || l == '/' || l == '\\' || l == '?' || l == '#') { if (!n && Ug(s))o = Yc; else { if (s == '') { if (e.host = '', n) return; } else { if (o = am(e, s)) return o; if (e.host == 'localhost' && (e.host = ''), n) return; s = ''; }o = Vg; } continue; }s += l; break; case Vg: if (wb(e)) { if (o = Yc, l != '/' && l != '\\') continue; } else if (n || l != '?') if (n || l != '#') { if (l != null && (o = Yc, l != '/')) continue; } else e.fragment = '', o = vd; else e.query = '', o = ye; break; case Yc: if (l == null || l == '/' || l == '\\' && wb(e) || !n && (l == '?' || l == '#')) { if ((f = (f = s).toLowerCase()) === '..' || f === '%2e.' || f === '.%2e' || f === '%2e%2e' ? (xt(e), l == '/' || l == '\\' && wb(e) || e.path.push('')) : s === '.' || s.toLowerCase() === '%2e' ? l == '/' || l == '\\' && wb(e) || e.path.push('') : (e.scheme == 'file' && !e.path.length && Ug(s) && (e.host && (e.host = ''), s = `${s.charAt(0)}:`), e.path.push(s)), s = '', e.scheme == 'file' && (l == null || l == '?' || l == '#')) for (;e.path.length > 1 && e.path[0] === '';)e.path.shift(); l == '?' ? (e.query = '', o = ye) : l == '#' && (e.fragment = '', o = vd); } else s += Qd(l, vt); break; case Et: l == '?' ? (e.query = '', o = ye) : l == '#' ? (e.fragment = '', o = vd) : l != null && (e.path[0] += Qd(l, Ci)); break; case ye: n || l != '#' ? l != null && (l == "'" && wb(e) ? e.query += '%27' : e.query = l == '#' ? `${e.query}%23` : e.query + Qd(l, Ci)) : (e.fragment = '', o = vd); break; case vd: l != null && (e.fragment += Qd(l, ut)); }i++; } }; var Rd = function (e) { const t = Ac(this, Rd, 'URL'); let n = arguments.length > 1 ? arguments[1] : void 0; let r = String(e); const o = $E(t, { type: 'URL' }); if (void 0 !== n) if (n instanceof Rd) var i = db(n); else if (n = Zc(i = {}, String(n))) throw TypeError(n); if (n = Zc(o, r, null, i)) throw TypeError(n); const s = o.searchParams = new ZE(); (r = cc(s)).updateSearchParams(o.query), r.updateURL = function () { o.query = String(s) || null; }, wa || (t.href = Gi.call(t), t.origin = Ft.call(t), t.protocol = Gt.call(t), t.username = Ht.call(t), t.password = It.call(t), t.host = Jt.call(t), t.hostname = Kt.call(t), t.port = Lt.call(t), t.pathname = Mt.call(t), t.search = Nt.call(t), t.searchParams = Ot.call(t), t.hash = Pt.call(t)); }; const lm = Rd.prototype; var Gi = function () { const e = db(this); const t = e.scheme; const n = e.username; const r = e.password; const o = e.host; const i = e.port; const s = e.path; const a = e.query; const c = e.fragment; let u = `${t}:`; return o !== null ? (u += '//', e.username == '' && e.password == '' || (u += `${n + (r ? `:${r}` : '')}@`), u += Tg(o), i !== null && (u += `:${i}`)) : t == 'file' && (u += '//'), u += e.cannotBeABaseURL ? s[0] : s.length ? `/${s.join('/')}` : '', a !== null && (u += `?${a}`), c !== null && (u += `#${c}`), u; }; var Ft = function () { const e = db(this); const t = e.scheme; const n = e.port; if (t == 'blob') try { return new Rd(t.path[0]).origin; } catch (e) { return 'null'; } return t != 'file' && wb(e) ? `${t}://${Tg(e.host)}${n !== null ? `:${n}` : ''}` : 'null'; }; var Gt = function () { return `${db(this).scheme}:`; }; var Ht = function () { return db(this).username; }; var It = function () { return db(this).password; }; var Jt = function () { let e = db(this); const t = e.host; return e = e.port, t === null ? '' : e === null ? Tg(t) : `${Tg(t)}:${e}`; }; var Kt = function () { const e = db(this).host; return e === null ? '' : Tg(e); }; var Lt = function () { const e = db(this).port; return e === null ? '' : String(e); }; var Mt = function () { const e = db(this); const t = e.path; return e.cannotBeABaseURL ? t[0] : t.length ? `/${t.join('/')}` : ''; }; var Nt = function () { const e = db(this).query; return e ? `?${e}` : ''; }; var Ot = function () { return db(this).searchParams; }; var Pt = function () { const e = db(this).fragment; return e ? `#${e}` : ''; }; const tc = function (e, t) {
    return {
      get: e, set: t, configurable: !0, enumerable: !0,
    };
  }; if (wa && To(lm, {
    href: tc(Gi, (function (e) { const t = db(this); if (e = Zc(t, String(e))) throw TypeError(e); cc(t.searchParams).updateSearchParams(t.query); })), origin: tc(Ft), protocol: tc(Gt, (function (e) { const t = db(this); Zc(t, `${String(e)}:`, dm); })), username: tc(Ht, (function (e) { const t = db(this); if (e = ge(String(e)), !cm(t)) { t.username = ''; for (let n = 0; n < e.length; n++)t.username += Qd(e[n], bm); } })), password: tc(It, (function (e) { const t = db(this); if (e = ge(String(e)), !cm(t)) { t.password = ''; for (let n = 0; n < e.length; n++)t.password += Qd(e[n], bm); } })), host: tc(Jt, (function (e) { const t = db(this); t.cannotBeABaseURL || Zc(t, String(e), gm); })), hostname: tc(Kt, (function (e) { const t = db(this); t.cannotBeABaseURL || Zc(t, String(e), hm); })), port: tc(Lt, (function (e) { const t = db(this); cm(t) || ((e = String(e)) == '' ? t.port = null : Zc(t, e, im)); })), pathname: tc(Mt, (function (e) { const t = db(this); t.cannotBeABaseURL || (t.path = [], Zc(t, `${e}`, Vg)); })), search: tc(Nt, (function (e) { const t = db(this); (e = String(e)) == '' ? t.query = null : (e.charAt(0) == '?' && (e = e.slice(1)), t.query = '', Zc(t, e, ye)), cc(t.searchParams).updateSearchParams(t.query); })), searchParams: tc(Ot), hash: tc(Pt, (function (e) { const t = db(this); (e = String(e)) == '' ? t.fragment = null : (e.charAt(0) == '#' && (e = e.slice(1)), t.fragment = '', Zc(t, e, vd)); })),
  }), Za(lm, 'toJSON', (function () { return Gi.call(this); }), { enumerable: !0 }), Za(lm, 'toString', (function () { return Gi.call(this); }), { enumerable: !0 }), Sg) { const Qt = Sg.createObjectURL; const Rt = Sg.revokeObjectURL; Qt && Za(Rd, 'createObjectURL', (function (e) { return Qt.apply(Sg, arguments); })), Rt && Za(Rd, 'revokeObjectURL', (function (e) { return Rt.apply(Sg, arguments); })); }zc(Rd, 'URL'), ea({ global: !0, forced: !Wl, sham: !wa }, { URL: Rd }); const lF = new Blob(["var fakeIdToId = {};onmessage = function (event) {\tvar data = event.data,\t\tname = data.name,\t\tfakeId = data.fakeId,\t\ttime;\tif(data.hasOwnProperty('time')) {\t\ttime = data.time;\t}\tswitch (name) {\t\tcase 'setInterval':\t\t\tfakeIdToId[fakeId] = setInterval(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearInterval':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearInterval(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t}}"]); const mF = window.URL.createObjectURL(lF); var Ze = {}; var dg = 0; var Aj = new Worker(mF); Aj.onmessage = function (e) { if (e = e.data.fakeId, Ze.hasOwnProperty(e)) { let t = Ze[e]; e = t.callback, t = t.parameters, e.apply(window, t); } }; const nF = (function (e) { function t() { return va(this, t), n.apply(this, arguments); }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'requestAsyncId', value(e, t) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0; return Qv(e.flush.bind(e, this), n); } }, { key: 'recycleAsyncId', value(e, t) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0; if (n !== null && this.delay === n && !1 === this.pending) return t; Ze.hasOwnProperty(t) && (delete Ze[t], Aj.postMessage({ name: 'clearInterval', fakeId: t })); } }]), t; }(gt)); const oF = new it(nF); const pF = ['group']; const mm = G.inflate; const St = G.deflate; const Tt = (function (e) {
    function t(e, n, o, i) { va(this, t); const s = r.call(this, i, 'Session'); return x(z(s), 'lastNoticeTicket', ''), x(z(s), 'chatManager', void 0), x(z(s), 'usedChannelIds', []), x(z(s), 'msgDedupLru', new Wc(void 0, { maxlen: 200 })), x(z(s), 'startTime', Date.now()), x(z(s), 'seq', P.fromNumber(1, !0)), x(z(s), 'userJoinOptions', new et(!1)), x(z(s), 'seqSentStatuses', [!1, !1]), x(z(s), 'dialogueSequenceLru', new Wc(void 0, { maxlen: 1e4 })), x(z(s), 'loggedOut', !1), x(z(s), 'messageSentTimes', []), x(z(s), 'curLoginSockets', [void 0, void 0]), x(z(s), 'loginSocketSubs', [{ channels: new Map(), receivers: [] }, { channels: new Map(), receivers: [] }]), x(z(s), 'lastLoginSockets', [new Te(1), new Te(1)]), x(z(s), 'dialPendingMsgSubjectMap', new Map()), x(z(s), 'context', void 0), x(z(s), 'connection', void 0), x(z(s), 'instanceId', void 0), x(z(s), 'lastPingTime', void 0), x(z(s), 'chanelStringMessageReport', void 0), x(z(s), 'chanelRawMessageReport', void 0), x(z(s), 'p2pSMsgNoOfflineReport', void 0), x(z(s), 'p2pRMsgNoOfflineReport', void 0), x(z(s), 'registerSocketsFailureListener', (() => { s.connection.once('socketsFailure', (() => { s.log('socketsFailure, creating a new connection'), yd((() => (s.connection.removeAllListeners(), s.connection = new ct(s.context, s.logger, !0), s.loginHandler(15e3, !0)))).pipe(Re(((e) => e.pipe(Zd(ue.getParameter('RECONNECTING_AP_INTERVAL'))))), Kc(s.connection.apClient.apFinish$)).subscribe((() => { s.log('new connection connected'); })); })), s.connection.listenerCount('tokenExpired') === 0 && s.connection.on('tokenExpired', (() => { s.emit('tokenExpired'); })); })), s.context = e, s.context.startTime = s.startTime, s.connection = n, s.instanceId = o, s.chatManager = new CE(i), s.lastPingTime = [0, 0], s.setMaxListeners(512), s.log('The instanceId is %s', s.instanceId.toString()), s.chanelStringMessageReport = new zi(e, i, Ka.ChannelSMsg), s.chanelRawMessageReport = new zi(e, i, Ka.ChannelRMsg), s.p2pSMsgNoOfflineReport = new zi(e, i, Ka.P2pSMsgNoOfflineFlag), s.p2pRMsgNoOfflineReport = new zi(e, i, Ka.P2pRMsgNoOfflineFlag), s; }Ga(t, e); let n; var r = Ha(t); return eb(t, [{
      key: 'loginHandler',
      value() {
        const e = this; const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 12e3; const n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; if (this.loggedOut && n) throw new da('Already logged out, request ignored'); n && this.registerSocketsFailureListener(), this.connection.initConnection(); const r = this.getSocketLoginObservables(this.connection.lastOpenSockets, this.seq); const o = Date.now(); return r.forEach(((t, r) => {
          const i = e.loginSocketSubs[r].login; void 0 !== i && i.unsubscribe(), e.loginSocketSubs[r].login = t.pipe(sa(((t) => {
            let i; e.curLoginSockets[r] = t; const s = Date.now(); bb('Link', {
              ackedServerIp: t.address, destServerIp: t.ip, ec: 0, sc: 0, elapse: Xa(e.startTime), lts: P.fromNumber(s), responseTime: s - o, sid: sb(e.instanceId), userId: e.context.uid,
            }, (i = e.context.config.enableCloudProxy) !== null && void 0 !== i && i), e.emit('userJoined', t.env), n && e.connection.apClient.apFinish$.next(void 0);
          }))).subscribe(e.lastLoginSockets[r]);
        })), this.initKeepAliveSender(), this.initKeepAliveReconnector(), this.initLoginReceiver(), Jb.apply(void 0, Z(r).concat([Db(this.connection, 'connectionInitFailure').pipe(sa(((e) => { if (Na(e) || Ab(e)) throw e; throw new Ja('Login failure', { code: $r, originalError: e }); })))])).pipe(hb(1), Lb(t), ab(((t) => (t instanceof Tb && e.warn('Client login timeout'), t && t.code === ti && (e.connection.emit('tokenExpired'), e.connection.apClient.apFinish$.next(void 0)), e.clearSockets(0, n), ra(t)))), sa((() => { n || e.registerSocketsFailureListener(); })), fh((() => { n || e.connection.apClient.apFinish$.next(void 0); })));
      },
    }, { key: 'logoutHandler', value: (n = ma(N.mark((function e() { let t; let n; let r; const o = this; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: return this.loggedOut = !0, this.connection.apClient.apFinish$.next(void 0), t = this.getLoginSockets(), n = t.map(((e) => (e.sendPacket('UserQuit', {}), o.connection.waitClosing(e)))), this.clearSockets(5e3), r = t.map(((e) => e.env)), [0, 1].filter(((e) => !r.includes(e))).forEach(((e) => { o.connection.closeSocket(e, 0); })), e.abrupt('return', Jb.apply(void 0, Z(n)).toPromise()); case 9: case 'end': return e.stop(); } }), e, this); }))), function () { return n.apply(this, arguments); }) }, { key: 'requestChannelJoin', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; let o; const i = this; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (this.getLoginSockets().length !== 0) { e.next = 2; break; } throw new da('Client is not logged in. Cannot join the channel', Wr); case 2: return n = Db(this, 'channelLeft').pipe(yb(((e) => t === e)), hb(1)), r = this.incGetSeq(), (o = this.lastLoginSockets.map(((e) => e.pipe(Kb(((e, n) => { n !== 0 && i.incSeqIfNeeded(e.env); const o = n === 0 ? r : i.seq; return e.sendPacket('GroupEnter', { account: t, seq: o }), e.fromReceived('GroupReply').pipe(Ca(((e) => o.eq(e.seq))), sa(((e) => { if ((e = e.code) !== 0) throw new Ja(['Channel join failure. The response code is %d', e], Sr); }))); })), Kc(n), Se())))).forEach(((e, n) => { const r = function () { return i.loginSocketSubs[n].channels.delete(t); }; i.loginSocketSubs[n].channels.set(t, e.subscribe({ error: r, complete: r })); })), e.next = 8, Jb.apply(void 0, Z(o)).pipe(hb(1), Lb(1e4), ab(((e) => (e instanceof Tb && i.warn('Channel join timeout'), ra(e))))).toPromise(); case 8: case 'end': return e.stop(); } }), e, this); }))); return function (t) { return e.apply(this, arguments); }; }()) }, { key: 'requestChannelLeave', value(e) { this.getLoginSockets().forEach(((t) => { t.sendPacket('GroupLeave', { account: e }); })); } }, {
      key: 'requestUpdateEdgeTicket',
      value(e) {
        const n = this; const r = this.getLoginSockets(); if (r.length === 0) throw new da('Client is not logged in. Cannot renew token', hs); const o = this.incGetSeq(); return r.forEach(((t) => {
          t.sendPacket('UserRenewTokenReq', {
            instance: n.instanceId, seq: o, account: n.context.uid, ticket: e,
          });
        })), fb.apply(void 0, [t.genTimeoutError(Ml)].concat(Z(r.map(((e) => e.fromReceived('UserRenewTokenResp').pipe(Ca(((e) => { const t = e.code; return o.eq(e.seq) && t === 0; }))))))));
      },
    }, {
      key: 'requestChannelMemberList',
      value(e) {
        const n = this.getLoginSockets(); if (n.length === 0) throw new da('Client is not logged in. Cannot get the channel members', JB); const r = this.incGetSeq(); return n.forEach(((t) => {
          t.sendPacket('GroupAllUsersList', {
            group: e, pageNumber: 0, pageSize: 200, seq: r,
          });
        })), fb.apply(void 0, [t.genTimeoutError(Qr)].concat(Z(n.map(((t) => t.fromReceived('GroupAllUsersResult').pipe(Ca(((t) => { const n = t.seq; return t.group === e && r.eq(n); }))))))));
      },
    }, { key: 'requestPeersOnlineStatus', value(e) { const n = this.getLoginSockets(); if (n.length === 0) throw new da('Client is not logged in'); const r = this.incGetSeq(); return n.forEach(((t) => { t.sendPacket('UserStatusList', { users: e, seq: r }); })), fb.apply(void 0, [t.genTimeoutError(VB)].concat(Z(n.map(((e) => e.fromReceived('UserStatusResult').pipe(Ca(((e) => r.eq(e.seq))))))))); } }, { key: 'requestSetLocalUserAttributes', value(e, n) { const r = this; const o = this.getLoginSockets(); if (o.length === 0) throw new da('Client is not logged in'); const i = this.incGetSeq(); return o.forEach(((t, o) => { void 0 !== n && o !== n || t.sendPacket('UserAttributeSet', { account: r.context.uid, attributeInfos: Object.entries(e).map(((e) => ({ key: (e = $a(e, 2))[0], value: e[1] }))), seq: i }); })), fb.apply(void 0, Z(o.map(((e) => e.fromReceived('UserAttributeErr').pipe(Ca(((e) => i.eq(e.seq))), Ea(((e) => { throw new Ja(['The user attributes set failure, code %d', e.code], oc); })))))).concat([t.genTimeoutError(pc)], Z(o.map(((e) => e.fromReceived('UserAttributeRsp').pipe(Ca(((e) => i.eq(e.seq))))))))); } }, {
      key: 'requestSetChannelAttributes',
      value(e, n, r) {
        const o = this.getLoginSockets(); if (o.length === 0) throw new da('Client is not logged in'); const i = this.incGetSeq(); return o.forEach(((t) => {
          t.sendPacket('GroupAttributeSet', {
            broadcast: r, group: e, attributeInfos: Object.entries(n).map(((e) => ({ key: (e = $a(e, 2))[0], value: e[1] }))), seq: i,
          });
        })), fb.apply(void 0, Z(o.map(((e) => e.fromReceived('GroupAttributeErr').pipe(Ca(((e) => i.eq(e.seq))), Ea(((e) => { throw new Ja(['The group attributes set failure, code %d', e.code], oc); })))))).concat([t.genTimeoutError(pc)], Z(o.map(((e) => e.fromReceived('GroupAttributeRsp').pipe(Ca(((e) => i.eq(e.seq)))))))));
      },
    }, { key: 'requestAddOrUpdateLocalUserAttributes', value(e) { const n = this; const r = this.getLoginSockets(); if (r.length === 0) throw new da('Client is not logged in'); const o = this.incGetSeq(); return r.forEach(((t) => { t.sendPacket('UserAttributeMod', { account: n.context.uid, attributeInfos: Object.entries(e).map(((e) => ({ key: (e = $a(e, 2))[0], value: e[1] }))), seq: o }); })), fb.apply(void 0, Z(r.map(((e) => e.fromReceived('UserAttributeErr').pipe(Ca(((e) => o.eq(e.seq))), Ea(((e) => { throw new Ja(['The user attributes add or update failure, code %d', e.code], oc); })))))).concat([t.genTimeoutError(pc)], Z(r.map(((e) => e.fromReceived('UserAttributeRsp').pipe(Ca(((e) => o.eq(e.seq))))))))); } }, {
      key: 'requestAddOrUpdateChannelAttributes',
      value(e, n, r) {
        const o = this.getLoginSockets(); if (o.length === 0) throw new da('Client is not logged in'); const i = this.incGetSeq(); return o.forEach(((t) => {
          t.sendPacket('GroupAttributeMod', {
            broadcast: r, group: e, attributeInfos: Object.entries(n).map(((e) => ({ key: (e = $a(e, 2))[0], value: e[1] }))), seq: i,
          });
        })), fb.apply(void 0, Z(o.map(((e) => e.fromReceived('GroupAttributeErr').pipe(Ca(((e) => i.eq(e.seq))), Ea(((e) => { throw new Ja(['The group attributes add or update failure, code %d', e.code], oc); })))))).concat([t.genTimeoutError(pc)], Z(o.map(((e) => e.fromReceived('GroupAttributeRsp').pipe(Ca(((e) => i.eq(e.seq)))))))));
      },
    }, { key: 'requestDeleteLocalUserAttributesByKeys', value(e) { const n = this; const r = this.getLoginSockets(); if (r.length === 0) throw new da('Client is not logged in'); const o = this.incGetSeq(); return r.forEach(((t) => { t.sendPacket('UserAttributeDel', { account: n.context.uid, attributes: e, seq: o }); })), fb.apply(void 0, Z(r.map(((e) => e.fromReceived('UserAttributeErr').pipe(Ca(((e) => o.eq(e.seq))), Ea(((e) => { throw new Ja(['The user attributes delete failure, code %d', e.code], oc); })))))).concat([t.genTimeoutError(pc)], Z(r.map(((e) => e.fromReceived('UserAttributeRsp').pipe(Ca(((e) => o.eq(e.seq))))))))); } }, {
      key: 'requestDeleteChannelAttributesByKeys',
      value(e, n, r) {
        const o = this.getLoginSockets(); if (o.length === 0) throw new da('Client is not logged in'); const i = this.incGetSeq(); return o.forEach(((t) => {
          t.sendPacket('GroupAttributeDel', {
            group: e, broadcast: r, attributes: n, seq: i,
          });
        })), fb.apply(void 0, Z(o.map(((e) => e.fromReceived('GroupAttributeErr').pipe(Ca(((e) => i.eq(e.seq))), Ea(((e) => { throw new Ja(['The channel attributes delete failure, code %d', e.code], oc); })))))).concat([t.genTimeoutError(pc)], Z(o.map(((e) => e.fromReceived('GroupAttributeRsp').pipe(Ca(((e) => i.eq(e.seq)))))))));
      },
    }, { key: 'requestClearLocalUserAttributes', value() { const e = this; const n = this.getLoginSockets(); if (n.length === 0) throw new da('Client is not logged in'); const r = this.incGetSeq(); return n.forEach(((t) => { t.sendPacket('UserAttributeSet', { account: e.context.uid, seq: r, attributeInfos: [] }); })), fb.apply(void 0, Z(n.map(((e) => e.fromReceived('UserAttributeErr').pipe(Ca(((e) => r.eq(e.seq))), Ea(((e) => { throw new Ja(['The user attributes clear failure, code %d', e.code], oc); })))))).concat([t.genTimeoutError(pc)], Z(n.map(((e) => e.fromReceived('UserAttributeRsp').pipe(Ca(((e) => r.eq(e.seq))))))))); } }, {
      key: 'requestClearChannelAttributes',
      value(e, n) {
        const r = this.getLoginSockets(); if (r.length === 0) throw new da('Client is not logged in'); const o = this.incGetSeq(); return r.forEach(((t) => {
          t.sendPacket('GroupAttributeSet', {
            group: e, seq: o, attributeInfos: [], broadcast: n,
          });
        })), fb.apply(void 0, Z(r.map(((e) => e.fromReceived('GroupAttributeErr').pipe(Ca(((e) => o.eq(e.seq))), Ea(((e) => { throw new Ja(['The channel attributes clear failure, code %d', e.code], oc); })))))).concat([t.genTimeoutError(pc)], Z(r.map(((e) => e.fromReceived('GroupAttributeRsp').pipe(Ca(((e) => o.eq(e.seq)))))))));
      },
    }, { key: 'requestGetUserAttributesByKeys', value(e, n) { const r = this.getLoginSockets(); if (r.length === 0) throw new da('Client is not logged in'); const o = this.incGetSeq(); return r.forEach(((t) => { t.sendPacket('UserAttributeGet', { account: e, seq: o, attributes: n }); })), fb.apply(void 0, [t.genTimeoutError(pc)].concat(Z(r.map(((e) => e.fromReceived('UserAttributeErr').pipe(Ca(((e) => o.eq(e.seq))), Ea(((e) => { if ((e = e.code) === 10008) throw new Ja('The user requested is not online', Mr); throw new ve(['User attribute operation unknown error code: %d', e], oc); })))))), Z(r.map(((e) => e.fromReceived('UserAttributeRet').pipe(Ca(((e) => o.eq(e.seq))))))))); } }, { key: 'requestGetChannelAttributesByKeys', value(e, n) { const r = this.getLoginSockets(); if (r.length === 0) throw new da('Client is not logged in'); const o = this.incGetSeq(); return r.forEach(((t) => { t.sendPacket('GroupAttributeGet', { group: e, seq: o, attributes: n }); })), fb.apply(void 0, [t.genTimeoutError(pc)].concat(Z(r.map(((e) => e.fromReceived('GroupAttributeErr').pipe(Ca(((e) => o.eq(e.seq))), Ea(((e) => { throw new Ja(['The channel attributes get failure, code %d', e.code], oc); })))))), Z(r.map(((e) => e.fromReceived('GroupAttributeRet').pipe(Ca(((e) => o.eq(e.seq))))))))); } }, { key: 'requestGetUserAttributeKeys', value(e) { const n = this.getLoginSockets(); if (n.length === 0) throw new da('Client is not logged in'); const r = this.incGetSeq(); return n.forEach(((t) => { t.sendPacket('UserAttributeKeysGet', { account: e, seq: r }); })), fb.apply(void 0, [t.genTimeoutError(pc)].concat(Z(n.map(((e) => e.fromReceived('UserAttributeErr').pipe(Ca(((e) => r.eq(e.seq))), Ea(((e) => { if ((e = e.code) === 10008) throw new Ja('The user requested is not online', Mr); throw new ve(['User attribute operation unknown error code: %d', e], oc); })))))), Z(n.map(((e) => e.fromReceived('UserAttributeKeysRet').pipe(Ca(((e) => r.eq(e.seq))))))))); } }, { key: 'requestGetChannelAttributesKeys', value(e) { const n = this.getLoginSockets(); if (n.length === 0) throw new da('Client is not logged in'); const r = this.incGetSeq(); return n.forEach(((t) => { t.sendPacket('GroupAttributeKeysGet', { group: e, seq: r }); })), fb.apply(void 0, [t.genTimeoutError(pc)].concat(Z(n.map(((e) => e.fromReceived('GroupAttributeErr').pipe(Ca(((e) => r.eq(e.seq))), Ea(((e) => { throw new ve(['Channel attribute operation unknown error code: %d', e.code], oc); })))))), Z(n.map(((e) => e.fromReceived('GroupAttributeKeysRet').pipe(Ca(((e) => r.eq(e.seq))))))))); } }, { key: 'requestGetChannelMemberCount', value(e) { const n = this.getLoginSockets(); if (n.length === 0) throw new da('Client is not logged in'); const r = this.incGetSeq(); return n.forEach(((t) => { t.sendPacket('GroupStatusList', { groups: e, seq: r }); })), fb.apply(void 0, [t.genTimeoutError(Qr)].concat(Z(n.map(((e) => e.fromReceived('GroupStatusResult').pipe(Ca(((e) => r.eq(e.seq))))))))); } }, { key: 'requestSubscribePeersOnlineStatus', value(e) { const n = this.getLoginSockets(); if (n.length === 0) throw new da('Client is not logged in'); const r = this.incGetSeq(); return n.forEach(((t) => { t.sendPacket('SubscribeUserStatus', { seq: r, users: e }); })), fb.apply(void 0, [t.genTimeoutError($B)].concat(Z(n.map(((e) => e.fromReceived('SubscribeResponse').pipe(Ca(((e) => r.eq(e.seq))))))))); } }, { key: 'requestUnsubscribePeersOnlineStatus', value(e) { const t = this.getLoginSockets(); if (t.length === 0) throw new da('Client is not logged in'); const n = this.incGetSeq(); t.forEach(((t) => { t.sendPacket('UnsubscribeUserStatus', { seq: n, users: e }); })); } }, {
      key: 'sendInvitationMessage',
      value: (function () {
        const e = ma(N.mark((function e(t) {
          let n; let r; let o; let i; let s; let a; let c; let u; let l; let f; let h; let p; const d = this; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (n = t.peerId, r = t.callId, o = t.extra, i = t.isAcceptAck, s = t.channelId, a = t.type, c = { callId: r }, void 0 === i) { e.next = 6; break; } if (a === 'CallAccept') { e.next = 5; break; } throw Error('invalid invitation type'); case 5: c.type = i ? 'ack' : 'request'; case 6: return c.channel = s, (a === 'CallInvite' || a === 'CallCancel' || a === 'CallReject' || a === 'CallAccept' && !1 === i) && void 0 !== o && (c.extra = o), u = nh(), this.log('The sent invitation body is %o', c), l = function (e) {
                  return {
                    MiscMap: {}, sequence: P.fromNumber(1), dialogue: u, instance: d.instanceId, dst: n, ms: P.fromNumber(Date.now(), !0), options: new Ef({ IterationNumber: e, MessageType: a }).toLong(), payload: (new TextEncoder()).encode(JSON.stringify(c)), src: d.context.uid,
                  };
                }, e.next = 14, Jc(this.sendMessageToRetry(l, !0)).pipe(Lb(1e4), ab(((e) => (e instanceof Tb && d.warn('Send invitation timeout'), ra(e))))).toPromise(); case 14: return f = e.sent, h = f.code, p = f.retryTimes, e.abrupt('return', { hasPeerReceived: h === 0, hasReSent: p !== 0 }); case 18: case 'end': return e.stop();
              }
            }
          }), e, this);
        }))); return function (t) { return e.apply(this, arguments); };
      }()),
    }, {
      key: 'sendRawMessage',
      value: (function () {
        const e = ma(N.mark((function e(t, n, r, o, i) {
          let s; let a; let c; let u; let l; let f; let h; let p; let d; let b; let g; const v = this; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (s = Date.now(), a = o ? Ka.P2pRMsgNoOfflineFlag : Ka.ChannelRMsg, Ta(r) && t instanceof Uint8Array && typeof n === 'string') { e.next = 4; break; } throw new ca('The send message arguments are not valid', o ? fs : qi); case 4: if (!(t.byteLength + new Blob([n]).size > 32768)) { e.next = 8; break; } throw this.emit('messageCount', { messageCategory: a, type: 'common', key: 'sentcount' }), this.emit('messageCount', { messageCategory: a, type: 'common', key: 'invalidmessagecount' }), new ic('The message size is over the 32KB limit', o ? bg : Il); case 8: return c = !ue.getParameter('DISABLE_MESSAGE_COMPRESSION') && t.byteLength >= 128, u = this.chatManager.getChatInfo(r), l = u.dialogue, f = u.sequence, h = this.instanceId, this.log('A%s %s raw message is sending to %s: "'.concat(h, '-').concat(l, '#').concat(f, '"'), c ? ' compressed' : '', o ? 'peer' : 'channel', La(r)), p = function (e) {
                  return {
                    MiscMap: { description: (new TextEncoder()).encode(n) },
                    sequence: f,
                    dialogue: l,
                    instance: h,
                    dst: r,
                    ms: P.fromNumber(Date.now(), !0),
                    options: new Ef({
                      IterationNumber: e, CompressionMethod: c ? 'Zlib' : 'Uncompressed', MessageType: o ? 'PeerRawMessage' : 'ChannelRawMessage', ToCache: !1, ToArchive: !1,
                    }).toLong(),
                    payload: c ? St(t) : t,
                    src: v.context.uid,
                  };
                }, e.next = 15, Jc(this.sendMessageToRetry(p, !0)).pipe(Lb(void 0 === i ? 1e4 : i), ab(((e) => (e instanceof Tb && v.warn('Send message timeout'), ra(e))))).toPromise(); case 15: return d = e.sent, b = d.code, g = b === 0, this.emit('messageCount', { messageCategory: a, type: 'common', key: 'sentcount' }), g && (this.emit('messageCount', { messageCategory: a, type: 'common', key: 'successcount' }), this.emit('messageCount', { messageCategory: a, type: o ? 'peer' : 'recipient', delay: Xa(s).toNumber() })), e.abrupt('return', { hasPeerReceived: g }); case 21: case 'end': return e.stop();
              }
            }
          }), e, this);
        }))); return function (t, n, r, o, i) { return e.apply(this, arguments); };
      }()),
    }, {
      key: 'sendTextMessage',
      value: (function () {
        const e = ma(N.mark((function e(t, n, r, o) {
          let i; let s; let a; let c; let u; let l; let f; let h; let p; let d; let b; let g; const v = this; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (i = Date.now(), s = r ? Ka.P2pSMsgNoOfflineFlag : Ka.ChannelSMsg, Ta(n)) { e.next = 4; break; } throw new ca('The send message arguments are not valid', r ? fs : qi); case 4: if (!(new Blob([t]).size > 32768)) { e.next = 8; break; } throw this.emit('messageCount', { messageCategory: s, type: 'common', key: 'sentcount' }), this.emit('messageCount', { messageCategory: s, type: 'common', key: 'invalidmessagecount' }), new ic('The message size is over the 32KB limit', r ? bg : Il); case 8: return a = !ue.getParameter('DISABLE_MESSAGE_COMPRESSION') && new Blob([t]).size >= 128, c = this.chatManager.getChatInfo(n), u = c.dialogue, l = c.sequence, f = this.instanceId, this.log('A%s %s message is sending to %s: "'.concat(f, '-').concat(u, '#').concat(l, '"'), a ? ' compressed' : '', r ? 'peer' : 'channel', La(n)), h = (new TextEncoder()).encode(t), p = function (e) {
                  return {
                    MiscMap: {},
                    sequence: l,
                    dialogue: u,
                    instance: f,
                    dst: n,
                    ms: P.fromNumber(Date.now(), !0),
                    options: new Ef({
                      IterationNumber: e, CompressionMethod: a ? 'Zlib' : 'Uncompressed', MessageType: r ? 'PeerTextMessage' : 'ChannelTextMessage', ToCache: !1, ToArchive: !1,
                    }).toLong(),
                    payload: a ? St(h) : h,
                    src: v.context.uid,
                  };
                }, e.next = 16, Jc(this.sendMessageToRetry(p, !0)).pipe(Lb(void 0 === o ? 1e4 : o), ab(((e) => (e instanceof Tb && (v.emit('messageCount', { messageCategory: s, type: 'common', key: 'sentcount' }), v.emit('messageCount', { messageCategory: s, type: 'common', key: 'timeoutcount' }), v.warn('Send message timeout')), ra(e))))).toPromise(); case 16: return d = e.sent, b = d.code, g = b === 0, this.emit('messageCount', { messageCategory: s, type: 'common', key: 'sentcount' }), g && (this.emit('messageCount', { messageCategory: s, type: 'common', key: 'successcount' }), this.emit('messageCount', { messageCategory: s, type: r ? 'peer' : 'recipient', delay: Xa(i).toNumber() })), e.abrupt('return', { hasPeerReceived: g }); case 22: case 'end': return e.stop();
              }
            }
          }), e, this);
        }))); return function (t, n, r, o) { return e.apply(this, arguments); };
      }()),
    }, { key: 'cleanLoginSubs', value(e, t) { Object.entries(this.loginSocketSubs[e]).forEach(((e) => { const n = (e = $a(e, 2))[1]; e[0] === 'channels' && t || (Array.isArray(n) || n instanceof Map ? n.forEach(((e) => e.unsubscribe())) : n && n.unsubscribe()); })), this.loginSocketSubs[e] = { channels: t ? this.loginSocketSubs[e].channels : new Map(), receivers: [] }; } }, { key: 'sendMessageToRetry', value: (function () { const e = ma(N.mark((function e(t, n) { let r; let o; let i; let s; let a; let c; let u; let l; let f; const h = this; const p = arguments; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (r = p.length > 2 && void 0 !== p[2] ? p[2] : 0, this.log('Attempt to send the message '.concat(n ? ' with retrying, %o' : 'without retrying'), { retryTimes: r }), (o = this.getLoginSockets()).length !== 0) { e.next = 5; break; } throw Error('no logged-in sockets'); case 5: return i = t(r), o.forEach(((e) => { e.sendPacket('Message', i); })), s = i.dialogue, a = i.sequence, c = i.instance, u = o.map(((e) => e.fromReceived('Ack').pipe(yb(((e) => s.eq(e.dialogue) && a.eq(e.sequence) && c.eq(e.instance)))))), e.prev = 9, e.next = 12, Jb.apply(void 0, Z(u)).pipe(Lb(6e3), ab(((e) => (Ab(e) && h.warn('Message send timeout, retry times %d', r), ra(e)))), hb(1)).toPromise(); case 12: return l = e.sent, f = l.code, this.log('The message has been acked, %o', { code: f }), e.abrupt('return', { code: f, retryTimes: r }); case 18: if (e.prev = 18, e.t0 = e.catch(9), !(e.t0 instanceof Tb && n)) { e.next = 22; break; } return e.abrupt('return', this.sendMessageToRetry(t, !1, r + 1)); case 22: throw e.t0; case 23: case 'end': return e.stop(); } }), e, this, [[9, 18]]); }))); return function (t, n) { return e.apply(this, arguments); }; }()) }, { key: 'initKeepAliveSender', value() { const e = this; this.lastLoginSockets.map(((t) => t.pipe(Kb(((t) => dd(0, 2500, Ce() ? void 0 : oF).pipe(sa((() => { e.sendPing(t); })))))))).forEach(((t, n) => { const r = e.loginSocketSubs[n].keepAlive; void 0 !== r && r.unsubscribe(), e.loginSocketSubs[n].keepAlive = t.subscribe({ error() {} }); })); } }, { key: 'initKeepAliveReconnector', value() { const e = this; this.lastLoginSockets.map(((e) => e.pipe(Kb(((e) => { let t; let n = !1; const r = e.userJoin$.pipe(sa((() => { n = !0; }))); const o = e.input$.pipe(sa(((e) => { yj[e.uri].slice(0, -3) !== 'Ping' && (n = !1); }))); return Jb(dd(6e3, 1e4).pipe(yv(e.receivedPacket), sa(((r) => { r = $a(r, 2), r = $a(r[1], 2)[1], t !== r || n || e.forceReconnect(), t = r; }))), r, o); }))))).forEach(((t, n) => { const r = e.loginSocketSubs[n].keepAliveReconnector; void 0 !== r && r.unsubscribe(), e.loginSocketSubs[n].keepAliveReconnector = t.subscribe({ error() {} }); })); } }, { key: 'initLoginReceiver', value() { const e = this; fb.apply(void 0, Z(this.lastLoginSockets.map(((t) => t.pipe(Kb(((t) => t.fromReceived('UserTicketNearlyExpire').pipe(sv(5e3), sa(e.onUserTicketNearlyExpire(t)))))))))).subscribe(); let t = Db(this, 'messageCount'); let n = t.pipe(yb(((e) => e.messageCategory === Ka.ChannelSMsg))); n.subscribe(((t) => e.updateMessageCount(t))), n.pipe(dh(6e3)).subscribe(((t) => { t.length && e.chanelStringMessageReport.report(); })), Jb(ob(void 0), n).pipe(Kb((() => Qe(36e5)))).subscribe((() => { e.chanelStringMessageReport.report(); })), (n = t.pipe(yb(((e) => e.messageCategory === Ka.ChannelRMsg)))).subscribe(((t) => e.updateMessageCount(t))), n.pipe(dh(6e3)).subscribe(((t) => { t.length && e.chanelRawMessageReport.report(); })), Jb(ob(void 0), n).pipe(Kb((() => Qe(36e5)))).subscribe((() => { e.chanelRawMessageReport.report(); })), (n = t.pipe(yb(((e) => e.messageCategory === Ka.P2pSMsgNoOfflineFlag)))).subscribe(((t) => e.updateMessageCount(t))), n.pipe(dh(6e3)).subscribe(((t) => { t.length && e.p2pSMsgNoOfflineReport.report(); })), Jb(ob(void 0), n).pipe(Kb((() => Qe(36e5)))).subscribe((() => { e.p2pSMsgNoOfflineReport.report(); })), (t = t.pipe(yb(((e) => e.messageCategory === Ka.P2pRMsgNoOfflineFlag)))).subscribe(((t) => e.updateMessageCount(t))), t.pipe(dh(6e3)).subscribe(((t) => { t.length && e.p2pRMsgNoOfflineReport.report(); })), Jb(ob(void 0), t).pipe(Kb((() => Qe(36e5)))).subscribe((() => { e.p2pSMsgNoOfflineReport.report(); })), this.lastLoginSockets.map(((t) => t.pipe(Kb(((t) => Jb(Db(t, 'reconnect').pipe(sa(e.onSocketReconnect(t))), t.fromReceived('Message').pipe(sa(e.onMessage(t))), t.fromReceived('GroupEnterNotice').pipe(sa(e.onGroupEnterNotice())), t.fromReceived('GroupLeaveNotice').pipe(sa(e.onGroupLeaveNotice())), t.fromReceived('GroupCountNotice').pipe(sa(e.onGroupCountNotice())), t.fromReceived('GroupAttributeAlt').pipe(sa(e.onGroupAttributeAlt())), t.fromReceived('UserJoinNotice').pipe(sa(e.onUserNotice(ta.PeerOnlineState.ONLINE))), t.fromReceived('UserQuitNotice').pipe(sa(e.onUserNotice(ta.PeerOnlineState.OFFLINE))), t.fromReceived('UserWaitNotice').pipe(sa(e.onUserNotice(ta.PeerOnlineState.UNREACHABLE))), t.fromReceived('Pong').pipe(sa(e.onPong())), t.fromReceived('UserDrop').pipe(sa(e.onUserDrop(t))), t.fromReceived('GroupDrop').pipe(sa(e.onGroupDrop()))).pipe(Uf(void 0))))))).forEach(((t, n) => { e.loginSocketSubs[n].receivers.push(t.subscribe({ error() {} })); })); } }, {
      key: 'requestSocketLogin',
      value(e, t, n) {
        const r = this; return nn(yd((() => {
          r.userJoinOptions = new et(t), e.sendPacket('UserJoin', {
            account: r.context.uid, instance: r.instanceId, opt: r.userJoinOptions.toLong(), seq: n, ticket: e.ticket,
          });
        })), e.fromReceived('UserResp').pipe(Ca(((e) => n.eq(e.seq))), sa(((t) => { if ((t = t.code) !== 0) throw r.clearSockets(), r.logError('Connected to gateway success but the Rtm server rejected login'), new Ja(['Login failure. The response code from the RTM service is %d', t], Pg); e.attemptsSinceLastError = 0, e.loggedIn = !0, r.log('ENV_%d logged in', e.env); })), Uf(e), Lb(6e3))).pipe(yb(((e) => void 0 !== e)), ab(((n) => (n instanceof Tb && r.warn('Login response timeout, rejoin: %s', t), r.clearSockets(), n.name = 'loginRespTimeout', r.emit('banEdgeIP', e.ip), ra(n)))));
      },
    }, { key: 'getSocketLoginObservables', value(e, t) { const n = this; return e.map(((e) => e.pipe(Kb(((e, r) => (n.incSeqIfNeeded(e.env), n.requestSocketLogin(e, r !== 0, r === 0 ? t : n.seq)))), Se()))); } }, { key: 'incSeqIfNeeded', value(e) { if (![0, 1].includes(e)) throw new mb({ INVALID_ENV: 'The env argument is not 0 or 1' }); this.seqSentStatuses[e] && (this.seq = this.seq.add(1), this.seqSentStatuses = [!1, !1]), this.seqSentStatuses[e] = !0; } }, { key: 'incGetSeq', value() { return this.seq = this.seq.add(1), this.seqSentStatuses = [!0, !0], this.seq; } }, { key: 'getLoginSockets', value() { for (var e = this.curLoginSockets, t = -1, n = e == null ? 0 : e.length, r = 0, o = []; ++t < n;) { const i = e[t]; i && (o[r++] = i); } return o; } }, {
      key: 'emitMessage',
      value(e, n) {
        let r; let o = e.options; let i = e.payload; let s = e.src; let a = e.dst; let c = e.instance; const u = e.dialogue; const l = e.sequence; const f = e.ms; let h = e.MiscMap; this.dialogueSequenceLru.set(u.toString(), l), c = ''.concat(c, '-').concat(u, '#').concat(l), this.msgDedupLru.has(c) ? this.warn('Env_%d: Messages out-of-order or not start with 1: %s', n, c) : (this.msgDedupLru.set(c, void 0), o = new Ef(o), this.lastLoginSockets.forEach((r = ma(N.mark((function n(r) { let o; return N.wrap(((n) => { for (;;) switch (n.prev = n.next) { case 0: return n.next = 2, r.pipe(hb(1)).toPromise(); case 2: o = n.sent, t.sendMessageAck(e, o); case 4: case 'end': return n.stop(); } }), n); }))), function (e) { return r.apply(this, arguments); })), n = o.isZlibCompressed(), o.isInvitation() ? (a = cg(n ? mm(ao(i, Uint8Array.of(0, 0, 0, 0))) : i), a = JSON.parse(a), this.log('The received invitation body is %o', a), this.emit('invitationMessage', {
          body: a, type: o.getInvitationType(), peerId: s, serverReceivedTs: f.toNumber(),
        })) : o.isTextMessage() ? (h = o.isPeerTextMessage(), i = cg(n ? mm(ao(i, Uint8Array.of(0, 0, 0, 0))) : i), this.info('Received a %s %s text message from %s to %s, %s', n ? ' compressed' : '', h ? 'peer' : 'channel', La(s), La(a), c), h ? (s = { text: i, peerId: s, properties: { serverReceivedTs: f.toNumber() } }, this.emit('peerTextMessage', s), this.emit('messageCount', { messageCategory: Ka.P2pSMsgNoOfflineFlag, type: 'common', key: 'receivedcount' })) : (this.emit('channelTextMessage', {
          channelId: a, memberId: s, text: i, properties: { serverReceivedTs: f.toNumber() },
        }), this.emit('messageCount', { messageCategory: Ka.ChannelSMsg, type: 'common', key: 'receivedcount' }))) : o.isRawMessage() && (o = o.isRawPeerMessage(), h = void 0 === (h = h.description) ? '' : cg(h), i = n ? mm(i) : i, this.info('Received a %s %s raw message from %s to %s, %s', n ? ' compressed' : '', o ? 'peer' : 'channel', La(s), La(a), c), o ? (s = {
          desc: h, raw: i, peerId: s, properties: { serverReceivedTs: f.toNumber() },
        }, this.emit('peerRawMessage', s), this.emit('messageCount', { messageCategory: Ka.P2pRMsgNoOfflineFlag, type: 'common', key: 'receivedcount' })) : (this.emit('channelRawMessage', {
          desc: h, raw: i, channelId: a, memberId: s, properties: { serverReceivedTs: f.toNumber() },
        }), this.emit('messageCount', { messageCategory: Ka.ChannelRMsg, type: 'common', key: 'receivedcount' }))));
      },
    }, { key: 'onSocketReconnect', value(e) { const t = this; return function () { let n = [0, 1].filter(((t) => t !== e.env))[0]; (n = t.connection.curOpenSockets[n]) && !n.loggedIn && t.emit('connectionLost'); }; } }, { key: 'onUserTicketNearlyExpire', value(e) { const t = this; return function (n) { (n = n.ticket) !== t.lastNoticeTicket && n === e.ticket ? (t.lastNoticeTicket = n, t.emit('tokenPrivilegeWillExpire')) : t.requestUpdateEdgeTicket(e.ticket).toPromise(); }; } }, {
      key: 'onGroupDrop',
      value() {
        const e = this; return function (t) {
          let n; const r = t.account; bb('ChnLeave', {
            cname: r, lts: P.fromNumber(Date.now()), elapse: Xa(e.startTime), errCode: RB, sid: sb(e.instanceId), userId: e.context.uid,
          }, (n = e.context.config.enableCloudProxy) !== null && void 0 !== n && n), [0, 1].forEach(((t) => e.loginSocketSubs[t].channels.delete(r))), e.logError('the user is kicked out of the current channel');
        };
      },
    }, {
      key: 'onUserDrop',
      value(e) {
        const t = this; return function (n) {
          let r; n = n.code, bb('KickedOff', {
            code: 0, elapse: Xa(t.startTime), linkId: parseInt(e.name.split('-')[1], 10), lts: P.fromNumber(Date.now()), server: e.address, serverCode: n, sid: sb(t.instanceId), userId: t.context.uid,
          }, (r = t.context.config.enableCloudProxy) !== null && void 0 !== r && r), n === 10006 || n === 10001 ? t.warn('Login too often and kicked off, reconnect and login') : n === 10009 ? (t.warn('The instance ID conflicts, reconnecting'), t.instanceId = nh(), t.context.sid = sb(t.instanceId), t.emit('instanceChanged', t.instanceId)) : [2, 11, 14, 15, 16].includes(n) && (t.emit('userDrop', n), t.clearSockets());
        };
      },
    }, { key: 'clearSockets', value() { const e = this; const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0; const n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; [0, 1].forEach(((r) => { e.cleanLoginSubs(r, n), e.connection.closeSocket(r, t); })); } }, { key: 'onMessage', value(e) { const t = this; return function (n) { let r = n.dialogue; let o = n.instance; let i = n.sequence; let s = n.options; if (n.src === t.context.uid)t.log('The message is from the local account, ignored'); else { const a = r.toString(); let c = t.dialPendingMsgSubjectMap.get(a); if (r = ''.concat(o, '-').concat(r, '#').concat(i), c)c.next(n), t.log('Env_%d: The dialogue has pending messages, next: %s', e.env, r); else { const u = t.dialogueSequenceLru.get(a); if (c = !u && i.eq(1), o = void 0 !== u && i.sub(u).eq(1), c || o)t.emitMessage(n, e.env); else { if (u) { if (i.lte(u)) return; t.log('Env_%d: The message pended, the sequence is not continuous with the last: %s', e.env, r); } else t.log('Env_%d: The message pended, the first sequence is not equal to 1: %s', e.env, r); i = new rb(), t.dialPendingMsgSubjectMap.set(a, i); const l = i.pipe(Au(zl), gh(((e, t) => [].concat(Z(e), [t])), []), Ea(((e) => Z(e).sort(((e, t) => (e = e.sequence, t = t.sequence, e.eq(t) ? 0 : e.gt(t) ? 1 : -1))))), wn(1)); s = !(s = new Ef(s)).isFromCache() && !s.isBufferedMessage(), l.pipe(Kc(dd(s ? 750 : 1500)), Ca(((e) => { if (e.length < 2) return !1; for (let t = void 0 === u ? P.fromNumber(1, !0) : u.add(1), n = 0; n < e.length; t = t.add(1), n++) if (!e[n].sequence.eq(t)) return !1; return !0; })), fh((() => { t.dialPendingMsgSubjectMap.delete(a); }))).subscribe(((n) => { n.forEach(((n) => { t.emitMessage(n, e.env), t.log('Env_%d: The message queue has fully ordered, emitting: %s', e.env, ''.concat(n.instance, '-').concat(n.dialogue, '#').concat(n.sequence)); })); }), ((n) => { n instanceof eh && l.pipe(hb(1)).subscribe(((n) => n.forEach(((n) => { t.log('Env_%d: The message pending queue expired, emitting: %s', e.env, ''.concat(n.instance, '-').concat(n.dialogue, '#').concat(n.sequence)), t.emitMessage(n, e.env); })))); })), i.next(n); } } } }; } }, { key: 'onPong', value() { const e = this; return function () { document.hidden && e.getLoginSockets().forEach(((t) => { e.sendPing(t); })); }; } }, {
      key: 'onGroupEnterNotice',
      value() {
        const e = this; return function (t) {
          e.emit('memberNotice', {
            channelId: t.group, seq: t.seq, instance: t.instance, memberId: t.user, type: 'MemberJoined', size: t.size,
          });
        };
      },
    }, {
      key: 'onGroupLeaveNotice',
      value() {
        const e = this; return function (t) {
          e.emit('memberNotice', {
            channelId: t.group, seq: t.seq, instance: t.instance, memberId: t.user, type: 'MemberLeft', size: t.size,
          });
        };
      },
    }, {
      key: 'onGroupCountNotice',
      value() {
        const e = this; return function (t) {
          e.emit('memberNotice', {
            channelId: t.group, seq: t.seq, instance: t.instance, type: 'MemberCountUpdated', size: t.size,
          });
        };
      },
    }, { key: 'onGroupAttributeAlt', value() { const e = this; return function (t) { const n = t.group; t = Ki(t, pF), e.emit('channelAttributesUpdated', Wa({ channelId: n }, t)); }; } }, {
      key: 'onUserNotice',
      value(e) {
        const t = this; return function (n) {
          t.emit('peerOnlineStatusChanged', {
            peerId: n.user, instance: n.instance, seq: n.seq, state: e,
          });
        };
      },
    }, { key: 'sendPing', value(e) { Date.now() - this.lastPingTime[e.env] <= 2500 || (this.incSeqIfNeeded(e.env), e.sendPacket('Ping', { ms: P.fromNumber(Date.now(), !0), seq: this.seq }), this.lastPingTime[e.env] = Date.now()); } }, { key: 'updateMessageCount', value(e) { let t; const n = (t = {}, x(t, Ka.ChannelRMsg, this.chanelRawMessageReport), x(t, Ka.ChannelSMsg, this.chanelStringMessageReport), x(t, Ka.P2pRMsgNoOfflineFlag, this.p2pRMsgNoOfflineReport), x(t, Ka.P2pSMsgNoOfflineFlag, this.p2pSMsgNoOfflineReport), x(t, 3, void 0), x(t, 4, void 0), x(t, 7, void 0), x(t, 8, void 0), x(t, 9, void 0), x(t, 10, void 0), t)[e.messageCategory]; e.type === 'common' ? n == null || n.updateCommonCount(e.key) : e.type === 'peer' ? n == null || n.updatePeerAckCount(e.delay) : n == null || n.updateNorecipientackCount(e.delay); } }], [{
      key: 'sendMessageAck',
      value(e, t) {
        const n = new Ef(e.options); (n.isInvitation() || n.isPeerMessage()) && t.sendPacket('Ack', {
          code: 0, dialogue: e.dialogue, instance: e.instance, sequence: e.sequence,
        });
      },
    }]), t;
  }(sc())); x(Tt, 'genTimeoutError', ((e, t) => ob(void 0).pipe(Zd(void 0 === t ? 1e4 : t), Ea((() => { throw new Ub(['Request timed out after %ds', (void 0 === t ? 1e4 : t) / 1e3], e); }))))); let Ut; let nm; let om = 0; let pm = 0; Ng.v1 = function (e, t, n) { n = t && n || 0; const r = t || []; let o = (e = e || {}).node || Ut; let i = void 0 !== e.clockseq ? e.clockseq : nm; if (o == null || i == null) { var s = Kr(); o == null && (o = Ut = [1 | s[0], s[1], s[2], s[3], s[4], s[5]]), i == null && (i = nm = 16383 & (s[6] << 8 | s[7])); }s = void 0 !== e.msecs ? e.msecs : (new Date()).getTime(); let a = void 0 !== e.nsecs ? e.nsecs : pm + 1; const c = s - om + (a - pm) / 1e4; if (c < 0 && void 0 === e.clockseq && (i = i + 1 & 16383), (c < 0 || s > om) && void 0 === e.nsecs && (a = 0), a >= 1e4) throw Error("uuid.v1(): Can't create more than 10M uuids/sec"); for (om = s, pm = a, nm = i, e = (1e4 * (268435455 & (s += 122192928e5)) + a) % 4294967296, r[n++] = e >>> 24 & 255, r[n++] = e >>> 16 & 255, r[n++] = e >>> 8 & 255, r[n++] = 255 & e, e = s / 4294967296 * 1e4 & 268435455, r[n++] = e >>> 8 & 255, r[n++] = 255 & e, r[n++] = e >>> 24 & 15 | 16, r[n++] = e >>> 16 & 255, r[n++] = i >>> 8 | 128, r[n++] = 255 & i, i = 0; i < 6; ++i)r[n + i] = o[i]; return t || Lr(r); }, Ng.v4 = Ng; const qm = yi(); let Sd; const Hf = ta.LocalInvitationFailureReason; const Sa = ta.LocalInvitationState; const qF = (Sd = (function (e) {
    function t(e, r, o) { va(this, t); const i = n.call(this, o, 'RtmLocalInvitation', !0); return x(z(i), 'state', Sa.IDLE), x(z(i), 'localInvitationEnd$', fb(Db(z(i), 'LocalInvitationAccepted'), Db(z(i), 'LocalInvitationRefused'), Db(z(i), 'LocalInvitationFailure'), Db(z(i), 'LocalInvitationCanceled')).pipe(hb(1))), x(z(i), 'callId', Ng.v4()), x(z(i), '_content', ''), x(z(i), '_channelId', ''), x(z(i), '_response', ''), x(z(i), 'calleeId', void 0), x(z(i), 'logger', void 0), x(z(i), 'getSession', void 0), i.calleeId = e, i.getSession = r, i.logger = o, i; }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'channelId', get() { return this._channelId; }, set(e) { this.state !== Sa.IDLE ? this.info('set channelId only allow before invitation sent to remote') : (this.log('set channelId for %s', this.callId), this._channelId = e); } }, { key: 'content', get() { return this._content; }, set(e) { this.log('set content for %s', this.callId), this._content = e; } }, { key: 'response', get() { return this._response; }, set(e) { throw new ca('Cannot set the "response" of the LocalInvitation instance.', Xc); } }, {
      key: 'send',
      value() {
        let e; const t = this; if (this.state === Sa.SENT_TO_REMOTE || this.state === Sa.RECEIVED_BY_REMOTE) throw new da('The local invitation send failure. The call invitation has already been sent.', NB); if (this.isLocalInvitationEnd()) throw new da('The local invitation send failure. The call invitation has ended.', ri); if (this._channelId.length > 0 && !Ta(this._channelId)) throw new ca('Illegal invitation channel ID', Xc); if (!Ta(this.calleeId)) throw new ca('Illegal invitation callee user ID', Xc); if (rh(this._content) > 8192) throw new ca('The length of the "content" overflows. The number of bytes representing content must not exceed 8 Ã 1024 if encoded in UTF-8.', Xc); this.state = Sa.SENT_TO_REMOTE, yd(ma(N.mark((function n() {
          let r; let o; let i; return N.wrap(((n) => {
            for (;;) {
              switch (n.prev = n.next) {
                case 0: return n.next = 2, t.getSession().sendInvitationMessage({
                  peerId: t.calleeId, callId: t.callId, extra: t._content, type: 'CallInvite', channelId: t._channelId,
                }); case 2: if (r = n.sent, o = r.hasPeerReceived, i = r.hasReSent, !t.isLocalInvitationEnd()) { n.next = 7; break; } throw new Ub('send invitation timeout'); case 7: if (t.log('The local invitation has sent to the callee'), o || i) { n.next = 11; break; } throw e = new qm({ PEER_NOT_ONLINE: 'The peer of the invitation is not online' }); case 11: if (o) { n.next = 14; break; } throw e = new qm({ RESENT_AND_OFFLINE: 'Resent and the peer of the invitation is not online' }); case 14: case 'end': return n.stop();
              }
            }
          }), n);
        })))).pipe(Re(((e) => e.pipe(sa(((e) => { if (!(e instanceof qm)) throw e; })), Zd(2e3)))), Lb(3e4), ab(((e) => (Ab(e) && t.warn('local invitation ack timed out'), ra(e)))), Kc(this.localInvitationEnd$)).subscribe({ next() { t.state === Sa.RECEIVED_BY_REMOTE ? t.log('The local invitation state is already "RECEIVED_BY_REMOTE", skipped emitting "LocalInvitationReceivedByPeer"') : t.state !== Sa.SENT_TO_REMOTE ? t.log('The invitation has ended, skipped emitting the %s event', 'LocalInvitationReceivedByPeer') : (t.info('The peer received the local invitation %s.', t.callId), t.state = Sa.RECEIVED_BY_REMOTE, t.emit('LocalInvitationReceivedByPeer'), t.localInvitationEnd$.pipe(Lb(6e4), ab(((e) => (Ab(e) && t.warn('local invitation expired'), ra(e))))).subscribe({ error() { t.state = Sa.FAILURE, t.emit('LocalInvitationFailure', Hf.INVITATION_EXPIRE); } })); }, error(n) { t.isLocalInvitationEnd() ? t.log('The invitation has ended, skipped emitting the %s event', 'LocalInvitationFailure') : (t.state = Sa.FAILURE, Ab(n) && e ? e.code === 'PEER_NOT_ONLINE' ? t.emit('LocalInvitationFailure', Hf.PEER_OFFLINE) : e.code === 'RESENT_AND_OFFLINE' && t.emit('LocalInvitationFailure', Hf.PEER_NO_RESPONSE) : Ab(n) ? t.emit('LocalInvitationFailure', Hf.PEER_NO_RESPONSE) : n.name === 'RtmInvalidStatusError' ? t.emit('LocalInvitationFailure', Hf.NOT_LOGGEDIN) : t.emit('LocalInvitationFailure', Hf.UNKNOWN)); } });
      },
    }, {
      key: 'cancel',
      value() {
        if (this.isLocalInvitationEnd()) throw new da('The local invitation cancel failure', ri); if (this.state === Sa.IDLE) throw new da('The local invitation has not been sent', MB); if (rh(this._content) > 8192) throw new ca('The length of the "content" overflows. The number of bytes representing content must not exceed 8 Ã 1024 if encoded in UTF-8.', Xc); this.getSession().sendInvitationMessage({
          callId: this.callId, peerId: this.calleeId, type: 'CallCancel', channelId: this._channelId, extra: this._content,
        }), this.state = Sa.CANCELED, this.emit('LocalInvitationCanceled');
      },
    }, {
      key: 'onAcceptReceived',
      value(e) {
        if (this.isLocalInvitationEnd() && this.state !== Sa.ACCEPTED_BY_REMOTE) this.log('The invitation has ended, skipped emitting the %s event', 'LocalInvitationAccepted'); else {
          if (this.state === Sa.IDLE) throw new da('the local have not sent the invitation, how can remote accept it?'); this.getSession().sendInvitationMessage({
            callId: this.callId, isAcceptAck: !0, type: 'CallAccept', peerId: this.calleeId, channelId: this.channelId,
          }), this.state === Sa.ACCEPTED_BY_REMOTE ? this.log('already in ACCEPTED_BY_REMOTE state, ignore emit ACCEPTED_BY_REMOTE') : (this.state === Sa.SENT_TO_REMOTE && (this.log('receive LocalInvitationAccepted before remote response to the invitation'), this.state = Sa.RECEIVED_BY_REMOTE, this.emit('LocalInvitationReceivedByPeer')), this.state = Sa.ACCEPTED_BY_REMOTE, this._response = e, this.emit('LocalInvitationAccepted', e));
        }
      },
    }, { key: 'onRefuseReceived', value(e) { if (this.isLocalInvitationEnd()) this.log('The invitation has ended, skipped emitting the %s event', 'LocalInvitationRefused'); else { if (this.state === Sa.IDLE) throw new da('the local have not sent the invitation, how can remote refuse it?'); this.state === Sa.SENT_TO_REMOTE && (this.log('receive LocalInvitationRefused before remote response to the invitation'), this.state = Sa.RECEIVED_BY_REMOTE, this.emit('LocalInvitationReceivedByPeer')), this._response = e, this.state = Sa.REFUSED_BY_REMOTE, this.emit('LocalInvitationRefused', e); } } }, { key: 'isLocalInvitationEnd', value() { return [Sa.CANCELED, Sa.FAILURE, Sa.ACCEPTED_BY_REMOTE, Sa.REFUSED_BY_REMOTE].includes(this.state); } }]), t;
  }(sc())), Da(Sd.prototype, 'send', [Mc], Object.getOwnPropertyDescriptor(Sd.prototype, 'send'), Sd.prototype), Da(Sd.prototype, 'cancel', [Mc], Object.getOwnPropertyDescriptor(Sd.prototype, 'cancel'), Sd.prototype), Sd); const Hi = ta.RemoteInvitationFailureReason; const Fb = ta.RemoteInvitationState; const rF = (function (e) {
    function t(e) { const r = e.invitationChannel; const o = e.extraContent; const i = e.callId; const s = e.callerId; const a = e.logger; e = e.getSession, va(this, t); const c = n.call(this, a, 'RtmRemoteInvitation', !0); return x(z(c), 'state', Fb.INVITATION_RECEIVED), x(z(c), 'remoteInvitationEnd$', fb(Db(z(c), 'RemoteInvitationCanceled'), Db(z(c), 'RemoteInvitationRefused'), Db(z(c), 'RemoteInvitationAccepted'), Db(z(c), 'RemoteInvitationFailure')).pipe(hb(1))), x(z(c), 'callerId', void 0), x(z(c), 'callId', void 0), x(z(c), '_getSession', void 0), x(z(c), 'logger', void 0), x(z(c), '_content', void 0), x(z(c), '_channelId', void 0), x(z(c), '_response', ''), c._channelId = r, c._content = o, c.callId = i, c.callerId = s, c._getSession = e, c.logger = a, c.remoteInvitationEnd$.pipe(Lb(6e4), ab(((e) => (Ab(e) && c.warn('Remote invitation expired'), ra(e))))).subscribe({ error() { c.state = Fb.FAILURE, c.emit('RemoteInvitationFailure', Hi.INVITATION_EXPIRE); } }), c; }Ga(t, e); var n = Ha(t); return eb(t, [{ key: 'channelId', get() { return this._channelId; }, set(e) { throw new ca('Cannot set the "response" of the RemoteInvitation instance.', Xc); } }, { key: 'content', get() { return this._content; }, set(e) { throw new ca('Cannot set the "content" of the RemoteInvitation instance.', Xc); } }, { key: 'response', get() { return this._response; }, set(e) { this._response = e; } }, {
      key: 'accept',
      value() {
        let e; const t = this; if (this.isRemoteInvitationEnd()) throw new da('The local invitation has ended. Cannot accept.', ri); if (this.state === Fb.ACCEPT_SENT_TO_LOCAL) throw new da('The remote invitation is accepting. Cannot do the operation.', Rr); if (rh(this._response) > 8192) throw new ca('The length of the "response" overflows. The number of bytes representing content must not exceed 8 Ã 1024 if encoded in UTF-8.', Xc); this.state = Fb.ACCEPT_SENT_TO_LOCAL, Jb(Qe(1e3).pipe(Cb((() => yd(ma(N.mark((function e() {
          return N.wrap(((e) => {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: return e.abrupt('return', t._getSession().sendInvitationMessage({
                  peerId: t.callerId, callId: t.callId, extra: t.response, type: 'CallAccept', isAcceptAck: !1, channelId: t.channelId,
                })); case 1: case 'end': return e.stop();
              }
            }
          }), e);
        })))))), yb(((t) => e = t.hasPeerReceived)), hb(1)), Db(this, 'RemoteInvitationAccepted')).pipe(Lb(5e3), Kc(this.remoteInvitationEnd$)).subscribe({ error(n) { if (t.logError(n), t.state = Fb.FAILURE, Ab(n)) switch (e) { case void 0: case !0: return void t.emit('RemoteInvitationFailure', Hi.ACCEPT_FAILURE); case !1: return void t.emit('RemoteInvitationFailure', Hi.PEER_OFFLINE); }t.emit('RemoteInvitationFailure', Hi.UNKNOWN); } });
      },
    }, {
      key: 'refuse',
      value() {
        if (this.state === Fb.ACCEPT_SENT_TO_LOCAL) throw new da('The remote invitation is accepting. Cannot do the operation.', Rr); if (this.isRemoteInvitationEnd()) throw new da('The invitation is end. Cannot refuse', ri); if (rh(this._response) > 8192) throw new ca('The length of the "response" overflows. The number of bytes representing content must not exceed 8 Ã 1024 if encoded in UTF-8.', Xc); this._getSession().sendInvitationMessage({
          peerId: this.callerId, callId: this.callId, extra: this.response, type: 'CallReject', channelId: this.channelId,
        }), this.state = Fb.REFUSED, this.emit('RemoteInvitationRefused');
      },
    }, { key: 'onCancelReceived', value(e) { this.isRemoteInvitationEnd() ? this.log('The invitation has ended, skipped emitting the %s event', 'RemoteInvitationCanceled') : (this.state === Fb.ACCEPT_SENT_TO_LOCAL && this.log('caller canceled before receive accept'), this._content = e, this.state = Fb.CANCELED, this.emit('RemoteInvitationCanceled', e)); } }, { key: 'onAcceptAckReceived', value() { this.state !== Fb.ACCEPT_SENT_TO_LOCAL ? this.log('The invitation has ended, skipped emitting the %s event', 'ori:'.concat(this.state, ', to: RemoteInvitationAccepted')) : (this.state = Fb.ACCEPTED, this.emit('RemoteInvitationAccepted')); } }, { key: 'isRemoteInvitationEnd', value() { return [Fb.ACCEPTED, Fb.REFUSED, Fb.CANCELED, Fb.FAILURE].includes(this.state); } }]), t;
  }(sc())); const sF = (function (e) {
    function t(e, r) {
      va(this, t); const o = n.call(this, r, 'InvitationManager'); return x(z(o), 'getSession', void 0), x(z(o), 'invitationDispatcher', new Ba.EventEmitter()), x(z(o), 'outgoingLocalInvitations', new Map()), x(z(o), 'receivedRemoteInvitations', new Wc(void 0, { maxlen: 1e4 })), x(z(o), 'logger', void 0), o.getSession = fo(e), o.logger = r, o.invitationDispatcher.on('remoteInvitationToManager', ((e) => {
        const t = e.callId; let n = e.extra; const i = e.callerId; e = e.channelId, o.receivedRemoteInvitations.has(t) || ((n = new rF({
          callerId: i, callId: t, getSession: o.getSession, logger: r, extraContent: n, invitationChannel: e,
        })).remoteInvitationEnd$.subscribe((() => { o.receivedRemoteInvitations.delete(t); })), o.receivedRemoteInvitations.set(t, n), o.emit('remoteInvitationInstance', n));
      })), o.invitationDispatcher.on('acceptAckToRemoteInvitation', ((e) => { (e = o.receivedRemoteInvitations.get(e.callId)) && e.onAcceptAckReceived(); })), o.invitationDispatcher.on('cancelToRemoteInvitation', ((e) => { const t = e.extra; (e = o.receivedRemoteInvitations.get(e.callId)) && e.onCancelReceived(t); })), o.invitationDispatcher.on('acceptToLocalInvitation', ((e) => { const t = e.extra; (e = o.outgoingLocalInvitations.get(e.callId)) && e.onAcceptReceived(t); })), o.invitationDispatcher.on('refuseToLocalInvitation', ((e) => { const t = e.extra; (e = o.outgoingLocalInvitations.get(e.callId)) && e.onRefuseReceived(t); })), o;
    }Ga(t, e); var n = Ha(t); return eb(t, [{
      key: 'invitationMessageHandler',
      value(e) {
        let t = e.body; let n = t.callId; let r = t.extra; r = void 0 === r ? '' : r; const o = t.type; const i = void 0 === (t = t.channel) ? '' : t; const s = e.type; switch (t = e.peerId, e = e.serverReceivedTs, s) {
          case 'CallAccept': o === 'ack' ? this.invitationDispatcher.emit('acceptAckToRemoteInvitation', { callId: n }) : o === 'request' && this.invitationDispatcher.emit('acceptToLocalInvitation', { callId: n, extra: r }); break; case 'CallInvite': this.invitationDispatcher.emit('remoteInvitationToManager', {
            callId: n, callerId: t, extra: r, channelId: i,
          }); break; case 'CallCancel': if (n === '0') { n = ''.concat('AgoraRTMLegacyEndcallCompatibleMessagePrefix', '_').concat(i, '_').concat(r), this.getSession().emit('peerTextMessage', { peerId: t, properties: { serverReceivedTs: e }, text: n }); break; } this.invitationDispatcher.emit('cancelToRemoteInvitation', { callId: n, extra: r }); break; case 'CallReject': this.invitationDispatcher.emit('refuseToLocalInvitation', { callId: n, extra: r }); break; default: throw Rn('invitationType', s);
        }
      },
    }, { key: 'genLocalInvitation', value(e) { const t = this; const n = new qF(e, this.getSession, this.logger); return n.localInvitationEnd$.subscribe((() => { t.outgoingLocalInvitations.delete(n.callId); })), this.outgoingLocalInvitations.set(n.callId, n), n; } }]), t;
  }(sc())); const tF = function (e, t, n) { let r = !0; let o = !0; if (typeof e !== 'function') throw new TypeError('Expected a function'); return Gb(n) && (r = 'leading' in n ? !!n.leading : r, o = 'trailing' in n ? !!n.trailing : o), JD(e, t, { leading: r, maxWait: t, trailing: o }); }; let Qb; let If; !(function (e) { e[e.JOINED = 0] = 'JOINED', e[e.LEFT = 1] = 'LEFT'; }(If || (If = {}))); const Ii = ta.ConnectionState; const uF = (Qb = (function (e) {
    function t(e, n, o, i) { va(this, t); const s = r.call(this, i, 'RtmChannel', !0); return x(z(s), 'onMemberCountUpdated', tF(((e) => { e !== s.memberCount && (s.memberCount = e, s.emit('MemberCountUpdated', e)); }), 1e3)), x(z(s), 'getSession', void 0), x(z(s), 'memberCount', 0), x(z(s), 'joinState', 'LEFT'), x(z(s), 'joinPromise', void 0), x(z(s), 'memberJoinedLru', new Wc(void 0, { maxlen: 1e4 })), x(z(s), 'memberLeftLru', new Wc(void 0, { maxlen: 1e4 })), x(z(s), 'memberJoinStateLru', new Wc(void 0, { maxlen: 1e4 })), x(z(s), 'attributesSeqLru', new Wc(void 0, { maxlen: 1e4 })), x(z(s), 'channelId', void 0), x(z(s), 'client', void 0), x(z(s), 'onChannelMemberCountUpdated', ((e, t) => { s.channelId === e && s.onMemberCountUpdated(t); })), x(z(s), 'onLogout', (() => { try { s.clearChannel(s.getSession()); } catch (e) {} })), x(z(s), 'onAttributesUpdated', ((e) => { let t = e.channelId; const n = e.attributeMaps; let r = e.seq; e = e.instance.toString(); let o = s.attributesSeqLru.get(e); if ((!o || r.greaterThan(o)) && (s.attributesSeqLru.set(e, r), t === s.channelId)) { for (t = {}, r = 0; r < n.length; r++) { let i = n[r]; e = i.key, o = i.ms; const a = i.value; if (i = i.origin, typeof e !== 'string' || !P.isLong(o) || typeof a !== 'string' || !Ta(i)) break; t[e] = { value: a, lastUpdateUserId: i, lastUpdateTs: o.toNumber() }; }s.emit('AttributesUpdated', t); } })), x(z(s), 'onChannelTextMessage', ((e) => { const t = e.memberId; const n = e.text; const r = e.properties; e.channelId === s.channelId && s.emit('ChannelMessage', { text: n, messageType: ta.MessageType.TEXT }, t, r); })), x(z(s), 'onChannelRawMessage', ((e) => { const t = e.desc; const n = e.raw; const r = e.memberId; const o = e.properties; e.channelId === s.channelId && s.emit('ChannelMessage', { messageType: ta.MessageType.RAW, rawMessage: n, description: t }, r, o); })), x(z(s), 'onMemberNotice', ((e) => { const t = e.memberId; const n = e.type; const r = e.size; if (e.channelId === s.channelId) { let o = e.instance.toString(); e = e.seq.toString(); const i = { MemberLeft: s.memberLeftLru, MemberJoined: s.memberJoinedLru, MemberCountUpdated: void 0 }[n]; if (i) { if (i.has(o + e)) return void s.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'", n, e, La(s.channelId), La(t || '')); if (i.set(o + e, void 0), typeof t !== 'string') return; if (t !== s.getSession().context.uid) { if ((o = s.memberJoinStateLru.get(t)) === If.JOINED && n === 'MemberJoined') return void s.log("received duplicated %s state (seq: %s), channel '%s', member '%s'", n, e, La(s.channelId), La(t || '')); if (o === If.LEFT && n === 'MemberLeft') return void s.log("received duplicated %s state (seq: %s), channel '%s', member '%s'", n, e, La(s.channelId), La(t || '')); }s.memberJoinStateLru.set(t, n === 'MemberJoined' ? If.JOINED : If.LEFT); }s.info('Channel %s - %s, memberId: %s', n, La(s.channelId), n === 'MemberCountUpdated' ? '[unknown]' : La(t || '')), o = t === s.getSession().context.uid, n === 'MemberLeft' && Ta(t) || n === 'MemberJoined' && Ta(t) ? (o || s.emit(n, t), s.onMemberCountUpdated(r)) : n === 'MemberCountUpdated' && typeof r === 'number' && s.onMemberCountUpdated(r); } })), s.getSession = fo(n), s.channelId = e, s.client = o, s.info('A channel created, id %s', La(e)), s; }Ga(t, e); let n; var r = Ha(t); return eb(t, [{
      key: 'join',
      value: (n = ma(N.mark((function e() {
        let t; let n; let r; let o; let i; let s; let a; const c = this; return N.wrap((function (e) {
          for (;;) {
            switch (e.prev = e.next) {
              case 0: e.prev = 0, t = this.getSession(), e.next = 7; break; case 4: throw e.prev = 4, e.t0 = e.catch(0), new da('The client is not logged in. Cannot do the operation', Wr); case 7: if (e.prev = 7, Ta(this.channelId)) { e.next = 10; break; } throw new ca(['The %s in the arguments is invalid', 'channelId'], OB); case 10: if (this.joinState === 'LEFT') { e.next = 13; break; } throw bb('ChnJoin', {
                cname: this.channelId, lts: P.fromNumber(Date.now()), userId: t.context.uid, elapse: Xa(t.startTime), errCode: Vr, sid: sb(t.instanceId),
              }, (o = this.client.context.config.enableCloudProxy) !== null && void 0 !== o && o), new da('The channel has joined. Cannot rejoin', Vr); case 13: if (!t.usedChannelIds.includes(this.channelId)) { e.next = 16; break; } throw bb('ChnJoin', {
                cname: this.channelId, lts: P.fromNumber(Date.now()), userId: t.context.uid, elapse: Xa(t.startTime), errCode: Xr, sid: sb(t.instanceId),
              }, (i = this.client.context.config.enableCloudProxy) !== null && void 0 !== i && i), new da('A channel of the same channel ID has already joined. Cannot rejoin', Xr); case 16: if (!(t.usedChannelIds.length >= 20)) { e.next = 19; break; } throw bb('ChnJoin', {
                cname: this.channelId, lts: P.fromNumber(Date.now()), userId: t.context.uid, elapse: Xa(t.startTime), errCode: Ur, sid: sb(t.instanceId),
              }, (s = this.client.context.config.enableCloudProxy) !== null && void 0 !== s && s), new ic('The joined channels has exceeded the limit of 20', Ur); case 19: return bb('ChnJoin', {
                cname: this.channelId, lts: P.fromNumber(Date.now()), userId: t.context.uid, elapse: Xa(t.startTime), errCode: 0, sid: sb(t.instanceId),
              }, (n = this.client.context.config.enableCloudProxy) !== null && void 0 !== n && n), this.log('Joining the channel %s', La(this.channelId)), this.joinState = 'JOINING', t.usedChannelIds.push(this.channelId), this.joinPromise = t.requestChannelJoin(this.channelId).then((() => { c.joinState = 'JOINED'; })), e.next = 26, this.joinPromise; case 26: bb('ChnJoinRes', {
                cname: this.channelId, lts: P.fromNumber(Date.now()), elapse: Xa(t.startTime), errCode: 0, sid: sb(t.instanceId), serverErrCode: 0, userId: t.context.uid,
              }, (r = this.client.context.config.enableCloudProxy) !== null && void 0 !== r && r), this.info('The channel %s joined successfully', La(this.channelId)), t.on('channelTextMessage', this.onChannelTextMessage), t.on('channelRawMessage', this.onChannelRawMessage), t.on('memberNotice', this.onMemberNotice), t.on('channelAttributesUpdated', this.onAttributesUpdated), this.client.internalEmitter.on('channelMemberCountUpdated', this.onChannelMemberCountUpdated), this.client.internalEmitter.once('LOGOUT', this.onLogout), e.next = 46; break; case 36: if (e.prev = 36, e.t1 = e.catch(7), this.joinState === 'JOINING' && (this.joinState = 'LEFT'), this.logError(e.t1), !Na(e.t1)) { e.next = 42; break; } throw e.t1; case 42: if (!Ab(e.t1)) { e.next = 45; break; } throw bb('ChnJoinRes', {
                cname: this.channelId, lts: P.fromNumber(Date.now()), elapse: Xa(t.startTime), errCode: Tr, sid: sb(t.instanceId), serverErrCode: 0, userId: t.context.uid,
              }, (a = this.client.context.config.enableCloudProxy) !== null && void 0 !== a && a), new Ub(['Join channel %s timed out', La(this.channelId)], Tr); case 45: throw new ve(['The channel %s join failure', La(this.channelId)], { code: Sr, originalError: e.t1 }); case 46: case 'end': return e.stop();
            }
          }
        }), e, this, [[0, 4], [7, 36]]);
      }))), function () { return n.apply(this, arguments); }),
    }, {
      key: 'leave',
      value: (function () {
        const e = ma(N.mark((function e() {
          let t; let n; let r; let o; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: e.prev = 0, n = this.getSession(), e.next = 7; break; case 4: throw e.prev = 4, e.t0 = e.catch(0), new da('The client is not logged in. Cannot do the operation', QB); case 7: if (this.joinState !== 'LEFT') { e.next = 9; break; } throw new da('The channel does not join. Cannot do the operation', PB); case 9: return e.prev = 9, n.requestChannelLeave(this.channelId), e.next = 13, this.clearChannel(n); case 13: e.next = 24; break; case 15: if (e.prev = 15, e.t1 = e.catch(9), this.logError(e.t1), !Na(e.t1)) { e.next = 22; break; } throw void 0 === e.t1.code && (e.t1.code = Zr), bb('ChnLeave', {
                  cname: this.channelId, lts: P.fromNumber(Date.now()), elapse: Xa(n.startTime), errCode: Zr, sid: sb(n.instanceId), userId: n.context.uid,
                }, (o = this.client.context.config.enableCloudProxy) !== null && void 0 !== o && o), e.t1; case 22: throw bb('ChnLeave', {
                  cname: this.channelId, lts: P.fromNumber(Date.now()), elapse: Xa(n.startTime), errCode: Yr, sid: sb(n.instanceId), userId: n.context.uid,
                }, (r = this.client.context.config.enableCloudProxy) !== null && void 0 !== r && r), new ve('The channel leave failure', { code: Yr, originalError: e.t1 }); case 24: bb('ChnLeave', {
                  cname: this.channelId, lts: P.fromNumber(Date.now()), elapse: Xa(n.startTime), errCode: 0, sid: sb(n.instanceId), userId: n.context.uid,
                }, (t = this.client.context.config.enableCloudProxy) !== null && void 0 !== t && t); case 25: case 'end': return e.stop();
              }
            }
          }), e, this, [[0, 4], [9, 15]]);
        }))); return function () { return e.apply(this, arguments); };
      }()),
    }, {
      key: 'sendMessage',
      value: (function () {
        const e = ma(N.mark((function e(t) {
          let n; const r = this; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (Xn(t, Il), this.client.connectionState !== Ii.CONNECTED || this.joinState === 'JOINED') { e.next = 3; break; } throw new da('The channel does not join. Cannot do the operation', EB); case 3: if (this.client.connectionState !== Ii.RECONNECTING) { e.next = 8; break; } return n = Date.now(), e.next = 7, new Promise(((e, o) => {
                  let i; const s = (i = ma(N.mark((function i() {
                    let s; return N.wrap(((i) => {
                      for (;;) {
                        switch (i.prev = i.next) {
                          case 0: return s = Date.now() - n, i.prev = 1, i.next = 4, ph({
                            message: t, peerId: r.channelId, toPeer: !1, session: r.getSession(), errorCodes: { NOT_LOGGED_IN: Jl, TOO_OFTEN: Nr }, diff: s, logger: r.logger,
                          }); case 4: e(), i.next = 12; break; case 7: i.prev = 7, i.t0 = i.catch(1), Ab(i.t0) && o(new Ub(we(r.name, 'sendMessageToPeer', 1e4), Hl)), Na(i.t0) && o(i.t0), o(new Ja('Channel message send failure', { code: qi, originalError: i.t0 })); case 12: return i.prev = 12, clearTimeout(a), i.finish(12); case 15: case 'end': return i.stop();
                        }
                      }
                    }), i, null, [[1, 7, 12, 15]]);
                  }))), function () { return i.apply(this, arguments); }); r.client.internalEmitter.once('RECONNECTED', s); var a = setTimeout((() => { r.client.internalEmitter.off('RECONNECTED', s), o(new Ub(we(r.name, 'sendMessageToPeer', 1e4), Hl)); }), 9e3);
                })); case 7: return e.abrupt('return'); case 8: if (this.client.connectionState === Ii.CONNECTED) { e.next = 10; break; } throw new da('The client is not logged in. Cannot do the operation', Jl); case 10: return e.prev = 10, e.next = 13, ph({
                  message: t, peerId: this.channelId, toPeer: !1, session: this.getSession(), errorCodes: { NOT_LOGGED_IN: Jl, TOO_OFTEN: Nr }, diff: 0, logger: this.logger,
                }); case 13: e.next = 23; break; case 15: if (e.prev = 15, e.t0 = e.catch(10), !Ab(e.t0)) { e.next = 19; break; } throw new Ub(we(this.name, 'sendMessage', 1e4), Hl); case 19: if (!Na(e.t0)) { e.next = 22; break; } throw this.logError(e.t0), e.t0; case 22: throw new ve('The channel message send failure', qi); case 23: case 'end': return e.stop();
              }
            }
          }), e, this, [[10, 15]]);
        }))); return function (t) { return e.apply(this, arguments); };
      }()),
    }, { key: 'getMembers', value: (function () { const e = ma(N.mark((function e() { let t; let n; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (e.prev = 0, this.client.connectionState === Ii.CONNECTED) { e.next = 3; break; } throw new da('The client is not logged in. Cannot do the operation', LB); case 3: if (this.joinState === 'JOINED') { e.next = 5; break; } throw new da('The channel does not join. Cannot do the operation', KB); case 5: return t = this.getSession().requestChannelMemberList(this.channelId), e.next = 8, t.pipe(Ea(((e) => e.memberInfos.map(((e) => e.account))))).toPromise(); case 8: return n = e.sent, this.info('Channel %s - get members success, %o', La(this.channelId), n.map(La)), e.abrupt('return', n); case 13: if (e.prev = 13, e.t0 = e.catch(0), !Na(e.t0)) { e.next = 18; break; } throw this.logError(e.t0), e.t0; case 18: throw new ve('The channel members get failure', IB); case 19: case 'end': return e.stop(); } }), e, this, [[0, 13]]); }))); return function () { return e.apply(this, arguments); }; }()) }, { key: 'clearChannel', value: (function () { const e = ma(N.mark((function e(t) { const n = this; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (t.emit('channelLeft', this.channelId), this.joinState !== 'JOINING') { e.next = 4; break; } return e.next = 4, this.joinPromise; case 4: this.joinState = 'LEFT', this.memberLeftLru.empty(), this.memberJoinedLru.empty(), this.attributesSeqLru.empty(), this.memberJoinStateLru.empty(), this.memberCount = 0, t.removeListener('channelTextMessage', this.onChannelTextMessage), t.removeListener('channelRawMessage', this.onChannelRawMessage), t.removeListener('memberNotice', this.onMemberNotice), t.removeListener('channelAttributesUpdated', this.onAttributesUpdated), this.client.internalEmitter.removeListener('channelMemberCountUpdated', this.onChannelMemberCountUpdated), this.client.internalEmitter.removeListener('LOGOUT', this.onLogout), t.usedChannelIds = t.usedChannelIds.filter(((e) => e !== n.channelId)); case 17: case 'end': return e.stop(); } }), e, this); }))); return function (t) { return e.apply(this, arguments); }; }()) }]), t;
  }(sc())), Da(Qb.prototype, 'join', [Mc], Object.getOwnPropertyDescriptor(Qb.prototype, 'join'), Qb.prototype), Da(Qb.prototype, 'leave', [Mc], Object.getOwnPropertyDescriptor(Qb.prototype, 'leave'), Qb.prototype), Da(Qb.prototype, 'sendMessage', [Mc], Object.getOwnPropertyDescriptor(Qb.prototype, 'sendMessage'), Qb.prototype), Da(Qb.prototype, 'getMembers', [jb], Object.getOwnPropertyDescriptor(Qb.prototype, 'getMembers'), Qb.prototype), Qb); let W; const Rb = ta.ConnectionChangeReason; const oa = ta.ConnectionState; const Vt = {
    DISCONNECTED: 1, CONNECTING: 2, CONNECTED: 3, RECONNECTING: 4, ABORTED: 5,
  }; const vF = {
    LOGIN: 1, LOGIN_SUCCESS: 2, LOGIN_FAILURE: 3, LOGIN_TIMEOUT: 4, INTERRUPTED: 5, LOGOUT: 6, BANNED_BY_SERVER: 7, REMOTE_LOGIN: 8, TOKEN_EXPIRED: 9,
  }; const wF = (W = (function (e) {
    function t(e, n, o, i) { va(this, t); const s = r.call(this, n, 'RtmClient', !0); return x(z(s), 'connectionState', oa.DISCONNECTED), x(z(s), 'internalEmitter', new Ba()), x(z(s), 'context', void 0), x(z(s), 'attributes', {}), x(z(s), 'loginPromise', void 0), x(z(s), 'attributeDrafts', new Set()), x(z(s), 'session', void 0), x(z(s), 'lastLoginTime', void 0), x(z(s), 'reconnId', 0), x(z(s), 'channelAttributesCacheLru', new Wc(void 0, { maxlen: 1e4 })), x(z(s), 'invitationManager', void 0), x(z(s), 'subscribedPeerStatusCache', {}), x(z(s), 'pendingPeerStatusSubCount', 0), x(z(s), 'peerStatusSeqLru', new Wc(void 0, { maxlen: 1e4 })), x(z(s), 'peerUnreachableTimers', {}), x(z(s), 'setParameters', void 0), x(z(s), 'updateConfig', void 0), x(z(s), 'blacklistedIP', {}), x(z(s), 'TokenPrivilegeWillExpireHandler', (() => { s.emit('TokenPrivilegeWillExpire'); })), x(z(s), 'userDropHandler', ((e) => { if (s.connectionState !== oa.ABORTED) switch (e) { case 2: s.logError('Server banned because of token is expired'), s.onConnectionStateChanged(oa.ABORTED, Rb.TOKEN_EXPIRED), s.emit('TokenExpired'); break; case 11: s.logError('Kicked off by remote session'), s.onConnectionStateChanged(oa.ABORTED, Rb.REMOTE_LOGIN); break; case 14: case 15: case 16: s.logError('Server banned because of illegal '.concat({ 14: 'User ID', 15: 'IP', 16: 'Channel Name' }[e])), s.onConnectionStateChanged(oa.ABORTED, Rb.BANNED_BY_SERVER); break; default: s.logError('User kicked off for unknown code: '.concat(e)), s.onConnectionStateChanged(oa.ABORTED, Rb.INTERRUPTED); } })), s.context = new xE(e, o, n), s.context.config = o, s.setParameters = i.bind(z(s)), s.updateConfig = i.bind(z(s)), s.invitationManager = new sF((() => s.session), n), s.invitationManager.on('remoteInvitationInstance', ((e) => { s.emit('RemoteInvitationReceived', e); })), s.setMaxListeners(512), s.internalEmitter.setMaxListeners(512), s; }Ga(t, e); let n; var r = Ha(t); return eb(t, [{ key: 'renewToken', value: (n = ma(N.mark((function e(t) { let n; let r; let o; let i; const s = this; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (typeof t === 'string' && t.length !== 0) { e.next = 2; break; } throw new ca('Invalid argument', XB); case 2: if (this.connectionState !== oa.ABORTED) { e.next = 5; break; } return e.next = 5, new Promise((() => {})); case 5: if (this.connectionState === oa.CONNECTED || this.connectionState === oa.RECONNECTING) { e.next = 7; break; } throw new da('The client is not logged in', hs); case 7: if (void 0 !== this.session) { e.next = 9; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 9: return e.prev = 9, n = this.context.token, this.context.token = t, e.next = 14, this.session.connection.apClient.getApEdgeInfo$(!1).pipe($d((() => Error('No available edge address to connect'))), Re(((e) => e.pipe(sa(((e) => { if (Na(e)) throw e; })), Zd(2500), hb(4)))), hb(1), Lb(2e4), ab(((e) => (Ab(e) && s.warn('renewToken timed out'), ra(e))))).toPromise(); case 14: r = e.sent, o = r.ticket, e.next = 27; break; case 18: if (e.prev = 18, e.t0 = e.catch(9), this.context.token = n, e.t0.code !== as && e.t0.code !== bs) { e.next = 23; break; } throw new Bf('Invalid token', ZB); case 23: if (e.t0.code !== ti) { e.next = 25; break; } throw new Bf('The token expired', YB); case 25: if (!Ab(e.t0)) { e.next = 27; break; } throw new Ub('Renew token timed out', Ml); case 27: i = this.session, this.session.requestUpdateEdgeTicket(o).toPromise().then(((e) => { if (e.code !== 0) throw new Ja(['RenewToken failure. The response code is %d', e.code], Ml); i.curLoginSockets.filter(((e) => void 0 !== e)).forEach(((e) => e.ticket = o)); })); case 29: case 'end': return e.stop(); } }), e, this, [[9, 18]]); }))), function (e) { return n.apply(this, arguments); }) }, { key: 'queryPeersOnlineStatus', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; const o = this; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (this.connectionState === oa.CONNECTED) { e.next = 2; break; } throw new da('The client is not logged in', WB); case 2: if (void 0 !== this.session) { e.next = 4; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 4: if (!(!Array.isArray(t) || t.length === 0 || t.some(((e) => !Ta(e))) || t.length > 256)) { e.next = 6; break; } throw new ca('invalid arguments', gs); case 6: return e.next = 8, this.session.requestPeersOnlineStatus(t).toPromise(); case 8: return n = e.sent, r = md(tl(n.userInfos, 'account'), ((e) => !!e.ts)), Object.keys(r).forEach(((e) => { if (e in o.subscribedPeerStatusCache && o.subscribedPeerStatusCache[e] !== ta.PeerOnlineState.UNREACHABLE) { const t = r[e] ? ta.PeerOnlineState.ONLINE : ta.PeerOnlineState.OFFLINE; o.emit('PeersOnlineStatusChanged', x({}, e, t)), o.subscribedPeerStatusCache[e] = t; } })), e.abrupt('return', r); case 12: case 'end': return e.stop(); } }), e, this); }))); return function (t) { return e.apply(this, arguments); }; }()) }, { key: 'getChannelMemberCount', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; let o; let i; let s; let a; let c; let u; let l; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (this.connectionState === oa.CONNECTED) { e.next = 2; break; } throw new da('The client is not logged in', HB); case 2: if (void 0 !== this.session) { e.next = 4; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 4: if (Array.isArray(t) && t.every(((e) => typeof e === 'string')) && t.length !== 0) { e.next = 6; break; } throw new ca('Invalid arguments: channelIds', Pr); case 6: if (!(t.length > 32)) { e.next = 8; break; } throw new ca('getChannelMemberCount exceed limit of 32 channelIds', GB); case 8: n = 0; case 9: if (!(n < t.length)) { e.next = 16; break; } if (Ta(r = t[n])) { e.next = 13; break; } throw new ca(['getChannelMemberCount channel id %s is invalid', r], Pr); case 13: n++, e.next = 9; break; case 16: return e.next = 18, this.session.requestGetChannelMemberCount(t).toPromise(); case 18: for (o = e.sent, i = o.groupInfos, s = {}, a = 0; a < i.length; a++)c = i[a], u = c.group, l = c.memberCount, Ta(u) && typeof l === 'number' && (this.internalEmitter.emit('channelMemberCountUpdated', u, l), s[u] = l); return e.abrupt('return', s); case 23: case 'end': return e.stop(); } }), e, this); }))); return function (t) { return e.apply(this, arguments); }; }()) }, {
      key: 'setLocalUserAttributes',
      value: (function () {
        const e = ma(N.mark((function e(t) {
          let n; let r; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (ag({
                  attributes: t, maxAttrValueSize: 8192, maxAttrsCount: 32, maxTotalSize: 16384,
                }), this.connectionState === oa.CONNECTED) { e.next = 3; break; } throw new da('The client is not logged in', qc); case 3: if (void 0 !== this.session) { e.next = 5; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 5: return n = this.session.requestSetLocalUserAttributes(t).toPromise(), r = { attribute: t, promise: n }, this.attributeDrafts.add(r), e.prev = 8, e.next = 11, n; case 11: this.attributes = t, e.next = 19; break; case 14: if (e.prev = 14, e.t0 = e.catch(8), !Na(e.t0)) { e.next = 18; break; } throw e.t0; case 18: throw new ca('arguments is not valid', gb); case 19: return e.prev = 19, this.attributeDrafts.delete(r), e.finish(19); case 22: case 'end': return e.stop();
              }
            }
          }), e, this, [[8, 14, 19, 22]]);
        }))); return function (t) { return e.apply(this, arguments); };
      }()),
    }, {
      key: 'setChannelAttributes',
      value: (function () {
        const e = ma(N.mark((function e(t, n) {
          let r; let o; let i; let s; let a; const c = arguments; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (r = c.length > 2 && void 0 !== c[2] ? c[2] : {}, o = r.enableNotificationToChannelMembers, i = void 0 !== o && o, ag({
                  attributes: n, maxAttrValueSize: 8192, maxAttrsCount: 32, maxTotalSize: 32768,
                }), this.connectionState === oa.CONNECTED) { e.next = 4; break; } throw new da('The client is not logged in', qc); case 4: if (void 0 !== this.session) { e.next = 6; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 6: return s = this.session.requestSetChannelAttributes(t, n, i).toPromise(), e.prev = 7, e.next = 10, s; case 10: a = md(n, ((e) => new Blob([e]).size)), this.channelAttributesCacheLru.set(t, a), e.next = 19; break; case 14: if (e.prev = 14, e.t0 = e.catch(7), !Na(e.t0)) { e.next = 18; break; } throw e.t0; case 18: throw new ca('arguments is not valid', gb); case 19: case 'end': return e.stop();
              }
            }
          }), e, this, [[7, 14]]);
        }))); return function (t, n) { return e.apply(this, arguments); };
      }()),
    }, {
      key: 'addOrUpdateLocalUserAttributes',
      value: (function () {
        const e = ma(N.mark((function e(t) {
          let n; let r; let o; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (n = Wa(Wa({}, this.attributes), t), ag({
                  attributes: t, maxAttrValueSize: 8192, maxAttrsCount: 32, maxTotalSize: 16384,
                }), ag({
                  attributes: n, maxAttrValueSize: 8192, maxAttrsCount: 32, maxTotalSize: 16384,
                }), this.connectionState === oa.CONNECTED) { e.next = 5; break; } throw new da('The client is not logged in', qc); case 5: if (void 0 !== this.session) { e.next = 7; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 7: return r = this.session.requestAddOrUpdateLocalUserAttributes(t).toPromise(), o = { attribute: n, promise: r }, this.attributeDrafts.add(o), e.prev = 10, e.next = 13, r; case 13: this.attributes = n, e.next = 21; break; case 16: if (e.prev = 16, e.t0 = e.catch(10), !Na(e.t0)) { e.next = 20; break; } throw e.t0; case 20: throw new ca('arguments is not valid', gs); case 21: return e.prev = 21, this.attributeDrafts.delete(o), e.finish(21); case 24: case 'end': return e.stop();
              }
            }
          }), e, this, [[10, 16, 21, 24]]);
        }))); return function (t) { return e.apply(this, arguments); };
      }()),
    }, {
      key: 'addOrUpdateChannelAttributes',
      value: (function () {
        const e = ma(N.mark((function e(t, n) {
          let r; let o; let i; let s; let a; let c; let u; const l = arguments; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (r = l.length > 2 && void 0 !== l[2] ? l[2] : {}, o = r.enableNotificationToChannelMembers, i = void 0 !== o && o, s = this.channelAttributesCacheLru.get(t, {}), a = md(n, ((e) => new Blob([e]).size)), c = Wa(Wa({}, s), a), ag({
                  attributes: n, attrSizeMap: c, maxAttrValueSize: 8192, maxAttrsCount: 32, maxTotalSize: 32768,
                }), this.connectionState === oa.CONNECTED) { e.next = 7; break; } throw new da('The client is not logged in', qc); case 7: if (void 0 !== this.session) { e.next = 9; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 9: return u = this.session.requestAddOrUpdateChannelAttributes(t, n, i).toPromise(), e.prev = 10, e.next = 13, u; case 13: this.channelAttributesCacheLru.set(t, c), e.next = 21; break; case 16: if (e.prev = 16, e.t0 = e.catch(10), !Na(e.t0)) { e.next = 20; break; } throw e.t0; case 20: throw new ca('arguments is not valid', gb); case 21: case 'end': return e.stop();
              }
            }
          }), e, this, [[10, 16]]);
        }))); return function (t, n) { return e.apply(this, arguments); };
      }()),
    }, { key: 'deleteLocalUserAttributesByKeys', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; let o; let i; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (Array.isArray(t) && t.length !== 0 && !t.some(((e) => e.length === 0))) { e.next = 2; break; } throw new da('arguments is not valid', gb); case 2: if (this.connectionState === oa.CONNECTED) { e.next = 4; break; } throw new da('The client is not logged in', qc); case 4: if (void 0 !== this.session) { e.next = 6; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 6: return n = this.session.requestDeleteLocalUserAttributesByKeys(t).toPromise(), r = { attribute: ql(this.attributes, t), promise: n }, this.attributeDrafts.add(r), e.prev = 9, e.next = 12, n; case 12: for (o = 0; o < t.length; o++)i = t[o], delete this.attributes[i]; e.next = 20; break; case 15: if (e.prev = 15, e.t0 = e.catch(9), !Na(e.t0)) { e.next = 19; break; } throw e.t0; case 19: throw new ca('arguments is not valid', gb); case 20: return e.prev = 20, this.attributeDrafts.delete(r), e.finish(20); case 23: case 'end': return e.stop(); } }), e, this, [[9, 15, 20, 23]]); }))); return function (t) { return e.apply(this, arguments); }; }()) }, { key: 'deleteChannelAttributesByKeys', value: (function () { const e = ma(N.mark((function e(t, n) { let r; let o; let i; let s; let a; let c; let u; const l = arguments; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (r = l.length > 2 && void 0 !== l[2] ? l[2] : {}, o = r.enableNotificationToChannelMembers, i = void 0 !== o && o, Array.isArray(n) && n.length !== 0 && Ta(t) && !n.some(((e) => e.length === 0 || e.length > 512))) { e.next = 3; break; } throw new da('arguments is not valid', gb); case 3: if (this.connectionState === oa.CONNECTED) { e.next = 5; break; } throw new da('The client is not logged in', qc); case 5: if (void 0 !== this.session) { e.next = 7; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 7: return s = this.session.requestDeleteChannelAttributesByKeys(t, n, i).toPromise(), e.prev = 8, e.next = 11, s; case 11: if (a = this.channelAttributesCacheLru.get(t)) for (c = 0; c < n.length; c++)u = n[c], delete a[u]; e.next = 20; break; case 15: if (e.prev = 15, e.t0 = e.catch(8), !Na(e.t0)) { e.next = 19; break; } throw e.t0; case 19: throw new ca('arguments is not valid', gb); case 20: case 'end': return e.stop(); } }), e, this, [[8, 15]]); }))); return function (t, n) { return e.apply(this, arguments); }; }()) }, { key: 'clearLocalUserAttributes', value: (function () { const e = ma(N.mark((function e() { let t; let n; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (this.connectionState === oa.CONNECTED) { e.next = 2; break; } throw new da('The client is not logged in', qc); case 2: if (void 0 !== this.session) { e.next = 4; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 4: return t = this.session.requestClearLocalUserAttributes().toPromise(), n = { attribute: {}, promise: t }, this.attributeDrafts.add(n), e.prev = 7, e.next = 10, t; case 10: this.attributes = {}, e.next = 18; break; case 13: if (e.prev = 13, e.t0 = e.catch(7), !Na(e.t0)) { e.next = 17; break; } throw e.t0; case 17: throw new ca('arguments is not valid', gb); case 18: return e.prev = 18, this.attributeDrafts.delete(n), e.finish(18); case 21: case 'end': return e.stop(); } }), e, this, [[7, 13, 18, 21]]); }))); return function () { return e.apply(this, arguments); }; }()) }, { key: 'clearChannelAttributes', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; let o; let i; const s = arguments; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (n = s.length > 1 && void 0 !== s[1] ? s[1] : {}, r = n.enableNotificationToChannelMembers, o = void 0 !== r && r, this.connectionState === oa.CONNECTED) { e.next = 3; break; } throw new da('The client is not logged in', qc); case 3: if (void 0 !== this.session) { e.next = 5; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 5: return i = this.session.requestClearChannelAttributes(t, o).toPromise(), e.prev = 6, e.next = 9, i; case 9: this.channelAttributesCacheLru.delete(t), e.next = 17; break; case 12: if (e.prev = 12, e.t0 = e.catch(6), !Na(e.t0)) { e.next = 16; break; } throw e.t0; case 16: throw new ca('arguments is not valid', gb); case 17: case 'end': return e.stop(); } }), e, this, [[6, 12]]); }))); return function (t) { return e.apply(this, arguments); }; }()) }, { key: 'getUserAttributes', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; let o; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (Ta(t)) { e.next = 2; break; } throw new ca('Not a valid user ID', gb); case 2: if (this.connectionState === oa.CONNECTED) { e.next = 4; break; } throw new da('The client is not logged in', qc); case 4: if (void 0 !== this.session) { e.next = 6; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 6: return e.prev = 6, e.next = 9, this.session.requestGetUserAttributeKeys(t).toPromise(); case 9: return n = e.sent, r = n.keys, e.next = 13, this.session.requestGetUserAttributesByKeys(t, r.slice(0, 512)).toPromise(); case 13: o = e.sent, e.next = 21; break; case 16: if (e.prev = 16, e.t0 = e.catch(6), !Na(e.t0)) { e.next = 20; break; } throw e.t0; case 20: throw new ca('arguments is not valid', gb); case 21: return e.abrupt('return', Zq(o.attributeInfos.map(((e) => [e.key, e.value])))); case 22: case 'end': return e.stop(); } }), e, this, [[6, 16]]); }))); return function (t) { return e.apply(this, arguments); }; }()) }, { key: 'getChannelAttributes', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; let o; let i; let s; let a; let c; let u; let l; let f; let h; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (Ta(t)) { e.next = 2; break; } throw new ca('Not a valid channel ID', gb); case 2: if (this.connectionState === oa.CONNECTED) { e.next = 4; break; } throw new da('The client is not logged in', qc); case 4: if (void 0 !== this.session) { e.next = 6; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 6: return e.prev = 6, e.next = 9, this.session.requestGetChannelAttributesKeys(t).toPromise(); case 9: return n = e.sent, r = n.keys, e.next = 13, this.session.requestGetChannelAttributesByKeys(t, r).toPromise(); case 13: o = e.sent, i = o.attributeMaps, e.next = 22; break; case 17: if (e.prev = 17, e.t0 = e.catch(6), !Na(e.t0)) { e.next = 21; break; } throw e.t0; case 21: throw new ca('arguments is not valid', gb); case 22: s = {}, a = 0; case 24: if (!(a < i.length)) { e.next = 32; break; } if (c = i[a], u = c.key, l = c.ms, f = c.value, h = c.origin, typeof u === 'string' && P.isLong(l) && typeof f === 'string' && Ta(h)) { e.next = 28; break; } return e.abrupt('break', 32); case 28: s[u] = { value: f, lastUpdateUserId: h, lastUpdateTs: l.toNumber() }; case 29: a++, e.next = 24; break; case 32: return this.channelAttributesCacheLru.set(t, md(s, ((e) => new Blob([e.value]).size))), e.abrupt('return', s); case 34: case 'end': return e.stop(); } }), e, this, [[6, 17]]); }))); return function (t) { return e.apply(this, arguments); }; }()) }, { key: 'getChannelAttributesByKeys', value: (function () { const e = ma(N.mark((function e(t, n) { let r; let o; let i; let s; let a; let c; let u; let l; let f; let h; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (this.connectionState === oa.CONNECTED) { e.next = 2; break; } throw new da('The client is not logged in', qc); case 2: if (void 0 !== this.session) { e.next = 4; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 4: return Qn(t, n), e.prev = 5, e.next = 8, this.session.requestGetChannelAttributesByKeys(t, n).toPromise(); case 8: r = e.sent, o = r.attributeMaps, e.next = 17; break; case 12: if (e.prev = 12, e.t0 = e.catch(5), !Na(e.t0)) { e.next = 16; break; } throw e.t0; case 16: throw new ca('arguments is not valid', gb); case 17: i = {}, s = this.channelAttributesCacheLru.get(t, {}), a = 0; case 20: if (!(a < o.length)) { e.next = 29; break; } if (c = o[a], u = c.key, l = c.ms, f = c.value, h = c.origin, typeof u === 'string' && P.isLong(l) && typeof f === 'string' && Ta(h)) { e.next = 24; break; } return e.abrupt('break', 29); case 24: s[u] = new Blob([f]).size, i[u] = { value: f, lastUpdateUserId: h, lastUpdateTs: l.toNumber() }; case 26: a++, e.next = 20; break; case 29: return this.channelAttributesCacheLru.set(t, s), e.abrupt('return', i); case 31: case 'end': return e.stop(); } }), e, this, [[5, 12]]); }))); return function (t, n) { return e.apply(this, arguments); }; }()) }, { key: 'getUserAttributesByKeys', value: (function () { const e = ma(N.mark((function e(t, n) { let r; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (this.connectionState === oa.CONNECTED) { e.next = 2; break; } throw new da('The client is not logged in', qc); case 2: if (void 0 !== this.session) { e.next = 4; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 4: return Qn(t, n), e.prev = 5, e.next = 8, this.session.requestGetUserAttributesByKeys(t, n).toPromise(); case 8: r = e.sent, e.next = 16; break; case 11: if (e.prev = 11, e.t0 = e.catch(5), !Na(e.t0)) { e.next = 15; break; } throw e.t0; case 15: throw new ca('arguments is not valid', gb); case 16: return e.abrupt('return', Zq(r.attributeInfos.map(((e) => [e.key, e.value])))); case 17: case 'end': return e.stop(); } }), e, this, [[5, 11]]); }))); return function (t, n) { return e.apply(this, arguments); }; }()) }, {
      key: 'login',
      value: (function () {
        const e = ma(N.mark((function e(t) {
          let n; let r; let o; let i; let s; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (xn(!0), r = nh(), o = t.token, t.token === this.context.appId && (o = void 0), bb('Session', {
                  appId: this.context.appId, did: navigator.userAgent, elapse: Xa(this.session && this.session.startTime), index: { index1: t.uid, index2: this.context.appId, index3: 'enableLogUpload='.concat(this.context.config.enableLogUpload) }, installId: Og, lts: P.fromNumber(Date.now()), os: 7, sid: sb(r), token: o || '', userId: t.uid, ver: '1.5.1', buildno: 418, subVersion: 18, version: 4,
                }, (n = this.context.config.enableCloudProxy) !== null && void 0 !== n && n, !0), De(t) && Ta(t.uid)) { e.next = 7; break; } throw new ca('not a valid user id', si); case 7: if (typeof o !== 'string' || !o) { e.next = 11; break; } this.context.token = o, e.next = 13; break; case 11: if (typeof o === 'string' || o == null) { e.next = 13; break; } throw new ca('The "token" is not a valid string.', si); case 13: return i = Date.now(), this.context.sid = sb(r), this.loginPromise = this.loginImpl({ uid: t.uid, instanceId: r }), this.info('RTM Client logging in as '.concat(La(t.uid))), e.prev = 17, e.next = 20, this.loginPromise; case 20: e.next = 28; break; case 22: throw e.prev = 22, e.t0 = e.catch(17), Na(e.t0) && bb('Link', {
                  ackedServerIp: '', destServerIp: '', ec: e.t0.code || 1, sc: e.t0.serverCode, elapse: Xa(this.session && this.session.startTime), lts: P.fromNumber(Date.now()), responseTime: Date.now() - i, sid: sb(r), userId: t.uid,
                }, (s = this.context.config.enableCloudProxy) !== null && void 0 !== s && s), this.context.token = void 0, this.context.socketUseProxy = !1, e.t0; case 28: return e.prev = 28, this.loginPromise = void 0, e.finish(28); case 31: this.context.socketUseProxy && this.emit('FallbackProxyConnected'), xn(!1); case 33: case 'end': return e.stop();
              }
            }
          }), e, this, [[17, 22, 28, 31]]);
        }))); return function (t) { return e.apply(this, arguments); };
      }()),
    }, {
      key: 'logout',
      value: (function () {
        const e = ma(N.mark((function e() {
          let t; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (!this.loginPromise) { e.next = 3; break; } return e.next = 3, this.loginPromise; case 3: if (this.connectionState !== oa.DISCONNECTED) { e.next = 6; break; } throw this.logError('Already in logout state'), new da('Logout failure. The client has already been logged out', cs); case 6: if (this.internalEmitter.emit('LOGOUT'), this.connectionState !== oa.ABORTED) { e.next = 11; break; } return this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'), this.onConnectionStateChanged(oa.DISCONNECTED, Rb.LOGOUT), e.abrupt('return'); case 11: if (void 0 !== this.session) { e.next = 14; break; } return this.onConnectionStateChanged(oa.DISCONNECTED, Rb.LOGOUT), e.abrupt('return'); case 14: return bb('Logout', {
                  elapse: Xa(this.session.startTime), lts: P.fromNumber(Date.now()), sid: sb(this.session.instanceId), userId: this.context.uid,
                }, (t = this.context.config.enableCloudProxy) !== null && void 0 !== t && t), e.next = 17, this.session.logoutHandler(); case 17: this.onConnectionStateChanged(oa.DISCONNECTED, Rb.LOGOUT), this.log('Log out success'); case 19: case 'end': return e.stop();
              }
            }
          }), e, this);
        }))); return function () { return e.apply(this, arguments); };
      }()),
    }, {
      key: 'logoutSync',
      value() {
        let e; const t = this; if (this.connectionState === oa.DISCONNECTED) throw this.logError('Already in logout state'), new da('Logout failure. The client has already been logged out', cs); this.connectionState === oa.ABORTED ? this.info('Reset connection state from "ABORTED" to "DISCONNECTED"') : void 0 !== this.session && (bb('Logout', {
          elapse: Xa(this.session.startTime), lts: P.fromNumber(Date.now()), sid: sb(this.session.instanceId), userId: this.context.uid,
        }, (e = this.context.config.enableCloudProxy) !== null && void 0 !== e && e), this.session.logoutHandler().then((() => { t.log('Log out success'); }))), this.onConnectionStateChanged(oa.DISCONNECTED, Rb.LOGOUT);
      },
    }, {
      key: 'sendMessageToPeer',
      value: (function () {
        const e = ma(N.mark((function e(t, n) {
          let r; let o; const i = this; return N.wrap((function (e) {
            for (;;) {
              switch (e.prev = e.next) {
                case 0: if (Xn(t, bg), r = t.messageType === 'TEXT' ? Ka.P2pSMsgNoOfflineFlag : Ka.P2pRMsgNoOfflineFlag, this.connectionState !== oa.RECONNECTING) { e.next = 5; break; } return o = Date.now(), e.abrupt('return', new Promise(((e, s) => {
                  let a; const c = (a = ma(N.mark((function a() {
                    let c; return N.wrap(((a) => {
                      for (;;) {
                        switch (a.prev = a.next) {
                          case 0: if (void 0 !== i.session) { a.next = 2; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 2: return c = Date.now() - o, a.prev = 3, a.t0 = e, a.next = 7, ph({
                            message: t, peerId: n, toPeer: !0, session: i.session, errorCodes: { NOT_LOGGED_IN: Ll, TOO_OFTEN: es }, diff: c, logger: i.logger,
                          }); case 7: a.t1 = a.sent, (0, a.t0)(a.t1), a.next = 18; break; case 11: a.prev = 11, a.t2 = a.catch(3), Ab(a.t2) && (i.session.emit('messageCount', { messageCategory: r, type: 'common', key: 'sentcount' }), i.session.emit('messageCount', { messageCategory: r, type: 'common', key: 'timeoutcount' }), s(new Ub(we(i.name, 'sendMessageToPeer', 1e4), Kl))), Na(a.t2) && s(a.t2), i.session.emit('messageCount', { messageCategory: r, type: 'common', key: 'sentcount' }), i.session.emit('messageCount', { messageCategory: r, type: 'common', key: 'unknowerrorcount' }), s(new Ja('Peer-to-peer message send failure', { code: ds, originalError: a.t2 })); case 18: return a.prev = 18, clearTimeout(u), a.finish(18); case 21: case 'end': return a.stop();
                        }
                      }
                    }), a, null, [[3, 11, 18, 21]]);
                  }))), function () { return a.apply(this, arguments); }); i.internalEmitter.once('RECONNECTED', c); var u = setTimeout((() => { i.internalEmitter.off('RECONNECTED', c), s(new Ub(we(i.name, 'sendMessageToPeer', 1e4), Kl)); }), 9e3);
                }))); case 5: if (this.connectionState === oa.CONNECTED) { e.next = 7; break; } throw new da('Failed to send the peer-to-peer message. The client is not logged in', Ll); case 7: if (void 0 !== this.session) { e.next = 9; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 9: return e.prev = 9, e.next = 12, ph({
                  message: t, peerId: n, toPeer: !0, session: this.session, errorCodes: { NOT_LOGGED_IN: Ll, TOO_OFTEN: es }, diff: 0, logger: this.logger,
                }); case 12: return e.abrupt('return', e.sent); case 15: if (e.prev = 15, e.t0 = e.catch(9), !Ab(e.t0)) { e.next = 21; break; } throw this.session.emit('messageCount', { messageCategory: r, type: 'common', key: 'sentcount' }), this.session.emit('messageCount', { messageCategory: r, type: 'common', key: 'timeoutcount' }), new Ub(we(this.name, 'sendMessageToPeer', 1e4), Kl); case 21: if (!Na(e.t0)) { e.next = 23; break; } throw e.t0; case 23: throw this.session.emit('messageCount', { messageCategory: r, type: 'common', key: 'sentcount' }), this.session.emit('messageCount', { messageCategory: r, type: 'common', key: 'unknowerrorcount' }), new Ja('Peer-to-peer message send failure', { code: ds, originalError: e.t0 }); case 26: case 'end': return e.stop();
              }
            }
          }), e, this, [[9, 15]]);
        }))); return function (t, n) { return e.apply(this, arguments); };
      }()),
    }, { key: 'createChannel', value(e) { const t = this; if (!Ta(e)) throw new ca(['The %s in the arguments is invalid', Object.keys({ channelId: e })[0]], FB); return new uF(e, (() => t.session), this, this.logger); } }, { key: 'createLocalInvitation', value(e) { if (!Ta(e)) throw new ca(['The %s in the arguments is invalid', Object.keys({ calleeId: e })[0]], Xc); return this.invitationManager.genLocalInvitation(e); } }, { key: 'subscribePeersOnlineStatus', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; let o; let i; let s; let a; let c; let u; let l; let f; let h; let p; let d; const b = this; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (this.connectionState === oa.CONNECTED) { e.next = 2; break; } throw new da('The client is not logged in', Nl); case 2: if (void 0 !== this.session) { e.next = 4; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 4: if (Array.isArray(t) && t.length !== 0) { e.next = 6; break; } throw new ca('Invalid arguments: peerIds', Qg); case 6: n = 0; case 7: if (!(n < t.length)) { e.next = 14; break; } if (Ta(r = t[n])) { e.next = 11; break; } throw new ca(['subscribePeersOnlineStatus peer id %s is invalid', r], Qg); case 11: n++, e.next = 7; break; case 14: if (!((o = t && t.length ? fl(t) : []).length + Object.keys(this.subscribedPeerStatusCache).length + this.pendingPeerStatusSubCount > 512)) { e.next = 17; break; } throw new ic('Subscribed peers overflows', js); case 17: return this.pendingPeerStatusSubCount += o.length, e.next = 20, this.session.requestSubscribePeersOnlineStatus(o).toPromise(); case 20: i = e.sent, s = i.errors, this.pendingPeerStatusSubCount -= o.length, a = [], c = [], u = 0; case 26: if (!(u < s.length)) { e.next = 34; break; } if (l = s[u], f = l.code, typeof (h = l.account) === 'string') { e.next = 30; break; } throw new Ja('Returned account is invalid', is); case 30: f !== 0 && a.push(h); case 31: u++, e.next = 26; break; case 34: for (p = 0; p < o.length; p++)d = o[p], a.includes(d) || (c.push(d), this.subscribedPeerStatusCache[d] = void 0); if (this.session.requestPeersOnlineStatus(c).pipe(Ea(((e) => md(tl(e.userInfos, 'account'), ((e) => !!e.ts))))).subscribe(((e) => { e = md(e, ((e, t) => (e = e ? ta.PeerOnlineState.ONLINE : ta.PeerOnlineState.OFFLINE, b.subscribedPeerStatusCache[t] = e))), b.emit('PeersOnlineStatusChanged', e); })), a.length === 0) { e.next = 38; break; } throw new Ja('Subscription failed', is); case 38: case 'end': return e.stop(); } }), e, this); }))); return function (t) { return e.apply(this, arguments); }; }()) }, { key: 'unsubscribePeersOnlineStatus', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; let o; let i; let s; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (this.connectionState === oa.CONNECTED) { e.next = 2; break; } throw new da('The client is not logged in', Nl); case 2: if (void 0 !== this.session) { e.next = 4; break; } throw new mb({ SESSION_NOT_FOUND: 'Failed to get session of the client' }); case 4: if (Array.isArray(t) && t.length !== 0) { e.next = 6; break; } throw new ca('Invalid arguments: peerIds', Qg); case 6: n = 0; case 7: if (!(n < t.length)) { e.next = 14; break; } if (Ta(r = t[n])) { e.next = 11; break; } throw new ca(['subscribePeersOnlineStatus peer id %s is invalid', r], Qg); case 11: n++, e.next = 7; break; case 14: if (!(t.length > 512)) { e.next = 16; break; } throw new ic('Unsubscribed peers overflows', js); case 16: for (o = t && t.length ? fl(t) : [], this.session.requestUnsubscribePeersOnlineStatus(o), i = 0; i < o.length; i++)s = o[i], delete this.subscribedPeerStatusCache[s]; case 19: case 'end': return e.stop(); } }), e, this); }))); return function (t) { return e.apply(this, arguments); }; }()) }, { key: 'queryPeersBySubscriptionOption', value: (function () { const e = ma(N.mark((function e(t) { return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (this.connectionState === oa.CONNECTED) { e.next = 2; break; } throw new da('The client is not logged in', Nl); case 2: if (t !== ta.PeerSubscriptionOption.ONLINE_STATUS) { e.next = 4; break; } return e.abrupt('return', Object.keys(this.subscribedPeerStatusCache)); case 4: throw new ca('Subscription option not supported', Qg); case 5: case 'end': return e.stop(); } }), e, this); }))); return function (t) { return e.apply(this, arguments); }; }()) }, { key: 'createMessage', value(e) { return e; } }, { key: 'loginImpl', value: (function () { const e = ma(N.mark((function e(t) { let n; let r; let o; let i; let s; let a; let c; let u; const l = this; return N.wrap((function (e) { for (;;) switch (e.prev = e.next) { case 0: if (n = t.uid, r = t.instanceId, o = t.forceLoginTime, i = void 0 === o ? 0 : o, s = r, !(void 0 !== this.lastLoginTime && Date.now() - this.lastLoginTime < 500)) { e.next = 4; break; } throw new bE(['The frequency of login exceeded the limit of %d queries per second', 2], UB); case 4: if (this.connectionState === oa.DISCONNECTED || i !== 0) { e.next = 6; break; } throw new da('The SDK is either logging in or has logged in the Agora RTM system', SB); case 6: e.prev = 6, this.context.uid = n, e.next = 13; break; case 10: throw e.prev = 10, e.t0 = e.catch(6), new ca(['The %s in the arguments is invalid', Object.keys({ uid: n })[0]], si); case 13: return i === 0 && this.onConnectionStateChanged(oa.CONNECTING, Rb.LOGIN), (a = new ct(this.context, this.logger, !1)).blacklistedIP = this.blacklistedIP, this.session = c = new Tt(this.context, a, s, this.logger), u = function () { l.connectionState === oa.CONNECTED && (l.onConnectionStateChanged(oa.RECONNECTING, Rb.INTERRUPTED), l.session) && l.session.once('userJoined', (() => { l.onConnectionStateChanged(oa.CONNECTED, Rb.LOGIN_SUCCESS); })); }, c.on('connectionLost', u), c.on('tokenExpired', (() => { l.emit('TokenExpired'); })), c.on('tokenPrivilegeWillExpire', this.TokenPrivilegeWillExpireHandler), c.once('userDrop', this.userDropHandler), this.session.on('peerTextMessage', ((e) => { l.emit('MessageFromPeer', { text: e.text, messageType: ta.MessageType.TEXT }, e.peerId, e.properties); })), this.session.on('peerRawMessage', ((e) => { l.emit('MessageFromPeer', { rawMessage: e.raw, description: e.desc, messageType: ta.MessageType.RAW }, e.peerId, e.properties); })), c.on('instanceChanged', ((e) => s = e)), c.on('peerOnlineStatusChanged', ((e) => { const t = e.instance.toString() + e.state; const n = l.peerStatusSeqLru.get(t); !n || e.seq.greaterThan(n) ? (l.peerStatusSeqLru.set(t, e.seq), e.state !== l.subscribedPeerStatusCache[e.peerId] && l.emit('PeersOnlineStatusChanged', x({}, e.peerId, e.state)), l.subscribedPeerStatusCache[e.peerId] = e.state, clearTimeout(l.peerUnreachableTimers[t]), e.state === ta.PeerOnlineState.UNREACHABLE && (l.peerUnreachableTimers[t] = setTimeout((() => { l.subscribedPeerStatusCache[e.peerId] === ta.PeerOnlineState.UNREACHABLE && (l.subscribedPeerStatusCache[e.peerId] = ta.PeerOnlineState.ONLINE, l.emit('PeersOnlineStatusChanged', x({}, e.peerId, ta.PeerOnlineState.ONLINE))); }), 3e4))) : l.log('peerOnlineStatusChanged dedup for %s, %d', t, e.seq.toNumber()); })), c.on('invitationMessage', this.invitationManager.invitationMessageHandler.bind(this.invitationManager)), c.on('channelAttributesUpdated', ((e) => { const t = e.channelId; e = e.attributeMaps; for (var n = {}, r = 0; r < e.length; r++) { let o = e[r]; const i = o.key; const s = o.ms; const a = o.value; if (o = o.origin, typeof i !== 'string' || !P.isLong(s) || typeof a !== 'string' || !Ta(o)) break; n[i] = new Blob([a]).size; }l.channelAttributesCacheLru.set(t, n); })), c.on('userJoined', ((e) => { if (Object.keys(l.attributes).length !== 0) { if (void 0 === l.session) return; l.session.requestSetLocalUserAttributes(l.attributes, e).toPromise(); } if (l.attributeDrafts.size !== 0) for (let t = function (t, n) { const r = (t = n[t]).attribute; t.promise.then((() => { void 0 !== l.session && l.session.requestSetLocalUserAttributes(r, e).toPromise(); })); }, n = 0, r = Array.from(l.attributeDrafts); n < r.length; n++)t(n, r); Object.keys(l.subscribedPeerStatusCache).length !== 0 && c.requestSubscribePeersOnlineStatus(Object.keys(l.subscribedPeerStatusCache)); })), c.on('banEdgeIP', ((e) => { l.banIP(e); })), this.lastLoginTime = Date.now(), e.prev = 32, e.next = 35, c.loginHandler().toPromise(); case 35: e.next = 53; break; case 37: if (e.prev = 37, e.t1 = e.catch(32), !(e.t1.name === 'loginRespTimeout' && i < 2)) { e.next = 46; break; } return c.removeAllListeners(), e.next = 43, this.loginImpl({ uid: n, instanceId: r, forceLoginTime: i + 1 }); case 43: return e.abrupt('return'); case 46: if (!Ab(e.t1)) { e.next = 49; break; } throw this.onConnectionStateChanged(oa.DISCONNECTED, Rb.LOGIN_TIMEOUT), new Ub(we(this.name, 'login', 12e3), TB); case 49: if (this.onConnectionStateChanged(oa.DISCONNECTED, Rb.LOGIN_FAILURE), !Na(e.t1)) { e.next = 52; break; } throw e.t1; case 52: throw new Ja('Login failure', { code: $r, originalError: e.t1 }); case 53: this.onConnectionStateChanged(oa.CONNECTED, Rb.LOGIN_SUCCESS); case 54: case 'end': return e.stop(); } }), e, this, [[6, 10], [32, 37]]); }))); return function (t) { return e.apply(this, arguments); }; }()) }, {
      key: 'onConnectionStateChanged',
      value(e, t) {
        let n; const r = this; e === oa.RECONNECTING && (this.reconnId += 1), bb('ConnectionStateChange', {
          elapse: Xa(this.session && this.session.startTime), lts: P.fromNumber(Date.now()), newState: Vt[e], oldState: Vt[this.connectionState], reason: vF[t], sid: sb(this.session && this.session.instanceId || P.fromNumber(0)), userId: this.context.uid, reconnId: this.reconnId,
        }, (n = this.context.config.enableCloudProxy) !== null && void 0 !== n && n), this.connectionState === oa.RECONNECTING && e === oa.CONNECTED && (Object.keys(this.subscribedPeerStatusCache).length !== 0 && void 0 !== this.session && this.session.requestPeersOnlineStatus(Object.keys(this.subscribedPeerStatusCache)).pipe(Ea(((e) => md(tl(e.userInfos, 'account'), ((e) => !!e.ts))))).subscribe(((e) => { e = md(e, ((e, t) => (e = e ? ta.PeerOnlineState.ONLINE : ta.PeerOnlineState.OFFLINE, r.subscribedPeerStatusCache[t] = e))), r.emit('PeersOnlineStatusChanged', e); })), this.internalEmitter.emit('RECONNECTED')), this.connectionState = e, e !== oa.ABORTED && e !== oa.DISCONNECTED || (this.pendingPeerStatusSubCount = this.reconnId = 0, this.attributes = {}, this.session && (this.session.removeAllListeners(), this.session.msgDedupLru.empty(), this.session.dialogueSequenceLru.empty(), this.session.dialPendingMsgSubjectMap.clear()), this.channelAttributesCacheLru.empty(), this.peerStatusSeqLru.empty(), this.peerUnreachableTimers = {}, this.subscribedPeerStatusCache = {}, this.attributeDrafts.clear(), this.context.token = void 0), this.emit('ConnectionStateChanged', e, t);
      },
    }, { key: 'banIP', value(e) { let t; this.log('ip banned', e); const n = (t = this.blacklistedIP[e]) !== null && void 0 !== t ? t : 0; this.blacklistedIP[e] = n + 1; } }]), t;
  }(sc())), Da(W.prototype, 'renewToken', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'renewToken'), W.prototype), Da(W.prototype, 'queryPeersOnlineStatus', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'queryPeersOnlineStatus'), W.prototype), Da(W.prototype, 'getChannelMemberCount', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'getChannelMemberCount'), W.prototype), Da(W.prototype, 'setLocalUserAttributes', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'setLocalUserAttributes'), W.prototype), Da(W.prototype, 'setChannelAttributes', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'setChannelAttributes'), W.prototype), Da(W.prototype, 'addOrUpdateLocalUserAttributes', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'addOrUpdateLocalUserAttributes'), W.prototype), Da(W.prototype, 'addOrUpdateChannelAttributes', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'addOrUpdateChannelAttributes'), W.prototype), Da(W.prototype, 'deleteLocalUserAttributesByKeys', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'deleteLocalUserAttributesByKeys'), W.prototype), Da(W.prototype, 'deleteChannelAttributesByKeys', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'deleteChannelAttributesByKeys'), W.prototype), Da(W.prototype, 'clearLocalUserAttributes', [Mc], Object.getOwnPropertyDescriptor(W.prototype, 'clearLocalUserAttributes'), W.prototype), Da(W.prototype, 'clearChannelAttributes', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'clearChannelAttributes'), W.prototype), Da(W.prototype, 'getUserAttributes', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'getUserAttributes'), W.prototype), Da(W.prototype, 'getChannelAttributes', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'getChannelAttributes'), W.prototype), Da(W.prototype, 'getChannelAttributesByKeys', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'getChannelAttributesByKeys'), W.prototype), Da(W.prototype, 'getUserAttributesByKeys', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'getUserAttributesByKeys'), W.prototype), Da(W.prototype, 'login', [Mc], Object.getOwnPropertyDescriptor(W.prototype, 'login'), W.prototype), Da(W.prototype, 'logout', [Mc], Object.getOwnPropertyDescriptor(W.prototype, 'logout'), W.prototype), Da(W.prototype, 'logoutSync', [Mc], Object.getOwnPropertyDescriptor(W.prototype, 'logoutSync'), W.prototype), Da(W.prototype, 'sendMessageToPeer', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'sendMessageToPeer'), W.prototype), Da(W.prototype, 'createChannel', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'createChannel'), W.prototype), Da(W.prototype, 'createLocalInvitation', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'createLocalInvitation'), W.prototype), Da(W.prototype, 'subscribePeersOnlineStatus', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'subscribePeersOnlineStatus'), W.prototype), Da(W.prototype, 'unsubscribePeersOnlineStatus', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'unsubscribePeersOnlineStatus'), W.prototype), Da(W.prototype, 'queryPeersBySubscriptionOption', [jb], Object.getOwnPropertyDescriptor(W.prototype, 'queryPeersBySubscriptionOption'), W.prototype), Da(W.prototype, 'createMessage', [Mc], Object.getOwnPropertyDescriptor(W.prototype, 'createMessage'), W.prototype), W); let rm; let sm; let tm; let um; const Wt = (rm = /Chrome\/([0-9.]+)/.exec((tm = window) === null || void 0 === tm || (um = tm.navigator) === null || void 0 === um ? void 0 : um.userAgent)) === null || void 0 === rm || (sm = rm[1]) === null || void 0 === sm ? void 0 : sm.split('.')[0]; if (Wt && parseInt(Wt, 10) >= 88 && !Ce()) { let vm; const ze = document.createElement('video'); const Ae = document.createElement('canvas'); ze.setAttribute('style', 'display:none'), ze.setAttribute('muted', ''), ze.muted = !0, ze.setAttribute('autoplay', ''), ze.autoplay = !0, ze.setAttribute('playsinline', ''), Ae.setAttribute('style', 'display:none'), Ae.setAttribute('width', '1'), Ae.setAttribute('height', '1'), (vm = Ae.getContext('2d')) === null || void 0 === vm || vm.fillRect(0, 0, 1, 1), ze.srcObject = Ae == null ? void 0 : Ae.captureStream(); } const Xt = {
    LOG_FILTER_OFF: {
      error: !1, warn: !1, info: !1, track: !1, debug: !1,
    },
    LOG_FILTER_ERROR: {
      error: !0, warn: !1, info: !1, track: !1, debug: !1,
    },
    LOG_FILTER_WARNING: {
      error: !0, warn: !0, info: !1, track: !1, debug: !1,
    },
    LOG_FILTER_INFO: {
      error: !0, warn: !0, info: !0, track: !1, debug: !1,
    },
    LOG_FILTER_DEBUG: {
      error: !0, warn: !0, info: !0, track: !0, debug: !0,
    },
  }; const Yt = { enableLogUpload: !1, logFilter: Xt.LOG_FILTER_INFO, enableCloudProxy: !1 }; var ue = Wa(Wa({
    createInstance(e) {
      const t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; let n = arguments.length > 2 ? arguments[2] : void 0; if (!/^[\dA-Za-z]{32}$/.test(e)) throw new ca(['The %s in the arguments is invalid', Object.keys({ appId: e })[0]], Or); let r = Object.keys(t).filter(((e) => !(e in Yt))); if (r.length !== 0) throw new ca('Invalid RTM config: '.concat(r.join(', ')), Or); const o = Wa(Wa({}, Yt), t); if (void 0 !== n && (!Array.isArray(n) || n.length === 0)) throw new ca('Invalid area config'); if (n != null) { if (!n.every(((e) => e in ta.LegacyAreaCode))) throw new ca('Invalid area codes: '.concat(n.filter(((e) => !(e in ta))).join(', '))); fa = Ve(n.map(((e) => dE[e]))); }n = Tl = Ya.__global_unique_id__ = (Ya.__global_unique_id__ || 0) + 1; const i = iE(o); r = jE(o); const s = kE(o); const a = lE(n, o); const c = Xs(n, o); const u = c('RTM:DEBUG', '<Entry> '); return Qs.rtmConfig = o, i('The Agora RTM Web SDK version is %s', '1.5.1'), t.enableCloudProxy && i('RTM cloud proxy enabled'), t.enableLogUpload && i('Log upload enabled'), fa && u('Area is set to %s', Array.from(fa.CODES).map(((e) => Yf(S).find(((t) => S[t] === e)))).join(', ')), u('Creating an RtmClient instance'), u('The Git commit ID is "'.concat('v1.5.1-0-g5bbbcd72', '"')), u('The App ID is %s', Yn(e, 4, 10, '*'.repeat(6))), i('The process ID is %s', Og), u('The build is %s', 'v1.5.1-0-g5bbbcd72'), u('NODE_ENV is %s', 'production'), new wF(e, {
        genLogger: c, genTracker: a, info: i, warn: r, logError: s, loggerId: n,
      }, o, ((e) => { for (let t = 0, n = Yf(e); t < n.length; t++) { const r = n[t]; try { const s = e[r]; s != null && (e.enableCloudProxy && i('RTM cloud proxy enabled'), e.enableLogUpload && i('Log upload enabled'), o[r] = s); } catch (e) { throw new ca(['The %s in the arguments is invalid', r], void 0); } } }));
    },
    BUILD: 'v1.5.1-0-g5bbbcd72',
    VERSION: '1.5.1',
    END_CALL_PREFIX: 'AgoraRTMLegacyEndcallCompatibleMessagePrefix',
    processId: Og,
    ConnectionChangeReason: ta.ConnectionChangeReason,
    ConnectionState: ta.ConnectionState,
    LocalInvitationFailureReason: ta.LocalInvitationFailureReason,
    LocalInvitationState: ta.LocalInvitationState,
    RemoteInvitationFailureReason: ta.RemoteInvitationFailureReason,
    RemoteInvitationState: ta.RemoteInvitationState,
    MessageType: ta.MessageType,
    PeerOnlineState: ta.PeerOnlineState,
    PeerSubscriptionOption: ta.PeerSubscriptionOption,
  }, Xt), {}, { setParameter(e, t) { Object.keys(Ec).includes(e) && (Ec[e] = t); }, getParameter(e) { return Ec[e]; }, setArea(e) { const t = e.areaCodes; if (e = e.excludedArea, !Array.isArray(t) || t.length === 0 || !t.every(((e) => e in ta.AreaCode))) throw new ca('Invalid area config'); if (void 0 !== e && e === ta.AreaCode.GLOBAL) throw new ca('Excluded area cannot be global'); if (void 0 === e)fa = Ve(t.map(((e) => S[e]))); else { if (t.includes(e)) throw new ca('Excluded area cannot be in areaCodes'); if (!(e in S)) throw new ca('Invalid excludedArea:', e); fa = Gv({ areas: t.map(((e) => S[e])), excludedArea: S[e] }); } } }); return ue;
})));
